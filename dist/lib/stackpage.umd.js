(function(re,I){typeof exports=="object"&&typeof module<"u"?I(exports,require("react"),require("gridstack"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","gridstack","react-dom"],I):(re=typeof globalThis<"u"?globalThis:re||self,I(re.StackPage={},re.React,re.GridStack,re.ReactDOM))})(this,function(re,I,rt,Fm){"use strict";var Iz=Object.defineProperty;var Mz=(re,I,rt)=>I in re?Iz(re,I,{enumerable:!0,configurable:!0,writable:!0,value:rt}):re[I]=rt;var pe=(re,I,rt)=>Mz(re,typeof I!="symbol"?I+"":I,rt);var Yc=document.createElement("style");Yc.textContent=`.grid-stack{position:relative}.grid-stack-rtl{direction:ltr}.grid-stack-rtl>.grid-stack-item{direction:rtl}.grid-stack-placeholder>.placeholder-content{background-color:#0000001a;margin:0;position:absolute;width:auto;z-index:0!important}.grid-stack>.grid-stack-item{position:absolute;padding:0;top:0;left:0;width:var(--gs-column-width);height:var(--gs-cell-height)}.grid-stack>.grid-stack-item>.grid-stack-item-content{margin:0;position:absolute;width:auto;overflow-x:hidden;overflow-y:auto}.grid-stack>.grid-stack-item.size-to-content:not(.size-to-content-max)>.grid-stack-item-content{overflow-y:hidden}.grid-stack>.grid-stack-item>.grid-stack-item-content,.grid-stack>.grid-stack-placeholder>.placeholder-content{top:var(--gs-item-margin-top);right:var(--gs-item-margin-right);bottom:var(--gs-item-margin-bottom);left:var(--gs-item-margin-left)}.grid-stack-item>.ui-resizable-handle{position:absolute;font-size:.1px;display:block;touch-action:none}.grid-stack-item.ui-resizable-disabled>.ui-resizable-handle,.grid-stack-item.ui-resizable-autohide>.ui-resizable-handle{display:none}.grid-stack-item>.ui-resizable-ne,.grid-stack-item>.ui-resizable-nw,.grid-stack-item>.ui-resizable-se,.grid-stack-item>.ui-resizable-sw{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="%23666" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 20 20"><path d="m10 3 2 2H8l2-2v14l-2-2h4l-2 2"/></svg>');background-repeat:no-repeat;background-position:center}.grid-stack-item>.ui-resizable-ne{transform:rotate(45deg)}.grid-stack-item>.ui-resizable-sw{transform:rotate(45deg)}.grid-stack-item>.ui-resizable-nw{transform:rotate(-45deg)}.grid-stack-item>.ui-resizable-se{transform:rotate(-45deg)}.grid-stack-item>.ui-resizable-nw{cursor:nw-resize;width:20px;height:20px;top:var(--gs-item-margin-top);left:var(--gs-item-margin-left)}.grid-stack-item>.ui-resizable-n{cursor:n-resize;height:10px;top:var(--gs-item-margin-top);left:25px;right:25px}.grid-stack-item>.ui-resizable-ne{cursor:ne-resize;width:20px;height:20px;top:var(--gs-item-margin-top);right:var(--gs-item-margin-right)}.grid-stack-item>.ui-resizable-e{cursor:e-resize;width:10px;top:15px;bottom:15px;right:var(--gs-item-margin-right)}.grid-stack-item>.ui-resizable-se{cursor:se-resize;width:20px;height:20px;bottom:var(--gs-item-margin-bottom);right:var(--gs-item-margin-right)}.grid-stack-item>.ui-resizable-s{cursor:s-resize;height:10px;left:25px;bottom:var(--gs-item-margin-bottom);right:25px}.grid-stack-item>.ui-resizable-sw{cursor:sw-resize;width:20px;height:20px;bottom:var(--gs-item-margin-bottom);left:var(--gs-item-margin-left)}.grid-stack-item>.ui-resizable-w{cursor:w-resize;width:10px;top:15px;bottom:15px;left:var(--gs-item-margin-left)}.grid-stack-item.ui-draggable-dragging>.ui-resizable-handle{display:none!important}.grid-stack-item.ui-draggable-dragging{will-change:left,top}.grid-stack-item.ui-resizable-resizing{will-change:width,height}.ui-draggable-dragging,.ui-resizable-resizing{z-index:10000}.ui-draggable-dragging>.grid-stack-item-content,.ui-resizable-resizing>.grid-stack-item-content{box-shadow:1px 4px 6px #0003;opacity:.8}.grid-stack-animate,.grid-stack-animate .grid-stack-item{transition:left .3s,top .3s,height .3s,width .3s}.grid-stack-animate .grid-stack-item.ui-draggable-dragging,.grid-stack-animate .grid-stack-item.ui-resizable-resizing,.grid-stack-animate .grid-stack-item.grid-stack-placeholder{transition:left 0s,top 0s,height 0s,width 0s}.grid-stack>.grid-stack-item[gs-y="0"]{top:0}.grid-stack>.grid-stack-item[gs-x="0"]{left:0%}/*! tailwindcss v3.4.10 | MIT License | https://tailwindcss.com
 */*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.-right-2{right:-.5rem}.-top-2{top:-.5rem}.-top-8{top:-2rem}.bottom-0{bottom:0}.bottom-4{bottom:1rem}.bottom-8{bottom:2rem}.bottom-full{bottom:100%}.left-0{left:0}.left-1\\/2,.left-2\\/4{left:50%}.right-0{right:0}.right-4{right:1rem}.right-8{right:2rem}.top-0{top:0}.top-4{top:1rem}.top-full{top:100%}.z-10{z-index:10}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.col-span-2{grid-column:span 2 / span 2}.m-3{margin:.75rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.-mb-1{margin-bottom:-.25rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.mr-2{margin-right:.5rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.size-4{width:1rem;height:1rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-14{height:3.5rem}.h-16{height:4rem}.h-2{height:.5rem}.h-32{height:8rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-8{height:2rem}.h-auto{height:auto}.max-h-32{max-height:8rem}.max-h-48{max-height:12rem}.max-h-\\[90vh\\]{max-height:90vh}.min-h-14{min-height:3.5rem}.min-h-\\[140px\\]{min-height:140px}.min-h-\\[200px\\]{min-height:200px}.min-h-\\[32px\\]{min-height:32px}.min-h-\\[36px\\]{min-height:36px}.min-h-\\[40px\\]{min-height:40px}.min-h-screen{min-height:100vh}.w-1\\/4{width:25%}.w-10{width:2.5rem}.w-12{width:3rem}.w-14{width:3.5rem}.w-16{width:4rem}.w-2{width:.5rem}.w-32{width:8rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-\\[calc\\(100\\%-2rem\\)\\]{width:calc(100% - 2rem)}.min-w-0{min-width:0px}.min-w-\\[128px\\]{min-width:128px}.min-w-\\[200px\\]{min-width:200px}.min-w-\\[32px\\]{min-width:32px}.min-w-\\[85px\\]{min-width:85px}.max-w-2xl{max-width:42rem}.max-w-32{max-width:8rem}.max-w-\\[384px\\]{max-width:384px}.max-w-\\[80px\\]{max-width:80px}.max-w-full{max-width:100%}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.-translate-x-1\\/2,.-translate-x-2\\/4{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate: 45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize{resize:both}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.place-items-center{place-items:center}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-scroll{overflow-x:scroll}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity))}.border-blue-300{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity))}.border-blue-600{--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity))}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity))}.border-red-400{--tw-border-opacity: 1;border-color:rgb(248 113 113 / var(--tw-border-opacity))}.border-red-500{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity))}.border-slate-200{--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.border-yellow-200{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity))}.border-t-black{--tw-border-opacity: 1;border-top-color:rgb(0 0 0 / var(--tw-border-opacity))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-green-50{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity))}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity))}.bg-indigo-600{--tw-bg-opacity: 1;background-color:rgb(79 70 229 / var(--tw-bg-opacity))}.bg-purple-600{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity))}.bg-red-200{--tw-bg-opacity: 1;background-color:rgb(254 202 202 / var(--tw-bg-opacity))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-white\\/50{background-color:#ffffff80}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity))}.bg-yellow-600{--tw-bg-opacity: 1;background-color:rgb(202 138 4 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.from-blue-400{--tw-gradient-from: #60a5fa var(--tw-gradient-from-position);--tw-gradient-to: rgb(96 165 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-50{--tw-gradient-from: #eff6ff var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.to-indigo-50{--tw-gradient-to: #eef2ff var(--tw-gradient-to-position)}.to-purple-500{--tw-gradient-to: #a855f7 var(--tw-gradient-to-position)}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-center{-o-object-position:center;object-position:center}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pt-2{padding-top:.5rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-5xl{font-size:3rem;line-height:1}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity))}.text-orange-600{--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity))}.text-red-300{--tw-text-opacity: 1;color:rgb(252 165 165 / var(--tw-text-opacity))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity))}.text-sky-500{--tw-text-opacity: 1;color:rgb(14 165 233 / var(--tw-text-opacity))}.text-slate-600{--tw-text-opacity: 1;color:rgb(71 85 105 / var(--tw-text-opacity))}.text-slate-700{--tw-text-opacity: 1;color:rgb(51 65 85 / var(--tw-text-opacity))}.text-slate-800{--tw-text-opacity: 1;color:rgb(30 41 59 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-yellow-700{--tw-text-opacity: 1;color:rgb(161 98 7 / var(--tw-text-opacity))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity))}.opacity-0{opacity:0}.opacity-70{opacity:.7}.opacity-90{opacity:.9}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-black\\/5{--tw-shadow-color: rgb(0 0 0 / .05);--tw-shadow: var(--tw-shadow-colored)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-2{outline-width:2px}.outline-offset-1{outline-offset:1px}.outline-blue-400{outline-color:#60a5fa}.ring-2{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-blue-200{--tw-ring-opacity: 1;--tw-ring-color: rgb(191 219 254 / var(--tw-ring-opacity))}.saturate-200{--tw-saturate: saturate(2);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.grid-stack{background:#f0f0f0e6}.grid-stack-item-content{text-align:center;background-color:#c8c8c81a;padding:0!important;overflow:hidden!important;display:flex;flex-direction:column}.grid-stack-item-removing{opacity:.5}.trash{height:100px;background:#ff00001a center center url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjY0cHgiIGhlaWdodD0iNjRweCIgdmlld0JveD0iMCAwIDQzOC41MjkgNDM4LjUyOSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDM4LjUyOSA0MzguNTI5OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTQxNy42ODksNzUuNjU0Yy0xLjcxMS0xLjcwOS0zLjkwMS0yLjU2OC02LjU2My0yLjU2OGgtODguMjI0TDMwMi45MTcsMjUuNDFjLTIuODU0LTcuMDQ0LTcuOTk0LTEzLjA0LTE1LjQxMy0xNy45ODkgICAgQzI4MC4wNzgsMi40NzMsMjcyLjU1NiwwLDI2NC45NDUsMGgtOTEuMzYzYy03LjYxMSwwLTE1LjEzMSwyLjQ3My0yMi41NTQsNy40MjFjLTcuNDI0LDQuOTQ5LTEyLjU2MywxMC45NDQtMTUuNDE5LDE3Ljk4OSAgICBsLTE5Ljk4NSw0Ny42NzZoLTg4LjIyYy0yLjY2NywwLTQuODUzLDAuODU5LTYuNTY3LDIuNTY4Yy0xLjcwOSwxLjcxMy0yLjU2OCwzLjkwMy0yLjU2OCw2LjU2N3YxOC4yNzQgICAgYzAsMi42NjQsMC44NTUsNC44NTQsMi41NjgsNi41NjRjMS43MTQsMS43MTIsMy45MDQsMi41NjgsNi41NjcsMi41NjhoMjcuNDA2djI3MS44YzAsMTUuODAzLDQuNDczLDI5LjI2NiwxMy40MTgsNDAuMzk4ICAgIGM4Ljk0NywxMS4xMzksMTkuNzAxLDE2LjcwMywzMi4yNjQsMTYuNzAzaDIzNy41NDJjMTIuNTY2LDAsMjMuMzE5LTUuNzU2LDMyLjI2NS0xNy4yNjhjOC45NDUtMTEuNTIsMTMuNDE1LTI1LjE3NCwxMy40MTUtNDAuOTcxICAgIFYxMDkuNjI3aDI3LjQxMWMyLjY2MiwwLDQuODUzLTAuODU2LDYuNTYzLTIuNTY4YzEuNzA4LTEuNzA5LDIuNTctMy45LDIuNTctNi41NjRWODIuMjIxICAgIEM0MjAuMjYsNzkuNTU3LDQxOS4zOTcsNzcuMzY3LDQxNy42ODksNzUuNjU0eiBNMTY5LjMwMSwzOS42NzhjMS4zMzEtMS43MTIsMi45NS0yLjc2Miw0Ljg1My0zLjE0aDkwLjUwNCAgICBjMS45MDMsMC4zODEsMy41MjUsMS40Myw0Ljg1NCwzLjE0bDEzLjcwOSwzMy40MDRIMTU1LjMxMUwxNjkuMzAxLDM5LjY3OHogTTM0Ny4xNzMsMzgwLjI5MWMwLDQuMTg2LTAuNjY0LDguMDQyLTEuOTk5LDExLjU2MSAgICBjLTEuMzM0LDMuNTE4LTIuNzE3LDYuMDg4LTQuMTQxLDcuNzA2Yy0xLjQzMSwxLjYyMi0yLjQyMywyLjQyNy0yLjk5OCwyLjQyN0gxMDAuNDkzYy0wLjU3MSwwLTEuNTY1LTAuODA1LTIuOTk2LTIuNDI3ICAgIGMtMS40MjktMS42MTgtMi44MS00LjE4OC00LjE0My03LjcwNmMtMS4zMzEtMy41MTktMS45OTctNy4zNzktMS45OTctMTEuNTYxVjEwOS42MjdoMjU1LjgxNVYzODAuMjkxeiIgZmlsbD0iI2ZmOWNhZSIvPgoJCTxwYXRoIGQ9Ik0xMzcuMDQsMzQ3LjE3MmgxOC4yNzFjMi42NjcsMCw0Ljg1OC0wLjg1NSw2LjU2Ny0yLjU2N2MxLjcwOS0xLjcxOCwyLjU2OC0zLjkwMSwyLjU2OC02LjU3VjE3My41ODEgICAgYzAtMi42NjMtMC44NTktNC44NTMtMi41NjgtNi41NjdjLTEuNzE0LTEuNzA5LTMuODk5LTIuNTY1LTYuNTY3LTIuNTY1SDEzNy4wNGMtMi42NjcsMC00Ljg1NCwwLjg1NS02LjU2NywyLjU2NSAgICBjLTEuNzExLDEuNzE0LTIuNTY4LDMuOTA0LTIuNTY4LDYuNTY3djE2NC40NTRjMCwyLjY2OSwwLjg1NCw0Ljg1MywyLjU2OCw2LjU3QzEzMi4xODYsMzQ2LjMxNiwxMzQuMzczLDM0Ny4xNzIsMTM3LjA0LDM0Ny4xNzJ6IiBmaWxsPSIjZmY5Y2FlIi8+CgkJPHBhdGggZD0iTTIxMC4xMjksMzQ3LjE3MmgxOC4yNzFjMi42NjYsMCw0Ljg1Ni0wLjg1NSw2LjU2NC0yLjU2N2MxLjcxOC0xLjcxOCwyLjU2OS0zLjkwMSwyLjU2OS02LjU3VjE3My41ODEgICAgYzAtMi42NjMtMC44NTItNC44NTMtMi41NjktNi41NjdjLTEuNzA4LTEuNzA5LTMuODk4LTIuNTY1LTYuNTY0LTIuNTY1aC0xOC4yNzFjLTIuNjY0LDAtNC44NTQsMC44NTUtNi41NjcsMi41NjUgICAgYy0xLjcxNCwxLjcxNC0yLjU2OCwzLjkwNC0yLjU2OCw2LjU2N3YxNjQuNDU0YzAsMi42NjksMC44NTQsNC44NTMsMi41NjgsNi41N0MyMDUuMjc0LDM0Ni4zMTYsMjA3LjQ2NSwzNDcuMTcyLDIxMC4xMjksMzQ3LjE3MnogICAgIiBmaWxsPSIjZmY5Y2FlIi8+CgkJPHBhdGggZD0iTTI4My4yMiwzNDcuMTcyaDE4LjI2OGMyLjY2OSwwLDQuODU5LTAuODU1LDYuNTctMi41NjdjMS43MTEtMS43MTgsMi41NjItMy45MDEsMi41NjItNi41N1YxNzMuNTgxICAgIGMwLTIuNjYzLTAuODUyLTQuODUzLTIuNTYyLTYuNTY3Yy0xLjcxMS0xLjcwOS0zLjkwMS0yLjU2NS02LjU3LTIuNTY1SDI4My4yMmMtMi42NywwLTQuODUzLDAuODU1LTYuNTcxLDIuNTY1ICAgIGMtMS43MTEsMS43MTQtMi41NjYsMy45MDQtMi41NjYsNi41Njd2MTY0LjQ1NGMwLDIuNjY5LDAuODU1LDQuODUzLDIuNTY2LDYuNTdDMjc4LjM2NywzNDYuMzE2LDI4MC41NSwzNDcuMTcyLDI4My4yMiwzNDcuMTcyeiIgZmlsbD0iI2ZmOWNhZSIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=) no-repeat}.grid-stack>.grid-stack-item.grid-stack-sub-grid>.grid-stack-item-content{background:#dcdcdce6;top:5px;right:5px;bottom:5px;left:5px}.grid-stack.grid-stack-nested{background:none;position:absolute;top:0;right:0;bottom:0;left:0}.w-full{width:100%}.h-full{height:100%}.grid-stack-item-content{overflow:hidden!important}.widget-header{height:36px;min-height:36px;z-index:10;display:flex;align-items:center;justify-content:space-between;padding:0;background-color:inherit;border-bottom:1px solid #e0e0e0}.grid-stack-item-content>img{max-width:100%;max-height:100%;-o-object-fit:cover;object-fit:cover;aspect-ratio:auto}.gridstack-measured-container{width:100%;height:auto;display:flex;flex-direction:column}.widget-header{background-color:#dcdcdccc}.widget-body{flex:1;min-height:40px;padding:0}.stack-btn-icon{width:16px;height:16px}:root{--stackpage-top-spacing: 60px}.stack-page-container{--stackpage-top-spacing: 60px}.file\\:mr-4::file-selector-button{margin-right:1rem}.file\\:rounded::file-selector-button{border-radius:.25rem}.file\\:border-0::file-selector-button{border-width:0px}.file\\:bg-blue-50::file-selector-button{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity))}.file\\:px-3::file-selector-button{padding-left:.75rem;padding-right:.75rem}.file\\:px-4::file-selector-button{padding-left:1rem;padding-right:1rem}.file\\:py-1::file-selector-button{padding-top:.25rem;padding-bottom:.25rem}.file\\:py-2::file-selector-button{padding-top:.5rem;padding-bottom:.5rem}.file\\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\\:font-semibold::file-selector-button{font-weight:600}.file\\:text-blue-700::file-selector-button{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity))}.last\\:mb-0:last-child{margin-bottom:0}.hover\\:scale-105:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:border-gray-300:hover{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.hover\\:bg-blue-50:hover{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity))}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.hover\\:bg-gray-300:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:bg-gray-600:hover{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}.hover\\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.hover\\:bg-green-50:hover{--tw-bg-opacity: 1;background-color:rgb(240 253 244 / var(--tw-bg-opacity))}.hover\\:bg-green-600:hover{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity))}.hover\\:bg-green-700:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity))}.hover\\:bg-indigo-700:hover{--tw-bg-opacity: 1;background-color:rgb(67 56 202 / var(--tw-bg-opacity))}.hover\\:bg-purple-700:hover{--tw-bg-opacity: 1;background-color:rgb(126 34 206 / var(--tw-bg-opacity))}.hover\\:bg-red-100:hover{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity))}.hover\\:bg-red-50:hover{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity))}.hover\\:bg-red-600:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.hover\\:bg-red-700:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.hover\\:bg-yellow-700:hover{--tw-bg-opacity: 1;background-color:rgb(161 98 7 / var(--tw-bg-opacity))}.hover\\:from-blue-100:hover{--tw-gradient-from: #dbeafe var(--tw-gradient-from-position);--tw-gradient-to: rgb(219 234 254 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.hover\\:to-indigo-100:hover{--tw-gradient-to: #e0e7ff var(--tw-gradient-to-position)}.hover\\:text-blue-800:hover{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity))}.hover\\:text-gray-600:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.hover\\:text-gray-700:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.hover\\:text-red-700:hover{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity))}.hover\\:text-red-800:hover{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity))}.hover\\:shadow-lg:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:shadow-md:hover{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\\:file\\:bg-blue-100::file-selector-button:hover{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity))}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity))}.focus\\:border-transparent:focus{border-color:transparent}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-1:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-300:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(147 197 253 / var(--tw-ring-opacity))}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.disabled\\:bg-gray-400:disabled{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}.disabled\\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\\:block{display:block}.group:hover .group-hover\\:scale-110{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}.group:hover .group-hover\\:animate-bounce{animation:bounce 1s infinite}.group:hover .group-hover\\:text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity))}.group:hover .group-hover\\:opacity-100{opacity:1}@media (min-width: 640px){.sm\\:bottom-6{bottom:1.5rem}.sm\\:mb-0{margin-bottom:0}.sm\\:inline{display:inline}.sm\\:w-\\[calc\\(100\\%-4rem\\)\\]{width:calc(100% - 4rem)}.sm\\:w-auto{width:auto}.sm\\:flex-row{flex-direction:row}.sm\\:justify-between{justify-content:space-between}.sm\\:px-4{padding-left:1rem;padding-right:1rem}.sm\\:py-3{padding-top:.75rem;padding-bottom:.75rem}.sm\\:text-base{font-size:1rem;line-height:1.5rem}.sm\\:text-sm{font-size:.875rem;line-height:1.25rem}}@media (min-width: 768px){.md\\:bottom-8{bottom:2rem}.md\\:h-full{height:100%}.md\\:w-48{width:12rem}.md\\:flex-row{flex-direction:row}.md\\:items-center{align-items:center}.md\\:items-stretch{align-items:stretch}.md\\:rounded-l-lg{border-top-left-radius:.5rem;border-bottom-left-radius:.5rem}.md\\:rounded-t-none{border-top-left-radius:0;border-top-right-radius:0}.md\\:px-6{padding-left:1.5rem;padding-right:1.5rem}.md\\:py-4{padding-top:1rem;padding-bottom:1rem}.md\\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 1024px){.lg\\:overflow-visible{overflow:visible}}@media (prefers-color-scheme: dark){.dark\\:border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}.dark\\:border-slate-700{--tw-border-opacity: 1;border-color:rgb(51 65 85 / var(--tw-border-opacity))}.dark\\:bg-slate-200{--tw-bg-opacity: 1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.dark\\:text-sky-400{--tw-text-opacity: 1;color:rgb(56 189 248 / var(--tw-text-opacity))}.dark\\:text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.dark\\:hover\\:bg-slate-400:hover{--tw-bg-opacity: 1;background-color:rgb(148 163 184 / var(--tw-bg-opacity))}}
/*$vite$:1*/`,document.head.appendChild(Yc);function Rm(e){if(e&&e.__esModule)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const R=Rm(I);var Yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jc={exports:{}},Jn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=R.default,zm=Symbol.for("react.element"),Wm=Symbol.for("react.fragment"),Vm=Object.prototype.hasOwnProperty,Bm=Um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qm={key:!0,ref:!0,__self:!0,__source:!0};function Qc(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Vm.call(t,n)&&!qm.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:zm,type:e,key:i,ref:s,props:a,_owner:Bm.current}}Jn.Fragment=Wm,Jn.jsx=Qc,Jn.jsxs=Qc,Jc.exports=Jn;var d=Jc.exports;const Zc=I.createContext(null);function dr(){const e=I.useContext(Zc);if(!e)throw new Error("useGridStackContext must be used within a GridStackProvider");return e}function Xc({children:e,initialOptions:t}){const[r,n]=I.useState(null),[a,i]=I.useState(()=>{var m;const l=new Map,f=h=>{var y;h.id&&h.content&&l.set(h.id,h),(y=h.subGridOpts)!=null&&y.children&&h.subGridOpts.children.forEach(b=>{f(b)})};return(m=t.children)==null||m.forEach(h=>{f(h)}),l}),s=I.useCallback(l=>{const f=`widget-${Math.random().toString(36).substring(2,15)}`,m=l(f);r==null||r.addWidget({...m,id:f}),i(h=>{const y=new Map(h);return y.set(f,m),y})},[r]),o=I.useCallback(l=>{const f=`sub-grid-${Math.random().toString(36).substring(2,15)}`,m=new Map,h=l(f,y=>{const b=`widget-${Math.random().toString(36).substring(2,15)}`;return m.set(b,y),{...y,id:b}});r==null||r.addWidget({...h,id:f}),i(y=>{const b=new Map(y);return m.forEach((g,p)=>{b.set(p,g)}),b})},[r]),c=I.useCallback(l=>{r==null||r.removeWidget(l),i(f=>{const m=new Map(f);return m.delete(l),m})},[r]),u=I.useCallback(()=>r==null?void 0:r.save(!0,!0,(l,f)=>f),[r]);return d.jsx(Zc.Provider,{value:{initialOptions:t,gridStack:r,addWidget:s,removeWidget:c,addSubGrid:o,saveOptions:u,_gridStack:{value:r,set:n},_rawWidgetMetaMap:{value:a,set:i}},children:e})}const el=I.createContext(null);function Gm(){const e=I.useContext(el);if(!e)throw new Error("useGridStackRenderContext must be used within a GridStackProvider");return e}var Km=typeof Element<"u",Hm=typeof Map=="function",Ym=typeof Set=="function",Jm=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Qn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Qn(e[n],t[n]))return!1;return!0}var i;if(Hm&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!Qn(n.value[1],t.get(n.value[0])))return!1;return!0}if(Ym&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Jm&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(Km&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!Qn(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var Qm=function(t,r){try{return Qn(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const Zm=Jr(Qm),Ee=[];for(let e=0;e<256;++e)Ee.push((e+256).toString(16).slice(1));function Xm(e,t=0){return(Ee[e[t+0]]+Ee[e[t+1]]+Ee[e[t+2]]+Ee[e[t+3]]+"-"+Ee[e[t+4]]+Ee[e[t+5]]+"-"+Ee[e[t+6]]+Ee[e[t+7]]+"-"+Ee[e[t+8]]+Ee[e[t+9]]+"-"+Ee[e[t+10]]+Ee[e[t+11]]+Ee[e[t+12]]+Ee[e[t+13]]+Ee[e[t+14]]+Ee[e[t+15]]).toLowerCase()}let Li;const eg=new Uint8Array(16);function tg(){if(!Li){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Li=crypto.getRandomValues.bind(crypto)}return Li(eg)}const tl={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function rl(e,t,r){var a;if(tl.randomUUID&&!e)return tl.randomUUID();e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??tg();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Xm(n)}const rg=rt.GridStack.prototype.resizeToContent;rt.GridStack.prototype.resizeToContent=function(e){const t=e.querySelector(".grid-stack-item-content");if(t!=null&&t.firstElementChild)return rg.call(this,e)};function nl({children:e,onGridStackDropEvent:t}){const{_gridStack:{value:r,set:n},initialOptions:a}=dr(),i=I.useRef(new Map),s=I.useRef(null),o=I.useRef(a),c=I.useCallback((l,f)=>{f.id&&i.current.set(f.id,l)},[]),u=I.useCallback(()=>{if(s.current){rt.GridStack.renderCB=c;const l=rt.GridStack.init(o.current,s.current);return rt.GridStack.setupDragIn(".grid-stack-item-widget",{appendTo:"body",helper:"clone",scroll:!1}),l.on("dropped",function(f,m,h){if(console.log("dropped....",h),h){const y=h.el,b=y.dataset.gsType;if(b&&t){const g={name:b,id:rl(),x:h.x||0,y:h.y||0,w:b==="SubGrid"?12:4,h:b==="SubGrid"?6:4};t(g),l.removeWidget(y,!0)}}}),l}return null},[c,t]);return I.useLayoutEffect(()=>{if(!Zm(a,o.current)&&r)try{r.removeAll(!1),r.destroy(!1),i.current.clear(),o.current=a,n(u())}catch(l){console.error("Error reinitializing gridstack",l)}},[a,r,u,n]),I.useLayoutEffect(()=>{if(!r)try{n(u())}catch(l){console.error("Error initializing gridstack",l)}},[r,u,n]),d.jsx(el.Provider,{value:I.useMemo(()=>({getWidgetContainer:l=>i.current.get(l)||null}),[r]),children:d.jsx("div",{ref:s,children:r?e:null})})}const al=I.createContext(null);function ng(){const e=I.useContext(al);if(!e)throw new Error("useGridStackWidgetContext must be used within a GridStackWidgetProvider");return e}function ag({widgetId:e}){const{removeWidget:t}=dr(),[r,n]=R.useState(!1),[a,i]=R.useState({top:0,left:0}),s=R.useRef(null),o=l=>{if(l.stopPropagation(),s.current){const f=s.current.getBoundingClientRect();i({top:f.bottom+window.scrollY,left:f.left+window.scrollX})}n(!r)},c=()=>{n(!1)},u=()=>{var f;t(e);const l=document.querySelector(`[gs-id="${e}"]`);l&&((f=l.gridstackNode)!=null&&f.grid)&&l.gridstackNode.grid.removeWidget(l,!0,!0),c()};return R.useEffect(()=>{const l=f=>{r&&n(!1)};return document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}},[r]),d.jsxs("div",{className:"flex justify-end size-4",children:[d.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",children:d.jsxs("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),d.jsx("button",{ref:s,onClick:o,className:"p-1 hover:bg-gray-200 rounded transition-colors","aria-haspopup":"true","aria-expanded":r,children:d.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),r&&d.jsx("div",{className:"fixed z-50 mt-1 w-32 bg-white rounded-md shadow-lg border border-gray-200 py-1",style:{top:`${a.top}px`,left:`${a.left}px`,transform:"translateX(-100%)"},onClick:l=>l.stopPropagation(),children:d.jsxs("button",{onClick:u,className:"flex items-center w-full px-3 py-2 text-sm text-red-600 hover:bg-gray-100 transition-colors",children:[d.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})})]})}function ig({widgetId:e,children:t}){const r=I.useRef(null);return I.useEffect(()=>{var o;const n=r.current;if(!n)return;const a=n.closest(".grid-stack-item");if(!a||!((o=a.gridstackNode)!=null&&o.grid))return;const i=()=>{var u,l;const c=a.querySelector(".grid-stack-item-content");c!=null&&c.firstElementChild&&a.gridstackNode&&a.gridstackNode.grid&&((l=(u=a.gridstackNode)==null?void 0:u.grid)==null||l.resizeToContent(a))},s=new ResizeObserver(()=>i());return s.observe(n),i(),()=>s.disconnect()},[e]),d.jsx("div",{ref:r,className:"gridstack-measured-container",style:{width:"100%"},children:t})}function sg(e){let t=null,r="",n={};try{if(e.content){const a=JSON.parse(e.content);r=a.name,n=a.props}}catch(a){t=a}return{name:r,props:n,error:t}}function og({id:e,meta:t,WidgetComponent:r,widgetContainer:n,showMenubar:a,isSelected:i=!1,onWidgetSelect:s,componentProps:o}){const c=sg(t),u=o||c.props,l=(u==null?void 0:u.title)||`Widget ${e.slice(0,4)}`,f=h=>{s&&s({id:e,name:c.name,props:u})},m=d.jsx(ig,{widgetId:e,children:d.jsxs("div",{className:`h-full w-full ${i?"outline outline-2 outline-blue-400 outline-offset-1":""}`,onClick:f,children:[a&&d.jsxs("div",{className:"widget-header flex items-center justify-between bg-gray-100 border-b px-2 min-h-[36px]",children:[d.jsx("div",{className:"font-medium truncate text-sm px-1",children:l}),d.jsx(ag,{widgetId:e})]}),d.jsxs("div",{className:"widget-body flex-1 min-h-[40px] cursor-pointer",children:[d.jsx(r,{...u})," "]})]})});return d.jsx(al.Provider,{value:{widget:{id:e}},children:Fm.createPortal(m,n)})}const Fi=I.createContext(void 0),Qr=()=>{const e=I.useContext(Fi);if(!e)throw new Error("useStackPage must be used within a StackPageProvider");return e},il=()=>{const e=I.useContext(Fi);if(!e)throw new Error("useStackPageWidgetProps must be used within a StackPageProvider");return{widgetProps:e.widgetProps,updateWidgetProps:e.updateWidgetProps}};function cg(e){let t=null,r="",n={};try{if(e.content){const a=JSON.parse(e.content);r=a.name,n=a.props}}catch(a){t=a}return{name:r,props:n,error:t}}function sl({componentMap:e,showMenubar:t=!1,onWidgetSelect:r}){const{_rawWidgetMetaMap:n}=dr(),{getWidgetContainer:a}=Gm(),{widgetProps:i}=il(),{selectedInstance:s}=Qr();return d.jsxs(d.Fragment,{children:[Array.from(n.value.entries()).length===0&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 p-8 text-center",children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Drag Components Here"}),d.jsx("p",{className:"text-sm",children:"Drag components from the Components tab in the right panel to start building your layout"})]}),Array.from(n.value.entries()).map(([o,c])=>{const{name:u,props:l}=cg(c),f=e[u],m=a(o),h=i.get(o)||l;return!f||!m?null:d.jsx(og,{id:o,meta:c,WidgetComponent:f,widgetContainer:m,showMenubar:t,isSelected:o===(s==null?void 0:s.id),onWidgetSelect:r,componentProps:h},o)})]})}const ol=I.createContext(void 0),lg=()=>{const e=I.useContext(ol);if(!e)throw new Error("useLocale must be used within a LocaleProvider");return e},ug=({children:e,defaultLocale:t="en-US"})=>{const[r,n]=I.useState(t);return d.jsx(ol.Provider,{value:{locale:r,setLocale:n},children:e})};function dg({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const cl=R.forwardRef(dg);function fg({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const pg=R.forwardRef(fg);function hg({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const ll=R.forwardRef(hg);function mg({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const ul=R.forwardRef(mg);function gg({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const dl=R.forwardRef(gg);function yg({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const bg=R.forwardRef(yg);function vg({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const wg=R.forwardRef(vg);function $g({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const xg=R.forwardRef($g);function _g({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Sg=R.forwardRef(_g);function jg({title:e,titleId:t,...r},n){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?R.createElement("title",{id:t},e):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ng=R.forwardRef(jg);function Eg({content:e}){return d.jsx("div",{className:"flex items-start p-2 bg-white border rounded shadow-sm text-left",children:d.jsx("div",{children:d.jsx("p",{className:"text-sm",children:e})})})}const Ri="1rem",Ui=[{c:1,w:500},{c:3,w:800},{c:6,w:1024}],zi={acceptWidgets:!0,removable:"#trash",sizeToContent:!0,resizable:{handles:"se"},minRow:10,columnOpts:{breakpointForWindow:!0,breakpoints:Ui,layout:"moveScale",columnMax:12},margin:5,cellHeight:Ri,subGridDynamic:!0,subGridOpts:{acceptWidgets:!0,removable:"#trash",resizable:{handles:"se"},sizeToContent:!0,subGridDynamic:!0,columnOpts:{breakpoints:Ui,layout:"moveScale"},margin:5,minRow:1,cellHeight:Ri},children:[]},Og={acceptWidgets:!0,removable:"#trash",resizable:{handles:"se"},sizeToContent:!0,subGridDynamic:!0,subGridOpts:{acceptWidgets:!0,removable:"#trash",resizable:{handles:"se"},sizeToContent:!0,columnOpts:{breakpoints:Ui,layout:"moveScale"},margin:5,minRow:6,cellHeight:Ri,children:[]},children:[]},Zn=()=>({id:`${rl()}`,title:"untitled page",grids:zi}),fl={Text:{content:"Any content other than text are what we call cards. Cards can be accessed by clicking the  button or typing / at the beginning of a paragraph.\nEven better, continue typing to find the card you're looking for, hit enter, and avoid dragging your mouse altogether.\nSome cards have a handy little shortcut, to keep you on track and in flow. Use --- to divide your paragraphs with a line, or ``` to add a code block. You can also drag and drop images directly into the editor to bypass the menu. \nAny content other than text are what we call cards. Cards can be accessed by clicking the  button or typing / at the beginning of a paragraph.",title:"This is text card"}},pl={Text:Eg},hl=e=>{if(e){const t=e();return{...pl,...t}}return pl},Cg=e=>{if(e){const t=e();return{...fl,...t}}return fl},Tg=I.forwardRef((e,t)=>{const{addWidget:r,addSubGrid:n,saveOptions:a,_rawWidgetMetaMap:i}=dr();return I.useImperativeHandle(t,()=>({saveLayout:()=>a(),addWidget:r,addSubGrid:n,rawWidgetMetaMap:i})),null});function Ag({pageInfo:e}){const[t,r]=I.useState(void 0);return I.useEffect(()=>{e&&r(e)},[e]),d.jsx("div",{children:d.jsx("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(2, 1fr)"},children:d.jsx("div",{id:"pageinfo",children:d.jsx("pre",{style:{backgroundColor:"#f3f4f6",padding:"1rem",borderRadius:"0.25rem",overflow:"auto"},children:JSON.stringify(t||{},null,2)})})})})}function Pg({isOpen:e,pageInfo:t,resetOpenInfo:r}){const[n,a]=R.useState(!1);R.useEffect(()=>{},[e,t]);const i=()=>{r(!1)},s=()=>{var c;navigator.clipboard.writeText(((c=document.getElementById("pageinfo"))==null?void 0:c.innerText)||""),a(!0),setTimeout(()=>{a(!1)},3e3)},o=c=>{c.target===c.currentTarget&&i()};return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:o,children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0",children:[d.jsx("h2",{className:"text-lg font-semibold truncate mr-2",children:"Page Information"}),d.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[d.jsxs("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex items-center relative","aria-label":"Copy page info",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),n&&d.jsx("span",{className:"absolute -top-8 -right-2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:"copied"})]}),d.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:d.jsx(Ag,{pageInfo:t})}),d.jsx("div",{className:"flex justify-end p-4 border-t flex-shrink-0",children:d.jsx("button",{onClick:i,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 transition-colors w-full sm:w-auto",autoFocus:!0,children:"Close"})})]})}):null}function kg({children:e}){const[t,r]=I.useState(null),[n,a]=I.useState(null),[i,s]=I.useState({margin:"5",padding:"10px",background:"#ffffff",showMenubar:!0,image:"",tag:"",status:"draft"}),[o,c]=I.useState("components"),[u,l]=I.useState(new Map),f=I.useCallback((h,y)=>{l(b=>{const g=new Map(b);return g.set(h,y),g})},[]),m={selectedComponent:t,setSelectedComponent:r,selectedInstance:n,setSelectedInstance:a,pageAttributes:i,setPageAttributes:s,activeTab:o,setActiveTab:c,widgetProps:u,updateWidgetProps:f};return d.jsx(Fi.Provider,{value:m,children:e})}function ae(e){return typeof e!="object"||e===null||typeof e.lastModified=="number"&&typeof File<"u"&&e instanceof File||typeof e.getMonth=="function"&&typeof Date<"u"&&e instanceof Date?!1:!Array.isArray(e)}function Ig(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),ae(e.additionalItems)}function ml(e){if(e==="")return;if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e)||/\.\d*0$/.test(e))return e;const t=Number(e);return typeof t=="number"&&!Number.isNaN(t)?t:e}const Zr="__additional_property",Wi="additionalProperties",fr="allOf",He="anyOf",mt="const",Mg="default",Xn="dependencies",Dg="enum",Le="__errors",Ct="$id",Lg="if",Tt="items",Fg="_$junk_option_schema_id$_",ea="$name",Fe="oneOf",$e="properties",Rg="required",ta="submitButtonOptions",Se="$ref",Vi="__rjsf_additionalProperties",gl="__rjsf_rootSchema",Ug="ui:field",Bi="ui:widget",Xr="ui:options",zg="ui:globalOptions";function ie(e={},t={}){return Object.keys(e).filter(r=>r.indexOf("ui:")===0).reduce((r,n)=>{const a=e[n];return n===Bi&&ae(a)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),r):n===Xr&&ae(a)?{...r,...a}:{...r,[n.substring(3)]:a}},{...t})}function Wg(e,t={},r){if(!e.additionalProperties)return!1;const{expandable:n=!0}=ie(t);return n===!1?n:e.maxProperties!==void 0&&r?Object.keys(r).length<e.maxProperties:!0}var yl=typeof global=="object"&&global&&global.Object===Object&&global,Vg=typeof self=="object"&&self&&self.Object===Object&&self,nt=yl||Vg||Function("return this")(),We=nt.Symbol,bl=Object.prototype,Bg=bl.hasOwnProperty,qg=bl.toString,en=We?We.toStringTag:void 0;function Gg(e){var t=Bg.call(e,en),r=e[en];try{e[en]=void 0;var n=!0}catch{}var a=qg.call(e);return n&&(t?e[en]=r:delete e[en]),a}var Kg=Object.prototype,Hg=Kg.toString;function Yg(e){return Hg.call(e)}var Jg="[object Null]",Qg="[object Undefined]",vl=We?We.toStringTag:void 0;function gt(e){return e==null?e===void 0?Qg:Jg:vl&&vl in Object(e)?Gg(e):Yg(e)}function wl(e,t){return function(r){return e(t(r))}}var ra=wl(Object.getPrototypeOf,Object);function Ve(e){return e!=null&&typeof e=="object"}var Zg="[object Object]",Xg=Function.prototype,ey=Object.prototype,$l=Xg.toString,ty=ey.hasOwnProperty,ry=$l.call(Object);function Ut(e){if(!Ve(e)||gt(e)!=Zg)return!1;var t=ra(e);if(t===null)return!0;var r=ty.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&$l.call(r)==ry}function na(e){const t={[Le]:[],addError(r){this[Le].push(r)}};if(Array.isArray(e))return e.reduce((r,n,a)=>({...r,[a]:na(n)}),t);if(Ut(e)){const r=e;return Object.keys(r).reduce((n,a)=>({...n,[a]:na(r[a])}),t)}return t}function ny(){this.__data__=[],this.size=0}function tn(e,t){return e===t||e!==e&&t!==t}function aa(e,t){for(var r=e.length;r--;)if(tn(e[r][0],t))return r;return-1}var ay=Array.prototype,iy=ay.splice;function sy(e){var t=this.__data__,r=aa(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():iy.call(t,r,1),--this.size,!0}function oy(e){var t=this.__data__,r=aa(t,e);return r<0?void 0:t[r][1]}function cy(e){return aa(this.__data__,e)>-1}function ly(e,t){var r=this.__data__,n=aa(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function yt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yt.prototype.clear=ny,yt.prototype.delete=sy,yt.prototype.get=oy,yt.prototype.has=cy,yt.prototype.set=ly;function uy(){this.__data__=new yt,this.size=0}function dy(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function fy(e){return this.__data__.get(e)}function py(e){return this.__data__.has(e)}function he(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hy="[object AsyncFunction]",my="[object Function]",gy="[object GeneratorFunction]",yy="[object Proxy]";function ia(e){if(!he(e))return!1;var t=gt(e);return t==my||t==gy||t==hy||t==yy}var qi=nt["__core-js_shared__"],xl=function(){var e=/[^.]+$/.exec(qi&&qi.keys&&qi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function by(e){return!!xl&&xl in e}var vy=Function.prototype,wy=vy.toString;function zt(e){if(e!=null){try{return wy.call(e)}catch{}try{return e+""}catch{}}return""}var $y=/[\\^$.*+?()[\]{}|]/g,xy=/^\[object .+?Constructor\]$/,_y=Function.prototype,Sy=Object.prototype,jy=_y.toString,Ny=Sy.hasOwnProperty,Ey=RegExp("^"+jy.call(Ny).replace($y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Oy(e){if(!he(e)||by(e))return!1;var t=ia(e)?Ey:xy;return t.test(zt(e))}function Cy(e,t){return e==null?void 0:e[t]}function Wt(e,t){var r=Cy(e,t);return Oy(r)?r:void 0}var rn=Wt(nt,"Map"),nn=Wt(Object,"create");function Ty(){this.__data__=nn?nn(null):{},this.size=0}function Ay(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Py="__lodash_hash_undefined__",ky=Object.prototype,Iy=ky.hasOwnProperty;function My(e){var t=this.__data__;if(nn){var r=t[e];return r===Py?void 0:r}return Iy.call(t,e)?t[e]:void 0}var Dy=Object.prototype,Ly=Dy.hasOwnProperty;function Fy(e){var t=this.__data__;return nn?t[e]!==void 0:Ly.call(t,e)}var Ry="__lodash_hash_undefined__";function Uy(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nn&&t===void 0?Ry:t,this}function Vt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vt.prototype.clear=Ty,Vt.prototype.delete=Ay,Vt.prototype.get=My,Vt.prototype.has=Fy,Vt.prototype.set=Uy;function zy(){this.size=0,this.__data__={hash:new Vt,map:new(rn||yt),string:new Vt}}function Wy(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function sa(e,t){var r=e.__data__;return Wy(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Vy(e){var t=sa(this,e).delete(e);return this.size-=t?1:0,t}function By(e){return sa(this,e).get(e)}function qy(e){return sa(this,e).has(e)}function Gy(e,t){var r=sa(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function bt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bt.prototype.clear=zy,bt.prototype.delete=Vy,bt.prototype.get=By,bt.prototype.has=qy,bt.prototype.set=Gy;var Ky=200;function Hy(e,t){var r=this.__data__;if(r instanceof yt){var n=r.__data__;if(!rn||n.length<Ky-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new bt(n)}return r.set(e,t),this.size=r.size,this}function Ye(e){var t=this.__data__=new yt(e);this.size=t.size}Ye.prototype.clear=uy,Ye.prototype.delete=dy,Ye.prototype.get=fy,Ye.prototype.has=py,Ye.prototype.set=Hy;var Yy="__lodash_hash_undefined__";function Jy(e){return this.__data__.set(e,Yy),this}function Qy(e){return this.__data__.has(e)}function pr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new bt;++t<r;)this.add(e[t])}pr.prototype.add=pr.prototype.push=Jy,pr.prototype.has=Qy;function Zy(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Gi(e,t){return e.has(t)}var Xy=1,e0=2;function _l(e,t,r,n,a,i){var s=r&Xy,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;var f=-1,m=!0,h=r&e0?new pr:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var y=e[f],b=t[f];if(n)var g=s?n(b,y,f,t,e,i):n(y,b,f,e,t,i);if(g!==void 0){if(g)continue;m=!1;break}if(h){if(!Zy(t,function(p,v){if(!Gi(h,v)&&(y===p||a(y,p,r,n,i)))return h.push(v)})){m=!1;break}}else if(!(y===b||a(y,b,r,n,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var oa=nt.Uint8Array;function t0(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function Ki(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var r0=1,n0=2,a0="[object Boolean]",i0="[object Date]",s0="[object Error]",o0="[object Map]",c0="[object Number]",l0="[object RegExp]",u0="[object Set]",d0="[object String]",f0="[object Symbol]",p0="[object ArrayBuffer]",h0="[object DataView]",Sl=We?We.prototype:void 0,Hi=Sl?Sl.valueOf:void 0;function m0(e,t,r,n,a,i,s){switch(r){case h0:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case p0:return!(e.byteLength!=t.byteLength||!i(new oa(e),new oa(t)));case a0:case i0:case c0:return tn(+e,+t);case s0:return e.name==t.name&&e.message==t.message;case l0:case d0:return e==t+"";case o0:var o=t0;case u0:var c=n&r0;if(o||(o=Ki),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=n0,s.set(e,t);var l=_l(o(e),o(t),n,a,i,s);return s.delete(e),l;case f0:if(Hi)return Hi.call(e)==Hi.call(t)}return!1}function Yi(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var je=Array.isArray;function jl(e,t,r){var n=t(e);return je(e)?n:Yi(n,r(e))}function g0(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}function Nl(){return[]}var y0=Object.prototype,b0=y0.propertyIsEnumerable,El=Object.getOwnPropertySymbols,Ji=El?function(e){return e==null?[]:(e=Object(e),g0(El(e),function(t){return b0.call(e,t)}))}:Nl;function Ol(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var v0="[object Arguments]";function Cl(e){return Ve(e)&&gt(e)==v0}var Tl=Object.prototype,w0=Tl.hasOwnProperty,$0=Tl.propertyIsEnumerable,hr=Cl(function(){return arguments}())?Cl:function(e){return Ve(e)&&w0.call(e,"callee")&&!$0.call(e,"callee")};function x0(){return!1}var Al=typeof re=="object"&&re&&!re.nodeType&&re,Pl=Al&&typeof module=="object"&&module&&!module.nodeType&&module,_0=Pl&&Pl.exports===Al,kl=_0?nt.Buffer:void 0,S0=kl?kl.isBuffer:void 0,Bt=S0||x0,j0=9007199254740991,N0=/^(?:0|[1-9]\d*)$/;function ca(e,t){var r=typeof e;return t=t??j0,!!t&&(r=="number"||r!="symbol"&&N0.test(e))&&e>-1&&e%1==0&&e<t}var E0=9007199254740991;function Qi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=E0}var O0="[object Arguments]",C0="[object Array]",T0="[object Boolean]",A0="[object Date]",P0="[object Error]",k0="[object Function]",I0="[object Map]",M0="[object Number]",D0="[object Object]",L0="[object RegExp]",F0="[object Set]",R0="[object String]",U0="[object WeakMap]",z0="[object ArrayBuffer]",W0="[object DataView]",V0="[object Float32Array]",B0="[object Float64Array]",q0="[object Int8Array]",G0="[object Int16Array]",K0="[object Int32Array]",H0="[object Uint8Array]",Y0="[object Uint8ClampedArray]",J0="[object Uint16Array]",Q0="[object Uint32Array]",ye={};ye[V0]=ye[B0]=ye[q0]=ye[G0]=ye[K0]=ye[H0]=ye[Y0]=ye[J0]=ye[Q0]=!0,ye[O0]=ye[C0]=ye[z0]=ye[T0]=ye[W0]=ye[A0]=ye[P0]=ye[k0]=ye[I0]=ye[M0]=ye[D0]=ye[L0]=ye[F0]=ye[R0]=ye[U0]=!1;function Z0(e){return Ve(e)&&Qi(e.length)&&!!ye[gt(e)]}function Zi(e){return function(t){return e(t)}}var Il=typeof re=="object"&&re&&!re.nodeType&&re,an=Il&&typeof module=="object"&&module&&!module.nodeType&&module,X0=an&&an.exports===Il,Xi=X0&&yl.process,mr=function(){try{var e=an&&an.require&&an.require("util").types;return e||Xi&&Xi.binding&&Xi.binding("util")}catch{}}(),Ml=mr&&mr.isTypedArray,sn=Ml?Zi(Ml):Z0,eb=Object.prototype,tb=eb.hasOwnProperty;function Dl(e,t){var r=je(e),n=!r&&hr(e),a=!r&&!n&&Bt(e),i=!r&&!n&&!a&&sn(e),s=r||n||a||i,o=s?Ol(e.length,String):[],c=o.length;for(var u in e)(t||tb.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ca(u,c)))&&o.push(u);return o}var rb=Object.prototype;function la(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||rb;return e===r}var nb=wl(Object.keys,Object),ab=Object.prototype,ib=ab.hasOwnProperty;function Ll(e){if(!la(e))return nb(e);var t=[];for(var r in Object(e))ib.call(e,r)&&r!="constructor"&&t.push(r);return t}function gr(e){return e!=null&&Qi(e.length)&&!ia(e)}function at(e){return gr(e)?Dl(e):Ll(e)}function es(e){return jl(e,at,Ji)}var sb=1,ob=Object.prototype,cb=ob.hasOwnProperty;function lb(e,t,r,n,a,i){var s=r&sb,o=es(e),c=o.length,u=es(t),l=u.length;if(c!=l&&!s)return!1;for(var f=c;f--;){var m=o[f];if(!(s?m in t:cb.call(t,m)))return!1}var h=i.get(e),y=i.get(t);if(h&&y)return h==t&&y==e;var b=!0;i.set(e,t),i.set(t,e);for(var g=s;++f<c;){m=o[f];var p=e[m],v=t[m];if(n)var w=s?n(v,p,m,t,e,i):n(p,v,m,e,t,i);if(!(w===void 0?p===v||a(p,v,r,n,i):w)){b=!1;break}g||(g=m=="constructor")}if(b&&!g){var x=e.constructor,_=t.constructor;x!=_&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof _=="function"&&_ instanceof _)&&(b=!1)}return i.delete(e),i.delete(t),b}var ts=Wt(nt,"DataView"),rs=Wt(nt,"Promise"),yr=Wt(nt,"Set"),ns=Wt(nt,"WeakMap"),Fl="[object Map]",ub="[object Object]",Rl="[object Promise]",Ul="[object Set]",zl="[object WeakMap]",Wl="[object DataView]",db=zt(ts),fb=zt(rn),pb=zt(rs),hb=zt(yr),mb=zt(ns),Be=gt;(ts&&Be(new ts(new ArrayBuffer(1)))!=Wl||rn&&Be(new rn)!=Fl||rs&&Be(rs.resolve())!=Rl||yr&&Be(new yr)!=Ul||ns&&Be(new ns)!=zl)&&(Be=function(e){var t=gt(e),r=t==ub?e.constructor:void 0,n=r?zt(r):"";if(n)switch(n){case db:return Wl;case fb:return Fl;case pb:return Rl;case hb:return Ul;case mb:return zl}return t});var gb=1,Vl="[object Arguments]",Bl="[object Array]",ua="[object Object]",yb=Object.prototype,ql=yb.hasOwnProperty;function bb(e,t,r,n,a,i){var s=je(e),o=je(t),c=s?Bl:Be(e),u=o?Bl:Be(t);c=c==Vl?ua:c,u=u==Vl?ua:u;var l=c==ua,f=u==ua,m=c==u;if(m&&Bt(e)){if(!Bt(t))return!1;s=!0,l=!1}if(m&&!l)return i||(i=new Ye),s||sn(e)?_l(e,t,r,n,a,i):m0(e,t,c,r,n,a,i);if(!(r&gb)){var h=l&&ql.call(e,"__wrapped__"),y=f&&ql.call(t,"__wrapped__");if(h||y){var b=h?e.value():e,g=y?t.value():t;return i||(i=new Ye),a(b,g,r,n,i)}}return m?(i||(i=new Ye),lb(e,t,r,n,a,i)):!1}function da(e,t,r,n,a){return e===t?!0:e==null||t==null||!Ve(e)&&!Ve(t)?e!==e&&t!==t:bb(e,t,r,n,da,a)}function vb(e,t,r){r=typeof r=="function"?r:void 0;var n=r?r(e,t):void 0;return n===void 0?da(e,t,void 0,r):!!n}function be(e,t){return vb(e,t,(r,n)=>{if(typeof r=="function"&&typeof n=="function")return!0})}var wb="[object Symbol]";function on(e){return typeof e=="symbol"||Ve(e)&&gt(e)==wb}var $b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xb=/^\w*$/;function as(e,t){if(je(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||on(e)?!0:xb.test(e)||!$b.test(e)||t!=null&&e in Object(t)}var _b="Expected a function";function is(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_b);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(is.Cache||bt),r}is.Cache=bt;var Sb=500;function jb(e){var t=is(e,function(n){return r.size===Sb&&r.clear(),n}),r=t.cache;return t}var Nb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Eb=/\\(\\)?/g,Gl=jb(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nb,function(r,n,a,i){t.push(a?i.replace(Eb,"$1"):n||r)}),t});function fa(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Kl=We?We.prototype:void 0,Hl=Kl?Kl.toString:void 0;function Yl(e){if(typeof e=="string")return e;if(je(e))return fa(e,Yl)+"";if(on(e))return Hl?Hl.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ss(e){return e==null?"":Yl(e)}function br(e,t){return je(e)?e:as(e,t)?[e]:Gl(ss(e))}function qt(e){if(typeof e=="string"||on(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function pa(e,t){t=br(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[qt(t[r++])];return r&&r==n?e:void 0}function q(e,t,r){var n=e==null?void 0:pa(e,t);return n===void 0?r:n}var Ob="[object Map]",Cb="[object Set]",Tb=Object.prototype,Ab=Tb.hasOwnProperty;function vr(e){if(e==null)return!0;if(gr(e)&&(je(e)||typeof e=="string"||typeof e.splice=="function"||Bt(e)||sn(e)||hr(e)))return!e.length;var t=Be(e);if(t==Ob||t==Cb)return!e.size;if(la(e))return!Ll(e).length;for(var r in e)if(Ab.call(e,r))return!1;return!0}var ha={},Pb=/~/,kb=/~[01]/g;function Ib(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function Jl(e){return Pb.test(e)?e.replace(kb,Ib):e}function Mb(e,t,r){for(var n,a,i=1,s=t.length;i<s;){if(t[i]==="constructor"||t[i]==="prototype"||t[i]==="__proto__")return e;if(n=Jl(t[i++]),a=s>i,typeof e[n]>"u"&&(Array.isArray(e)&&n==="-"&&(n=e.length),a&&(t[i]!==""&&t[i]<1/0||t[i]==="-"?e[n]=[]:e[n]={})),!a)break;e=e[n]}var o=e[n];return r===void 0?delete e[n]:e[n]=r,o}function os(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function Ql(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=os(t);var r=t.length;if(r===1)return e;for(var n=1;n<r;){if(e=e[Jl(t[n++])],r===n)return e;if(typeof e!="object"||e===null)return}}function Zl(e,t,r){if(typeof e!="object")throw new Error("Invalid input object.");if(t=os(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return Mb(e,t,r)}function Db(e){var t=os(e);return{get:function(r){return Ql(r,t)},set:function(r,n){return Zl(r,t,n)}}}ha.get=Ql,ha.set=Zl,ha.compile=Db;function cs(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var ma=function(){try{var e=Wt(Object,"defineProperty");return e({},"",{}),e}catch{}}();function ls(e,t,r){t=="__proto__"&&ma?ma(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Lb=Object.prototype,Fb=Lb.hasOwnProperty;function us(e,t,r){var n=e[t];(!(Fb.call(e,t)&&tn(n,r))||r===void 0&&!(t in e))&&ls(e,t,r)}function wr(e,t,r,n){var a=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],c=void 0;c===void 0&&(c=e[o]),a?ls(r,o,c):us(r,o,c)}return r}function Rb(e,t){return e&&wr(t,at(t),e)}function Ub(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var zb=Object.prototype,Wb=zb.hasOwnProperty;function Vb(e){if(!he(e))return Ub(e);var t=la(e),r=[];for(var n in e)n=="constructor"&&(t||!Wb.call(e,n))||r.push(n);return r}function cn(e){return gr(e)?Dl(e,!0):Vb(e)}function Bb(e,t){return e&&wr(t,cn(t),e)}var Xl=typeof re=="object"&&re&&!re.nodeType&&re,eu=Xl&&typeof module=="object"&&module&&!module.nodeType&&module,qb=eu&&eu.exports===Xl,tu=qb?nt.Buffer:void 0,ru=tu?tu.allocUnsafe:void 0;function nu(e,t){if(t)return e.slice();var r=e.length,n=ru?ru(r):new e.constructor(r);return e.copy(n),n}function ds(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function Gb(e,t){return wr(e,Ji(e),t)}var Kb=Object.getOwnPropertySymbols,au=Kb?function(e){for(var t=[];e;)Yi(t,Ji(e)),e=ra(e);return t}:Nl;function Hb(e,t){return wr(e,au(e),t)}function fs(e){return jl(e,cn,au)}var Yb=Object.prototype,Jb=Yb.hasOwnProperty;function Qb(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Jb.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function ps(e){var t=new e.constructor(e.byteLength);return new oa(t).set(new oa(e)),t}function Zb(e,t){var r=t?ps(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Xb=/\w*$/;function ev(e){var t=new e.constructor(e.source,Xb.exec(e));return t.lastIndex=e.lastIndex,t}var iu=We?We.prototype:void 0,su=iu?iu.valueOf:void 0;function tv(e){return su?Object(su.call(e)):{}}function ou(e,t){var r=t?ps(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var rv="[object Boolean]",nv="[object Date]",av="[object Map]",iv="[object Number]",sv="[object RegExp]",ov="[object Set]",cv="[object String]",lv="[object Symbol]",uv="[object ArrayBuffer]",dv="[object DataView]",fv="[object Float32Array]",pv="[object Float64Array]",hv="[object Int8Array]",mv="[object Int16Array]",gv="[object Int32Array]",yv="[object Uint8Array]",bv="[object Uint8ClampedArray]",vv="[object Uint16Array]",wv="[object Uint32Array]";function $v(e,t,r){var n=e.constructor;switch(t){case uv:return ps(e);case rv:case nv:return new n(+e);case dv:return Zb(e,r);case fv:case pv:case hv:case mv:case gv:case yv:case bv:case vv:case wv:return ou(e,r);case av:return new n;case iv:case cv:return new n(e);case sv:return ev(e);case ov:return new n;case lv:return tv(e)}}var cu=Object.create,lu=function(){function e(){}return function(t){if(!he(t))return{};if(cu)return cu(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function uu(e){return typeof e.constructor=="function"&&!la(e)?lu(ra(e)):{}}var xv="[object Map]";function _v(e){return Ve(e)&&Be(e)==xv}var du=mr&&mr.isMap,Sv=du?Zi(du):_v,jv="[object Set]";function Nv(e){return Ve(e)&&Be(e)==jv}var fu=mr&&mr.isSet,Ev=fu?Zi(fu):Nv,Ov=1,Cv=2,Tv=4,pu="[object Arguments]",Av="[object Array]",Pv="[object Boolean]",kv="[object Date]",Iv="[object Error]",hu="[object Function]",Mv="[object GeneratorFunction]",Dv="[object Map]",Lv="[object Number]",mu="[object Object]",Fv="[object RegExp]",Rv="[object Set]",Uv="[object String]",zv="[object Symbol]",Wv="[object WeakMap]",Vv="[object ArrayBuffer]",Bv="[object DataView]",qv="[object Float32Array]",Gv="[object Float64Array]",Kv="[object Int8Array]",Hv="[object Int16Array]",Yv="[object Int32Array]",Jv="[object Uint8Array]",Qv="[object Uint8ClampedArray]",Zv="[object Uint16Array]",Xv="[object Uint32Array]",me={};me[pu]=me[Av]=me[Vv]=me[Bv]=me[Pv]=me[kv]=me[qv]=me[Gv]=me[Kv]=me[Hv]=me[Yv]=me[Dv]=me[Lv]=me[mu]=me[Fv]=me[Rv]=me[Uv]=me[zv]=me[Jv]=me[Qv]=me[Zv]=me[Xv]=!0,me[Iv]=me[hu]=me[Wv]=!1;function ln(e,t,r,n,a,i){var s,o=t&Ov,c=t&Cv,u=t&Tv;if(r&&(s=a?r(e,n,a,i):r(e)),s!==void 0)return s;if(!he(e))return e;var l=je(e);if(l){if(s=Qb(e),!o)return ds(e,s)}else{var f=Be(e),m=f==hu||f==Mv;if(Bt(e))return nu(e,o);if(f==mu||f==pu||m&&!a){if(s=c||m?{}:uu(e),!o)return c?Hb(e,Bb(s,e)):Gb(e,Rb(s,e))}else{if(!me[f])return a?e:{};s=$v(e,f,o)}}i||(i=new Ye);var h=i.get(e);if(h)return h;i.set(e,s),Ev(e)?e.forEach(function(g){s.add(ln(g,t,r,g,e,i))}):Sv(e)&&e.forEach(function(g,p){s.set(p,ln(g,t,r,p,e,i))});var y=u?c?fs:es:c?cn:at,b=l?void 0:y(e);return cs(b||e,function(g,p){b&&(p=g,g=e[p]),us(s,p,ln(g,t,r,p,e,i))}),s}function ew(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function tw(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}function rw(e,t){return t.length<2?e:pa(e,tw(t,0,-1))}function gu(e,t){return t=br(t,e),e=rw(e,t),e==null||delete e[qt(ew(t))]}function nw(e){return Ut(e)?void 0:e}var yu=We?We.isConcatSpreadable:void 0;function aw(e){return je(e)||hr(e)||!!(yu&&e&&e[yu])}function un(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=aw),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?un(o,t-1,r,n,a):Yi(a,o):n||(a[a.length]=o)}return a}function iw(e){var t=e==null?0:e.length;return t?un(e,1):[]}function sw(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var bu=Math.max;function vu(e,t,r){return t=bu(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=bu(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),sw(e,this,o)}}function ow(e){return function(){return e}}function ga(e){return e}var cw=ma?function(e,t){return ma(e,"toString",{configurable:!0,enumerable:!1,value:ow(t),writable:!0})}:ga,lw=800,uw=16,dw=Date.now;function fw(e){var t=0,r=0;return function(){var n=dw(),a=uw-(n-r);if(r=n,a>0){if(++t>=lw)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var wu=fw(cw);function $u(e){return wu(vu(e,void 0,iw),e+"")}var pw=1,hw=2,mw=4,ya=$u(function(e,t){var r={};if(e==null)return r;var n=!1;t=fa(t,function(i){return i=br(i,e),n||(n=i.length>1),i}),wr(e,fs(e),r),n&&(r=ln(r,pw|hw|mw,nw));for(var a=t.length;a--;)gu(r,t[a]);return r});function hs(e,t){const r=t[e];return[ya(t,[e]),r]}function xu(e,t={},r=[]){const n=e||"";let a;if(n.startsWith("#"))a=decodeURIComponent(n.substring(1));else throw new Error(`Could not find a definition for ${e}.`);const i=ha.get(t,a);if(i===void 0)throw new Error(`Could not find a definition for ${e}.`);const s=i[Se];if(s){if(r.includes(s)){if(r.length===1)throw new Error(`Definition for ${e} is a circular reference`);const[l,...f]=r,m=[...f,n,l].join(" -> ");throw new Error(`Definition for ${l} contains a circular reference through ${m}`)}const[o,c]=hs(Se,i),u=xu(c,t,[...r,n]);return Object.keys(o).length>0?{...o,...u}:u}return i}function _u(e,t={}){return xu(e,t,[])}var gw=Object.prototype,yw=gw.hasOwnProperty;function bw(e,t){return e!=null&&yw.call(e,t)}function Su(e,t,r){t=br(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=qt(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Qi(a)&&ca(s,a)&&(je(e)||hr(e)))}function Pe(e,t){return e!=null&&Su(e,t,bw)}var vw="[object Number]";function ju(e){return typeof e=="number"||Ve(e)&&gt(e)==vw}var ww="[object String]";function ba(e){return typeof e=="string"||!je(e)&&Ve(e)&&gt(e)==ww}function $w(e,t,r,n){var a=-1,i=e==null?0:e.length;for(n&&i&&(r=e[++a]);++a<i;)r=t(r,e[a],a,e);return r}function xw(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var c=s[++a];if(r(i[c],c,i)===!1)break}return t}}var Nu=xw();function Eu(e,t){return e&&Nu(e,t,at)}function _w(e,t){return function(r,n){if(r==null)return r;if(!gr(r))return e(r,n);for(var a=r.length,i=-1,s=Object(r);++i<a&&n(s[i],i,s)!==!1;);return r}}var Ou=_w(Eu),Sw=1,jw=2;function Nw(e,t,r,n){var a=r.length,i=a;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var o=s[0],c=e[o],u=s[1];if(s[2]){if(c===void 0&&!(o in e))return!1}else{var l=new Ye,f;if(!(f===void 0?da(u,c,Sw|jw,n,l):f))return!1}}return!0}function Cu(e){return e===e&&!he(e)}function Ew(e){for(var t=at(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Cu(a)]}return t}function Tu(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function Ow(e){var t=Ew(e);return t.length==1&&t[0][2]?Tu(t[0][0],t[0][1]):function(r){return r===e||Nw(r,e,t)}}function Cw(e,t){return e!=null&&t in Object(e)}function Au(e,t){return e!=null&&Su(e,t,Cw)}var Tw=1,Aw=2;function Pw(e,t){return as(e)&&Cu(t)?Tu(qt(e),t):function(r){var n=q(r,e);return n===void 0&&n===t?Au(r,e):da(t,n,Tw|Aw)}}function kw(e){return function(t){return t==null?void 0:t[e]}}function Iw(e){return function(t){return pa(t,e)}}function Mw(e){return as(e)?kw(qt(e)):Iw(e)}function ms(e){return typeof e=="function"?e:e==null?ga:typeof e=="object"?je(e)?Pw(e[0],e[1]):Ow(e):Mw(e)}function Dw(e,t,r,n,a){return a(e,function(i,s,o){r=n?(n=!1,i):t(r,i,s,o)}),r}function Lw(e,t,r){var n=je(e)?$w:Dw,a=arguments.length<3;return n(e,ms(t),r,a,Ou)}function Pu(e){return typeof e=="function"?e:ga}var Fw=/\s/;function Rw(e){for(var t=e.length;t--&&Fw.test(e.charAt(t)););return t}var Uw=/^\s+/;function zw(e){return e&&e.slice(0,Rw(e)+1).replace(Uw,"")}var ku=NaN,Ww=/^[-+]0x[0-9a-f]+$/i,Vw=/^0b[01]+$/i,Bw=/^0o[0-7]+$/i,qw=parseInt;function Gw(e){if(typeof e=="number")return e;if(on(e))return ku;if(he(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=he(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=zw(e);var r=Vw.test(e);return r||Bw.test(e)?qw(e.slice(2),r?2:8):Ww.test(e)?ku:+e}var Iu=1/0,Kw=17976931348623157e292;function Hw(e){if(!e)return e===0?e:0;if(e=Gw(e),e===Iu||e===-Iu){var t=e<0?-1:1;return t*Kw}return e===e?e:0}function Yw(e){var t=Hw(e),r=t%1;return t===t?r?t-r:t:0}var Jw=9007199254740991,gs=4294967295,Qw=Math.min;function Mu(e,t){if(e=Yw(e),e<1||e>Jw)return[];var r=gs,n=Qw(e,gs);t=Pu(t),e-=gs;for(var a=Ol(n,t);++r<e;)t(r);return a}function Du(e,t,r){var n;if(e&&r){const a=q(e,r);if(a===void 0)return;for(let i=0;i<t.length;i++){const s=t[i],o=q(s,[$e,r],{});if(!(o.type==="object"||o.type==="array")&&(o.const===a||!((n=o.enum)===null||n===void 0)&&n.includes(a)))return i}}}function Lu(e,t,r,n,a){if(t===void 0)return 0;const i=Du(t,r,a);if(ju(i))return i;for(let s=0;s<r.length;s++){const o=r[s];if(a&&Pe(o,[$e,a])){const c=q(t,a),u=q(o,[$e,a],{});if(e.isValid(u,c,n))return s}else if(o[$e]){const c={anyOf:Object.keys(o[$e]).map(l=>({required:[l]}))};let u;if(o.anyOf){const{...l}=o;l.allOf?l.allOf=l.allOf.slice():l.allOf=[],l.allOf.push(c),u=l}else u=Object.assign({},o,c);if(delete u.required,e.isValid(u,t,n))return s}else if(e.isValid(o,t,n))return s}return 0}function ys(e,t,r,n,a){return Lu(e,t,r,n,a)}function bs(e,t,r,n){if(!he(e))return e;t=br(t,e);for(var a=-1,i=t.length,s=i-1,o=e;o!=null&&++a<i;){var c=qt(t[a]),u=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(a!=s){var l=o[c];u=n?n(l,c,o):void 0,u===void 0&&(u=he(l)?l:ca(t[a+1])?[]:{})}us(o,c,u),o=o[c]}return e}function Oe(e,t,r){return e==null?e:bs(e,t,r)}function Zw(e,t,r){var n=je(e),a=n||Bt(e)||sn(e);if(t=ms(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:he(e)?r=ia(i)?lu(ra(e)):{}:r={}}return(a?cs:Eu)(e,function(s,o,c){return t(r,s,o,c)}),r}function vs(e,t,r){(r!==void 0&&!tn(e[t],r)||r===void 0&&!(t in e))&&ls(e,t,r)}function va(e){return Ve(e)&&gr(e)}function ws(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Xw(e){return wr(e,cn(e))}function e$(e,t,r,n,a,i,s){var o=ws(e,r),c=ws(t,r),u=s.get(c);if(u){vs(e,r,u);return}var l=i?i(o,c,r+"",e,t,s):void 0,f=l===void 0;if(f){var m=je(c),h=!m&&Bt(c),y=!m&&!h&&sn(c);l=c,m||h||y?je(o)?l=o:va(o)?l=ds(o):h?(f=!1,l=nu(c,!0)):y?(f=!1,l=ou(c,!0)):l=[]:Ut(c)||hr(c)?(l=o,hr(o)?l=Xw(o):(!he(o)||ia(o))&&(l=uu(c))):f=!1}f&&(s.set(c,l),a(l,c,n,i,s),s.delete(c)),vs(e,r,l)}function Fu(e,t,r,n,a){e!==t&&Nu(t,function(i,s){if(a||(a=new Ye),he(i))e$(e,t,s,r,Fu,n,a);else{var o=n?n(ws(e,s),i,s+"",e,t,a):void 0;o===void 0&&(o=i),vs(e,s,o)}},cn)}function $s(e,t){return wu(vu(e,t,ga),e+"")}function t$(e,t,r){if(!he(r))return!1;var n=typeof t;return(n=="number"?gr(r)&&ca(t,r.length):n=="string"&&t in r)?tn(r[t],e):!1}function r$(e){return $s(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,s&&t$(r[0],r[1],s)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var o=r[n];o&&e(t,o,n,i)}return t})}var n$=r$(function(e,t,r){Fu(e,t,r)}),a$=1/0;function i$(e){var t=e==null?0:e.length;return t?un(e,a$):[]}function s$(e,t,r,n){for(var a=e.length,i=r+-1;++i<a;)if(t(e[i],i,e))return i;return-1}function o$(e){return e!==e}function c$(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}function l$(e,t,r){return t===t?c$(e,t,r):s$(e,o$,r)}function Ru(e,t){var r=e==null?0:e.length;return!!r&&l$(e,t,0)>-1}function u$(){}var d$=1/0,f$=yr&&1/Ki(new yr([,-0]))[1]==d$?function(e){return new yr(e)}:u$,p$=200;function Uu(e,t,r){var n=-1,a=Ru,i=e.length,s=!0,o=[],c=o;if(i>=p$){var u=f$(e);if(u)return Ki(u);s=!1,a=Gi,c=new pr}else c=o;e:for(;++n<i;){var l=e[n],f=l;if(l=l!==0?l:0,s&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;o.push(l)}else a(c,f,r)||(c!==o&&c.push(f),o.push(l))}return o}function h$(e){return e&&e.length?Uu(e):[]}function m$(){this.__data__=[],this.size=0}var g$=m$;function y$(e,t){return e===t||e!==e&&t!==t}var $r=y$,b$=$r;function v$(e,t){for(var r=e.length;r--;)if(b$(e[r][0],t))return r;return-1}var wa=v$,w$=wa,$$=Array.prototype,x$=$$.splice;function _$(e){var t=this.__data__,r=w$(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():x$.call(t,r,1),--this.size,!0}var S$=_$,j$=wa;function N$(e){var t=this.__data__,r=j$(t,e);return r<0?void 0:t[r][1]}var E$=N$,O$=wa;function C$(e){return O$(this.__data__,e)>-1}var T$=C$,A$=wa;function P$(e,t){var r=this.__data__,n=A$(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var k$=P$,I$=g$,M$=S$,D$=E$,L$=T$,F$=k$;function xr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xr.prototype.clear=I$,xr.prototype.delete=M$,xr.prototype.get=D$,xr.prototype.has=L$,xr.prototype.set=F$;var $a=xr,R$=$a;function U$(){this.__data__=new R$,this.size=0}var z$=U$;function W$(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var V$=W$;function B$(e){return this.__data__.get(e)}var q$=B$;function G$(e){return this.__data__.has(e)}var K$=G$,H$=typeof Yn=="object"&&Yn&&Yn.Object===Object&&Yn,zu=H$,Y$=zu,J$=typeof self=="object"&&self&&self.Object===Object&&self,Q$=Y$||J$||Function("return this")(),it=Q$,Z$=it,X$=Z$.Symbol,_r=X$,Wu=_r,Vu=Object.prototype,e1=Vu.hasOwnProperty,t1=Vu.toString,dn=Wu?Wu.toStringTag:void 0;function r1(e){var t=e1.call(e,dn),r=e[dn];try{e[dn]=void 0;var n=!0}catch{}var a=t1.call(e);return n&&(t?e[dn]=r:delete e[dn]),a}var n1=r1,a1=Object.prototype,i1=a1.toString;function s1(e){return i1.call(e)}var o1=s1,Bu=_r,c1=n1,l1=o1,u1="[object Null]",d1="[object Undefined]",qu=Bu?Bu.toStringTag:void 0;function f1(e){return e==null?e===void 0?d1:u1:qu&&qu in Object(e)?c1(e):l1(e)}var Gt=f1;function p1(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var st=p1,h1=Gt,m1=st,g1="[object AsyncFunction]",y1="[object Function]",b1="[object GeneratorFunction]",v1="[object Proxy]";function w1(e){if(!m1(e))return!1;var t=h1(e);return t==y1||t==b1||t==g1||t==v1}var xs=w1,$1=it,x1=$1["__core-js_shared__"],_1=x1,_s=_1,Gu=function(){var e=/[^.]+$/.exec(_s&&_s.keys&&_s.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function S1(e){return!!Gu&&Gu in e}var j1=S1,N1=Function.prototype,E1=N1.toString;function O1(e){if(e!=null){try{return E1.call(e)}catch{}try{return e+""}catch{}}return""}var Ku=O1,C1=xs,T1=j1,A1=st,P1=Ku,k1=/[\\^$.*+?()[\]{}|]/g,I1=/^\[object .+?Constructor\]$/,M1=Function.prototype,D1=Object.prototype,L1=M1.toString,F1=D1.hasOwnProperty,R1=RegExp("^"+L1.call(F1).replace(k1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U1(e){if(!A1(e)||T1(e))return!1;var t=C1(e)?R1:I1;return t.test(P1(e))}var z1=U1;function W1(e,t){return e==null?void 0:e[t]}var V1=W1,B1=z1,q1=V1;function G1(e,t){var r=q1(e,t);return B1(r)?r:void 0}var Kt=G1,K1=Kt,H1=it,Y1=K1(H1,"Map"),Ss=Y1,J1=Kt,Q1=J1(Object,"create"),xa=Q1,Hu=xa;function Z1(){this.__data__=Hu?Hu(null):{},this.size=0}var X1=Z1;function ex(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tx=ex,rx=xa,nx="__lodash_hash_undefined__",ax=Object.prototype,ix=ax.hasOwnProperty;function sx(e){var t=this.__data__;if(rx){var r=t[e];return r===nx?void 0:r}return ix.call(t,e)?t[e]:void 0}var ox=sx,cx=xa,lx=Object.prototype,ux=lx.hasOwnProperty;function dx(e){var t=this.__data__;return cx?t[e]!==void 0:ux.call(t,e)}var fx=dx,px=xa,hx="__lodash_hash_undefined__";function mx(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=px&&t===void 0?hx:t,this}var gx=mx,yx=X1,bx=tx,vx=ox,wx=fx,$x=gx;function Sr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sr.prototype.clear=yx,Sr.prototype.delete=bx,Sr.prototype.get=vx,Sr.prototype.has=wx,Sr.prototype.set=$x;var xx=Sr,Yu=xx,_x=$a,Sx=Ss;function jx(){this.size=0,this.__data__={hash:new Yu,map:new(Sx||_x),string:new Yu}}var Nx=jx;function Ex(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ox=Ex,Cx=Ox;function Tx(e,t){var r=e.__data__;return Cx(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _a=Tx,Ax=_a;function Px(e){var t=Ax(this,e).delete(e);return this.size-=t?1:0,t}var kx=Px,Ix=_a;function Mx(e){return Ix(this,e).get(e)}var Dx=Mx,Lx=_a;function Fx(e){return Lx(this,e).has(e)}var Rx=Fx,Ux=_a;function zx(e,t){var r=Ux(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Wx=zx,Vx=Nx,Bx=kx,qx=Dx,Gx=Rx,Kx=Wx;function jr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jr.prototype.clear=Vx,jr.prototype.delete=Bx,jr.prototype.get=qx,jr.prototype.has=Gx,jr.prototype.set=Kx;var js=jr,Hx=$a,Yx=Ss,Jx=js,Qx=200;function Zx(e,t){var r=this.__data__;if(r instanceof Hx){var n=r.__data__;if(!Yx||n.length<Qx-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Jx(n)}return r.set(e,t),this.size=r.size,this}var Xx=Zx,e_=$a,t_=z$,r_=V$,n_=q$,a_=K$,i_=Xx;function Nr(e){var t=this.__data__=new e_(e);this.size=t.size}Nr.prototype.clear=t_,Nr.prototype.delete=r_,Nr.prototype.get=n_,Nr.prototype.has=a_,Nr.prototype.set=i_;var Sa=Nr;function s_(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Ju=s_,o_=Kt,c_=function(){try{var e=o_(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Qu=c_,Zu=Qu;function l_(e,t,r){t=="__proto__"&&Zu?Zu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ns=l_,u_=Ns,d_=$r,f_=Object.prototype,p_=f_.hasOwnProperty;function h_(e,t,r){var n=e[t];(!(p_.call(e,t)&&d_(n,r))||r===void 0&&!(t in e))&&u_(e,t,r)}var Xu=h_,m_=Xu,g_=Ns;function y_(e,t,r,n){var a=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],c=n?n(r[o],e[o],o,r,e):void 0;c===void 0&&(c=e[o]),a?g_(r,o,c):m_(r,o,c)}return r}var fn=y_;function b_(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var v_=b_;function w_(e){return e!=null&&typeof e=="object"}var ot=w_,$_=Gt,x_=ot,__="[object Arguments]";function S_(e){return x_(e)&&$_(e)==__}var j_=S_,ed=j_,N_=ot,td=Object.prototype,E_=td.hasOwnProperty,O_=td.propertyIsEnumerable,C_=ed(function(){return arguments}())?ed:function(e){return N_(e)&&E_.call(e,"callee")&&!O_.call(e,"callee")},ja=C_,T_=Array.isArray,Re=T_,Na={exports:{}};function A_(){return!1}var P_=A_;Na.exports,function(e,t){var r=it,n=P_,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u}(Na,Na.exports);var Ea=Na.exports,k_=9007199254740991,I_=/^(?:0|[1-9]\d*)$/;function M_(e,t){var r=typeof e;return t=t??k_,!!t&&(r=="number"||r!="symbol"&&I_.test(e))&&e>-1&&e%1==0&&e<t}var Es=M_,D_=9007199254740991;function L_(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=D_}var Os=L_,F_=Gt,R_=Os,U_=ot,z_="[object Arguments]",W_="[object Array]",V_="[object Boolean]",B_="[object Date]",q_="[object Error]",G_="[object Function]",K_="[object Map]",H_="[object Number]",Y_="[object Object]",J_="[object RegExp]",Q_="[object Set]",Z_="[object String]",X_="[object WeakMap]",e2="[object ArrayBuffer]",t2="[object DataView]",r2="[object Float32Array]",n2="[object Float64Array]",a2="[object Int8Array]",i2="[object Int16Array]",s2="[object Int32Array]",o2="[object Uint8Array]",c2="[object Uint8ClampedArray]",l2="[object Uint16Array]",u2="[object Uint32Array]",ve={};ve[r2]=ve[n2]=ve[a2]=ve[i2]=ve[s2]=ve[o2]=ve[c2]=ve[l2]=ve[u2]=!0,ve[z_]=ve[W_]=ve[e2]=ve[V_]=ve[t2]=ve[B_]=ve[q_]=ve[G_]=ve[K_]=ve[H_]=ve[Y_]=ve[J_]=ve[Q_]=ve[Z_]=ve[X_]=!1;function d2(e){return U_(e)&&R_(e.length)&&!!ve[F_(e)]}var f2=d2;function p2(e){return function(t){return e(t)}}var Ht=p2,Oa={exports:{}};Oa.exports,function(e,t){var r=zu,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o}(Oa,Oa.exports);var Cs=Oa.exports,h2=f2,m2=Ht,rd=Cs,nd=rd&&rd.isTypedArray,g2=nd?m2(nd):h2,Ts=g2,y2=v_,b2=ja,v2=Re,w2=Ea,$2=Es,x2=Ts,_2=Object.prototype,S2=_2.hasOwnProperty;function j2(e,t){var r=v2(e),n=!r&&b2(e),a=!r&&!n&&w2(e),i=!r&&!n&&!a&&x2(e),s=r||n||a||i,o=s?y2(e.length,String):[],c=o.length;for(var u in e)(t||S2.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$2(u,c)))&&o.push(u);return o}var ad=j2,N2=Object.prototype;function E2(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||N2;return e===r}var As=E2;function O2(e,t){return function(r){return e(t(r))}}var id=O2,C2=id,T2=C2(Object.keys,Object),A2=T2,P2=As,k2=A2,I2=Object.prototype,M2=I2.hasOwnProperty;function D2(e){if(!P2(e))return k2(e);var t=[];for(var r in Object(e))M2.call(e,r)&&r!="constructor"&&t.push(r);return t}var L2=D2,F2=xs,R2=Os;function U2(e){return e!=null&&R2(e.length)&&!F2(e)}var Er=U2,z2=ad,W2=L2,V2=Er;function B2(e){return V2(e)?z2(e):W2(e)}var pn=B2,q2=fn,G2=pn;function K2(e,t){return e&&q2(t,G2(t),e)}var H2=K2;function Y2(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var J2=Y2,Q2=st,Z2=As,X2=J2,eS=Object.prototype,tS=eS.hasOwnProperty;function rS(e){if(!Q2(e))return X2(e);var t=Z2(e),r=[];for(var n in e)n=="constructor"&&(t||!tS.call(e,n))||r.push(n);return r}var nS=rS,aS=ad,iS=nS,sS=Er;function oS(e){return sS(e)?aS(e,!0):iS(e)}var Or=oS,cS=fn,lS=Or;function uS(e,t){return e&&cS(t,lS(t),e)}var dS=uS,Ca={exports:{}};Ca.exports,function(e,t){var r=it,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(u,l){if(l)return u.slice();var f=u.length,m=o?o(f):new u.constructor(f);return u.copy(m),m}e.exports=c}(Ca,Ca.exports);var sd=Ca.exports;function fS(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Ps=fS;function pS(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var hS=pS;function mS(){return[]}var od=mS,gS=hS,yS=od,bS=Object.prototype,vS=bS.propertyIsEnumerable,cd=Object.getOwnPropertySymbols,wS=cd?function(e){return e==null?[]:(e=Object(e),gS(cd(e),function(t){return vS.call(e,t)}))}:yS,ks=wS,$S=fn,xS=ks;function _S(e,t){return $S(e,xS(e),t)}var SS=_S;function jS(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Is=jS,NS=id,ES=NS(Object.getPrototypeOf,Object),Ms=ES,OS=Is,CS=Ms,TS=ks,AS=od,PS=Object.getOwnPropertySymbols,kS=PS?function(e){for(var t=[];e;)OS(t,TS(e)),e=CS(e);return t}:AS,ld=kS,IS=fn,MS=ld;function DS(e,t){return IS(e,MS(e),t)}var LS=DS,FS=Is,RS=Re;function US(e,t,r){var n=t(e);return RS(e)?n:FS(n,r(e))}var ud=US,zS=ud,WS=ks,VS=pn;function BS(e){return zS(e,VS,WS)}var dd=BS,qS=ud,GS=ld,KS=Or;function HS(e){return qS(e,KS,GS)}var YS=HS,JS=Kt,QS=it,ZS=JS(QS,"DataView"),XS=ZS,ej=Kt,tj=it,rj=ej(tj,"Promise"),nj=rj,aj=Kt,ij=it,sj=aj(ij,"Set"),fd=sj,oj=Kt,cj=it,lj=oj(cj,"WeakMap"),uj=lj,Ds=XS,Ls=Ss,Fs=nj,Rs=fd,Us=uj,pd=Gt,Cr=Ku,hd="[object Map]",dj="[object Object]",md="[object Promise]",gd="[object Set]",yd="[object WeakMap]",bd="[object DataView]",fj=Cr(Ds),pj=Cr(Ls),hj=Cr(Fs),mj=Cr(Rs),gj=Cr(Us),Yt=pd;(Ds&&Yt(new Ds(new ArrayBuffer(1)))!=bd||Ls&&Yt(new Ls)!=hd||Fs&&Yt(Fs.resolve())!=md||Rs&&Yt(new Rs)!=gd||Us&&Yt(new Us)!=yd)&&(Yt=function(e){var t=pd(e),r=t==dj?e.constructor:void 0,n=r?Cr(r):"";if(n)switch(n){case fj:return bd;case pj:return hd;case hj:return md;case mj:return gd;case gj:return yd}return t});var Ta=Yt,yj=Object.prototype,bj=yj.hasOwnProperty;function vj(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&bj.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var wj=vj,$j=it,xj=$j.Uint8Array,vd=xj,wd=vd;function _j(e){var t=new e.constructor(e.byteLength);return new wd(t).set(new wd(e)),t}var zs=_j,Sj=zs;function jj(e,t){var r=t?Sj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Nj=jj,Ej=/\w*$/;function Oj(e){var t=new e.constructor(e.source,Ej.exec(e));return t.lastIndex=e.lastIndex,t}var Cj=Oj,$d=_r,xd=$d?$d.prototype:void 0,_d=xd?xd.valueOf:void 0;function Tj(e){return _d?Object(_d.call(e)):{}}var Aj=Tj,Pj=zs;function kj(e,t){var r=t?Pj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Sd=kj,Ij=zs,Mj=Nj,Dj=Cj,Lj=Aj,Fj=Sd,Rj="[object Boolean]",Uj="[object Date]",zj="[object Map]",Wj="[object Number]",Vj="[object RegExp]",Bj="[object Set]",qj="[object String]",Gj="[object Symbol]",Kj="[object ArrayBuffer]",Hj="[object DataView]",Yj="[object Float32Array]",Jj="[object Float64Array]",Qj="[object Int8Array]",Zj="[object Int16Array]",Xj="[object Int32Array]",eN="[object Uint8Array]",tN="[object Uint8ClampedArray]",rN="[object Uint16Array]",nN="[object Uint32Array]";function aN(e,t,r){var n=e.constructor;switch(t){case Kj:return Ij(e);case Rj:case Uj:return new n(+e);case Hj:return Mj(e,r);case Yj:case Jj:case Qj:case Zj:case Xj:case eN:case tN:case rN:case nN:return Fj(e,r);case zj:return new n;case Wj:case qj:return new n(e);case Vj:return Dj(e);case Bj:return new n;case Gj:return Lj(e)}}var iN=aN,sN=st,jd=Object.create,oN=function(){function e(){}return function(t){if(!sN(t))return{};if(jd)return jd(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),cN=oN,lN=cN,uN=Ms,dN=As;function fN(e){return typeof e.constructor=="function"&&!dN(e)?lN(uN(e)):{}}var Nd=fN,pN=Ta,hN=ot,mN="[object Map]";function gN(e){return hN(e)&&pN(e)==mN}var yN=gN,bN=yN,vN=Ht,Ed=Cs,Od=Ed&&Ed.isMap,wN=Od?vN(Od):bN,$N=wN,xN=Ta,_N=ot,SN="[object Set]";function jN(e){return _N(e)&&xN(e)==SN}var NN=jN,EN=NN,ON=Ht,Cd=Cs,Td=Cd&&Cd.isSet,CN=Td?ON(Td):EN,TN=CN,AN=Sa,PN=Ju,kN=Xu,IN=H2,MN=dS,DN=sd,LN=Ps,FN=SS,RN=LS,UN=dd,zN=YS,WN=Ta,VN=wj,BN=iN,qN=Nd,GN=Re,KN=Ea,HN=$N,YN=st,JN=TN,QN=pn,ZN=Or,XN=1,eE=2,tE=4,Ad="[object Arguments]",rE="[object Array]",nE="[object Boolean]",aE="[object Date]",iE="[object Error]",Pd="[object Function]",sE="[object GeneratorFunction]",oE="[object Map]",cE="[object Number]",kd="[object Object]",lE="[object RegExp]",uE="[object Set]",dE="[object String]",fE="[object Symbol]",pE="[object WeakMap]",hE="[object ArrayBuffer]",mE="[object DataView]",gE="[object Float32Array]",yE="[object Float64Array]",bE="[object Int8Array]",vE="[object Int16Array]",wE="[object Int32Array]",$E="[object Uint8Array]",xE="[object Uint8ClampedArray]",_E="[object Uint16Array]",SE="[object Uint32Array]",ge={};ge[Ad]=ge[rE]=ge[hE]=ge[mE]=ge[nE]=ge[aE]=ge[gE]=ge[yE]=ge[bE]=ge[vE]=ge[wE]=ge[oE]=ge[cE]=ge[kd]=ge[lE]=ge[uE]=ge[dE]=ge[fE]=ge[$E]=ge[xE]=ge[_E]=ge[SE]=!0,ge[iE]=ge[Pd]=ge[pE]=!1;function Aa(e,t,r,n,a,i){var s,o=t&XN,c=t&eE,u=t&tE;if(r&&(s=a?r(e,n,a,i):r(e)),s!==void 0)return s;if(!YN(e))return e;var l=GN(e);if(l){if(s=VN(e),!o)return LN(e,s)}else{var f=WN(e),m=f==Pd||f==sE;if(KN(e))return DN(e,o);if(f==kd||f==Ad||m&&!a){if(s=c||m?{}:qN(e),!o)return c?RN(e,MN(s,e)):FN(e,IN(s,e))}else{if(!ge[f])return a?e:{};s=BN(e,f,o)}}i||(i=new AN);var h=i.get(e);if(h)return h;i.set(e,s),JN(e)?e.forEach(function(g){s.add(Aa(g,t,r,g,e,i))}):HN(e)&&e.forEach(function(g,p){s.set(p,Aa(g,t,r,p,e,i))});var y=u?c?zN:UN:c?ZN:QN,b=l?void 0:y(e);return PN(b||e,function(g,p){b&&(p=g,g=e[p]),kN(s,p,Aa(g,t,r,p,e,i))}),s}var jE=Aa,NE=jE,EE=1,OE=4;function CE(e){return NE(e,EE|OE)}var TE=CE,AE="__lodash_hash_undefined__";function PE(e){return this.__data__.set(e,AE),this}var kE=PE;function IE(e){return this.__data__.has(e)}var ME=IE,DE=js,LE=kE,FE=ME;function Pa(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new DE;++t<r;)this.add(e[t])}Pa.prototype.add=Pa.prototype.push=LE,Pa.prototype.has=FE;var ka=Pa;function RE(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var UE=RE;function zE(e,t){return e.has(t)}var Ia=zE,WE=ka,VE=UE,BE=Ia,qE=1,GE=2;function KE(e,t,r,n,a,i){var s=r&qE,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;var f=-1,m=!0,h=r&GE?new WE:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var y=e[f],b=t[f];if(n)var g=s?n(b,y,f,t,e,i):n(y,b,f,e,t,i);if(g!==void 0){if(g)continue;m=!1;break}if(h){if(!VE(t,function(p,v){if(!BE(h,v)&&(y===p||a(y,p,r,n,i)))return h.push(v)})){m=!1;break}}else if(!(y===b||a(y,b,r,n,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var Id=KE;function HE(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var YE=HE;function JE(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ws=JE,Md=_r,Dd=vd,QE=$r,ZE=Id,XE=YE,eO=Ws,tO=1,rO=2,nO="[object Boolean]",aO="[object Date]",iO="[object Error]",sO="[object Map]",oO="[object Number]",cO="[object RegExp]",lO="[object Set]",uO="[object String]",dO="[object Symbol]",fO="[object ArrayBuffer]",pO="[object DataView]",Ld=Md?Md.prototype:void 0,Vs=Ld?Ld.valueOf:void 0;function hO(e,t,r,n,a,i,s){switch(r){case pO:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fO:return!(e.byteLength!=t.byteLength||!i(new Dd(e),new Dd(t)));case nO:case aO:case oO:return QE(+e,+t);case iO:return e.name==t.name&&e.message==t.message;case cO:case uO:return e==t+"";case sO:var o=XE;case lO:var c=n&tO;if(o||(o=eO),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=rO,s.set(e,t);var l=ZE(o(e),o(t),n,a,i,s);return s.delete(e),l;case dO:if(Vs)return Vs.call(e)==Vs.call(t)}return!1}var mO=hO,Fd=dd,gO=1,yO=Object.prototype,bO=yO.hasOwnProperty;function vO(e,t,r,n,a,i){var s=r&gO,o=Fd(e),c=o.length,u=Fd(t),l=u.length;if(c!=l&&!s)return!1;for(var f=c;f--;){var m=o[f];if(!(s?m in t:bO.call(t,m)))return!1}var h=i.get(e),y=i.get(t);if(h&&y)return h==t&&y==e;var b=!0;i.set(e,t),i.set(t,e);for(var g=s;++f<c;){m=o[f];var p=e[m],v=t[m];if(n)var w=s?n(v,p,m,t,e,i):n(p,v,m,e,t,i);if(!(w===void 0?p===v||a(p,v,r,n,i):w)){b=!1;break}g||(g=m=="constructor")}if(b&&!g){var x=e.constructor,_=t.constructor;x!=_&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof _=="function"&&_ instanceof _)&&(b=!1)}return i.delete(e),i.delete(t),b}var wO=vO,Bs=Sa,$O=Id,xO=mO,_O=wO,Rd=Ta,Ud=Re,zd=Ea,SO=Ts,jO=1,Wd="[object Arguments]",Vd="[object Array]",Ma="[object Object]",NO=Object.prototype,Bd=NO.hasOwnProperty;function EO(e,t,r,n,a,i){var s=Ud(e),o=Ud(t),c=s?Vd:Rd(e),u=o?Vd:Rd(t);c=c==Wd?Ma:c,u=u==Wd?Ma:u;var l=c==Ma,f=u==Ma,m=c==u;if(m&&zd(e)){if(!zd(t))return!1;s=!0,l=!1}if(m&&!l)return i||(i=new Bs),s||SO(e)?$O(e,t,r,n,a,i):xO(e,t,c,r,n,a,i);if(!(r&jO)){var h=l&&Bd.call(e,"__wrapped__"),y=f&&Bd.call(t,"__wrapped__");if(h||y){var b=h?e.value():e,g=y?t.value():t;return i||(i=new Bs),a(b,g,r,n,i)}}return m?(i||(i=new Bs),_O(e,t,r,n,a,i)):!1}var OO=EO,CO=OO,qd=ot;function Gd(e,t,r,n,a){return e===t?!0:e==null||t==null||!qd(e)&&!qd(t)?e!==e&&t!==t:CO(e,t,r,n,Gd,a)}var qs=Gd,TO=qs;function AO(e,t){return TO(e,t)}var Kd=AO,Hd=_r,PO=ja,kO=Re,Yd=Hd?Hd.isConcatSpreadable:void 0;function IO(e){return kO(e)||PO(e)||!!(Yd&&e&&e[Yd])}var MO=IO,DO=Is,LO=MO;function Jd(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=LO),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?Jd(o,t-1,r,n,a):DO(a,o):n||(a[a.length]=o)}return a}var Gs=Jd;function FO(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Jt=FO,RO=Gt,UO=ot,zO="[object Symbol]";function WO(e){return typeof e=="symbol"||UO(e)&&RO(e)==zO}var Da=WO,VO=Re,BO=Da,qO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GO=/^\w*$/;function KO(e,t){if(VO(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||BO(e)?!0:GO.test(e)||!qO.test(e)||t!=null&&e in Object(t)}var Ks=KO,Qd=js,HO="Expected a function";function Hs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(HO);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(Hs.Cache||Qd),r}Hs.Cache=Qd;var YO=Hs,JO=YO,QO=500;function ZO(e){var t=JO(e,function(n){return r.size===QO&&r.clear(),n}),r=t.cache;return t}var XO=ZO,eC=XO,tC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rC=/\\(\\)?/g,nC=eC(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(tC,function(r,n,a,i){t.push(a?i.replace(rC,"$1"):n||r)}),t}),aC=nC,Zd=_r,iC=Jt,sC=Re,oC=Da,Xd=Zd?Zd.prototype:void 0,ef=Xd?Xd.toString:void 0;function tf(e){if(typeof e=="string")return e;if(sC(e))return iC(e,tf)+"";if(oC(e))return ef?ef.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var cC=tf,lC=cC;function uC(e){return e==null?"":lC(e)}var dC=uC,fC=Re,pC=Ks,hC=aC,mC=dC;function gC(e,t){return fC(e)?e:pC(e,t)?[e]:hC(mC(e))}var rf=gC,yC=Da;function bC(e){if(typeof e=="string"||yC(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var La=bC,vC=rf,wC=La;function $C(e,t){t=vC(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[wC(t[r++])];return r&&r==n?e:void 0}var Ys=$C,xC=Sa,_C=qs,SC=1,jC=2;function NC(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var c=o[0],u=e[c],l=o[1];if(s&&o[2]){if(u===void 0&&!(c in e))return!1}else{var f=new xC;if(n)var m=n(u,l,c,e,t,f);if(!(m===void 0?_C(l,u,SC|jC,n,f):m))return!1}}return!0}var EC=NC,OC=st;function CC(e){return e===e&&!OC(e)}var nf=CC,TC=nf,AC=pn;function PC(e){for(var t=AC(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,TC(a)]}return t}var kC=PC;function IC(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var af=IC,MC=EC,DC=kC,LC=af;function FC(e){var t=DC(e);return t.length==1&&t[0][2]?LC(t[0][0],t[0][1]):function(r){return r===e||MC(r,e,t)}}var RC=FC,UC=Ys;function zC(e,t,r){var n=e==null?void 0:UC(e,t);return n===void 0?r:n}var WC=zC;function VC(e,t){return e!=null&&t in Object(e)}var BC=VC,qC=rf,GC=ja,KC=Re,HC=Es,YC=Os,JC=La;function QC(e,t,r){t=qC(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=JC(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&YC(a)&&HC(s,a)&&(KC(e)||GC(e)))}var ZC=QC,XC=BC,eT=ZC;function tT(e,t){return e!=null&&eT(e,t,XC)}var rT=tT,nT=qs,aT=WC,iT=rT,sT=Ks,oT=nf,cT=af,lT=La,uT=1,dT=2;function fT(e,t){return sT(e)&&oT(t)?cT(lT(e),t):function(r){var n=aT(r,e);return n===void 0&&n===t?iT(r,e):nT(t,n,uT|dT)}}var pT=fT;function hT(e){return e}var hn=hT;function mT(e){return function(t){return t==null?void 0:t[e]}}var gT=mT,yT=Ys;function bT(e){return function(t){return yT(t,e)}}var vT=bT,wT=gT,$T=vT,xT=Ks,_T=La;function ST(e){return xT(e)?wT(_T(e)):$T(e)}var jT=ST,NT=RC,ET=pT,OT=hn,CT=Re,TT=jT;function AT(e){return typeof e=="function"?e:e==null?OT:typeof e=="object"?CT(e)?ET(e[0],e[1]):NT(e):TT(e)}var PT=AT;function kT(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var c=s[e?o:++a];if(r(i[c],c,i)===!1)break}return t}}var IT=kT,MT=IT,DT=MT(),sf=DT,LT=sf,FT=pn;function RT(e,t){return e&&LT(e,t,FT)}var UT=RT,zT=Er;function WT(e,t){return function(r,n){if(r==null)return r;if(!zT(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var VT=WT,BT=UT,qT=VT,GT=qT(BT),of=GT,KT=of,HT=Er;function YT(e,t){var r=-1,n=HT(e)?Array(e.length):[];return KT(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var JT=YT;function QT(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var ZT=QT,cf=Da;function XT(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=cf(e),s=t!==void 0,o=t===null,c=t===t,u=cf(t);if(!o&&!u&&!i&&e>t||i&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!c)return-1}return 0}var eA=XT,tA=eA;function rA(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var c=tA(a[n],i[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var nA=rA,Js=Jt,aA=Ys,iA=PT,sA=JT,oA=ZT,cA=Ht,lA=nA,uA=hn,dA=Re;function fA(e,t,r){t.length?t=Js(t,function(i){return dA(i)?function(s){return aA(s,i.length===1?i[0]:i)}:i}):t=[uA];var n=-1;t=Js(t,cA(iA));var a=sA(e,function(i,s,o){var c=Js(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return oA(a,function(i,s){return lA(i,s,r)})}var pA=fA;function hA(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var lf=hA,mA=lf,uf=Math.max;function gA(e,t,r){return t=uf(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=uf(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),mA(e,this,o)}}var yA=gA;function bA(e){return function(){return e}}var vA=bA,wA=vA,df=Qu,$A=hn,xA=df?function(e,t){return df(e,"toString",{configurable:!0,enumerable:!1,value:wA(t),writable:!0})}:$A,_A=xA,SA=800,jA=16,NA=Date.now;function EA(e){var t=0,r=0;return function(){var n=NA(),a=jA-(n-r);if(r=n,a>0){if(++t>=SA)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var OA=EA,CA=_A,TA=OA,AA=TA(CA),PA=AA,kA=hn,IA=yA,MA=PA;function DA(e,t){return MA(IA(e,t,kA),e+"")}var Qt=DA,LA=$r,FA=Er,RA=Es,UA=st;function zA(e,t,r){if(!UA(r))return!1;var n=typeof t;return(n=="number"?FA(r)&&RA(t,r.length):n=="string"&&t in r)?LA(r[t],e):!1}var Qs=zA,WA=Gs,VA=pA,BA=Qt,ff=Qs,qA=BA(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ff(e,t[0],t[1])?t=[]:r>2&&ff(t[0],t[1],t[2])&&(t=[t[0]]),VA(e,WA(t,1),[])}),pf=qA;function GA(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var KA=GA;function HA(e){return e!==e}var YA=HA;function JA(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var QA=JA,ZA=KA,XA=YA,eP=QA;function tP(e,t,r){return t===t?eP(e,t,r):ZA(e,XA,r)}var hf=tP,rP=hf;function nP(e,t){var r=e==null?0:e.length;return!!r&&rP(e,t,0)>-1}var Zs=nP;function aP(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Xs=aP;function iP(){}var sP=iP,eo=fd,oP=sP,cP=Ws,lP=1/0,uP=eo&&1/cP(new eo([,-0]))[1]==lP?function(e){return new eo(e)}:oP,dP=uP,fP=ka,pP=Zs,hP=Xs,mP=Ia,gP=dP,yP=Ws,bP=200;function vP(e,t,r){var n=-1,a=pP,i=e.length,s=!0,o=[],c=o;if(r)s=!1,a=hP;else if(i>=bP){var u=t?null:gP(e);if(u)return yP(u);s=!1,a=mP,c=new fP}else c=t?[]:o;e:for(;++n<i;){var l=e[n],f=t?t(l):l;if(l=r||l!==0?l:0,s&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),o.push(l)}else a(c,f,r)||(c!==o&&c.push(f),o.push(l))}return o}var mf=vP,wP=mf;function $P(e){return e&&e.length?wP(e):[]}var to=$P,xP=mf;function _P(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?xP(e,void 0,t):[]}var ro=_P,SP=Qt,jP=$r,NP=Qs,EP=Or,gf=Object.prototype,OP=gf.hasOwnProperty,CP=SP(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&NP(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],s=EP(i),o=-1,c=s.length;++o<c;){var u=s[o],l=e[u];(l===void 0||jP(l,gf[u])&&!OP.call(e,u))&&(e[u]=i[u])}return e}),TP=CP,AP=ka,PP=Zs,kP=Xs,IP=Jt,MP=Ht,yf=Ia,DP=Math.min;function LP(e,t,r){for(var n=r?kP:PP,a=e[0].length,i=e.length,s=i,o=Array(i),c=1/0,u=[];s--;){var l=e[s];s&&t&&(l=IP(l,MP(t))),c=DP(l.length,c),o[s]=!r&&(t||a>=120&&l.length>=120)?new AP(s&&l):void 0}l=e[0];var f=-1,m=o[0];e:for(;++f<a&&u.length<c;){var h=l[f],y=t?t(h):h;if(h=r||h!==0?h:0,!(m?yf(m,y):n(u,y,r))){for(s=i;--s;){var b=o[s];if(!(b?yf(b,y):n(e[s],y,r)))continue e}m&&m.push(y),u.push(h)}}return u}var bf=LP,FP=Er,RP=ot;function UP(e){return RP(e)&&FP(e)}var no=UP,zP=no;function WP(e){return zP(e)?e:[]}var vf=WP;function VP(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var BP=VP,qP=Jt,GP=bf,KP=Qt,HP=vf,YP=BP,JP=KP(function(e){var t=YP(e),r=qP(e,HP);return t=typeof t=="function"?t:void 0,t&&r.pop(),r.length&&r[0]===e[0]?GP(r,void 0,t):[]}),wf=JP,QP=Gt,ZP=Ms,XP=ot,ek="[object Object]",tk=Function.prototype,rk=Object.prototype,$f=tk.toString,nk=rk.hasOwnProperty,ak=$f.call(Object);function ik(e){if(!XP(e)||QP(e)!=ek)return!1;var t=ZP(e);if(t===null)return!0;var r=nk.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&$f.call(r)==ak}var Fa=ik,sk=Gt,ok=ot,ck="[object Boolean]";function lk(e){return e===!0||e===!1||ok(e)&&sk(e)==ck}var uk=lk,Je=Kd,dk=pf,ao=to,xf=ro,fk=TP,pk=wf,Ra=Fa,io=uk,_f=e=>Array.isArray(e)?e:[e],qe=e=>e===void 0,Ua=e=>Ra(e)||Array.isArray(e)?Object.keys(e):[],Tr=(e,t)=>e.hasOwnProperty(t),Ar=e=>dk(ao(e)),Sf=e=>qe(e)||Array.isArray(e)&&e.length===0,hk=(e,t,r,n)=>t&&Tr(t,r)&&e&&Tr(e,r)&&n(e[r],t[r]),so=(e,t)=>qe(e)&&t===0||qe(t)&&e===0||Je(e,t),mk=(e,t)=>qe(e)&&t===!1||qe(t)&&e===!1||Je(e,t),jf=e=>qe(e)||Je(e,{})||e===!0,za=e=>qe(e)||Je(e,{}),Nf=e=>qe(e)||Ra(e)||e===!0||e===!1;function Ef(e,t){return Sf(e)&&Sf(t)?!0:Je(Ar(e),Ar(t))}function gk(e,t){return e=_f(e),t=_f(t),Je(Ar(e),Ar(t))}function Wa(e,t,r,n){var a=ao(Ua(e).concat(Ua(t)));return za(e)&&za(t)?!0:za(e)&&Ua(t).length||za(t)&&Ua(e).length?!1:a.every(function(i){var s=e[i],o=t[i];return Array.isArray(s)&&Array.isArray(o)?Je(Ar(e),Ar(t)):Array.isArray(s)&&!Array.isArray(o)||Array.isArray(o)&&!Array.isArray(s)?!1:hk(e,t,i,n)})}function yk(e,t,r,n){return Ra(e)&&Ra(t)?n(e,t):Array.isArray(e)&&Array.isArray(t)?Wa(e,t,r,n):Je(e,t)}function oo(e,t,r,n){var a=xf(e,n),i=xf(t,n),s=pk(a,i,n);return s.length===Math.max(a.length,i.length)}var bk={title:Je,uniqueItems:mk,minLength:so,minItems:so,minProperties:so,required:Ef,enum:Ef,type:gk,items:yk,anyOf:oo,allOf:oo,oneOf:oo,properties:Wa,patternProperties:Wa,dependencies:Wa},vk=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],wk=["additionalProperties","additionalItems","contains","propertyNames","not"];function co(e,t,r){if(r=fk(r,{ignore:[]}),jf(e)&&jf(t))return!0;if(!Nf(e)||!Nf(t))throw new Error("Either of the values are not a JSON schema.");if(e===t)return!0;if(io(e)&&io(t))return e===t;if(e===void 0&&t===!1||t===void 0&&e===!1||qe(e)&&!qe(t)||!qe(e)&&qe(t))return!1;var n=ao(Object.keys(e).concat(Object.keys(t)));if(r.ignore.length&&(n=n.filter(i=>r.ignore.indexOf(i)===-1)),!n.length)return!0;function a(i,s){return co(i,s,r)}return n.every(function(i){var s=e[i],o=t[i];if(wk.indexOf(i)!==-1)return co(s,o,r);var c=bk[i];if(c||(c=Je),Je(s,o))return!0;if(vk.indexOf(i)===-1&&(!Tr(e,i)&&Tr(t,i)||Tr(e,i)&&!Tr(t,i)))return s===o;var u=c(s,o,i,a);if(!io(u))throw new Error("Comparer must return true or false");return u})}var lo=co;function $k(e){return Object.prototype.toString.call(e)==="[object Array]"}var uo=Array.isArray||$k;function xk(e){return(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")&&e.valueOf()===e.valueOf()}var _k=xk,Sk=_k;function jk(e){return Sk(e)&&e%1===0}var Nk=jk,Ek=uo,Ok=Nk;function Ck(e){var t;if(!Ek(e)||(t=e.length,!t))return!1;for(var r=0;r<t;r++)if(!Ok(e[r]))return!1;return!0}var Of=Ck;function Tk(e){return typeof e=="function"}var Cf=Tk,Ak=uo,Tf=Of,Pk=Cf,Va=Math.pow(2,31)-1;function Af(e,t){var r=1,n;if(e===0)return t;if(t===0)return e;for(;e%2===0&&t%2===0;)e=e/2,t=t/2,r=r*2;for(;e%2===0;)e=e/2;for(;t;){for(;t%2===0;)t=t/2;e>t&&(n=t,t=e,e=n),t=t-e}return r*e}function Pf(e,t){var r=0,n;if(e===0)return t;if(t===0)return e;for(;!(e&1)&&!(t&1);)e>>>=1,t>>>=1,r++;for(;!(e&1);)e>>>=1;for(;t;){for(;!(t&1);)t>>>=1;e>t&&(n=t,t=e,e=n),t=t-e}return e<<r}function kk(){var e=arguments.length,t,r,n,a,i,s,o;for(t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(Tf(t)){if(e===2)return i=t[0],s=t[1],i<0&&(i=-i),s<0&&(s=-s),i<=Va&&s<=Va?Pf(i,s):Af(i,s);n=t}else if(Ak(t[0]))if(e>1){if(n=t[0],r=t[1],!Pk(r))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+r+"`.")}else n=t[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(a=n.length,a<2)return null;if(r){for(i=new Array(a),o=0;o<a;o++)i[o]=r(n[o],o);n=i}if(e<3&&!Tf(n))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+n+"`.");for(o=0;o<a;o++)i=n[o],i<0&&(n[o]=-i);for(i=n[0],o=1;o<a;o++)s=n[o],s<=Va&&i<=Va?i=Pf(i,s):i=Af(i,s);return i}var Ik=kk,kf=Ik,Mk=uo,If=Of,Dk=Cf;function Lk(){var e=arguments.length,t,r,n,a,i,s,o;for(t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(If(t)){if(e===2)return i=t[0],s=t[1],i<0&&(i=-i),s<0&&(s=-s),i===0||s===0?0:i/kf(i,s)*s;n=t}else if(Mk(t[0]))if(e>1){if(n=t[0],r=t[1],!Dk(r))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+r+"`.")}else n=t[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+t[0]+"`.");if(a=n.length,a<2)return null;if(r){for(i=new Array(a),o=0;o<a;o++)i[o]=r(n[o],o);n=i}if(e<3&&!If(n))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+n+"`.");for(o=0;o<a;o++)i=n[o],i<0&&(n[o]=-i);for(i=n[0],o=1;o<a;o++){if(s=n[o],i===0||s===0)return 0;i=i/kf(i,s)*s}return i}var Fk=Lk,Rk=Ns,Uk=$r;function zk(e,t,r){(r!==void 0&&!Uk(e[t],r)||r===void 0&&!(t in e))&&Rk(e,t,r)}var Mf=zk;function Wk(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Df=Wk,Vk=fn,Bk=Or;function qk(e){return Vk(e,Bk(e))}var Gk=qk,Lf=Mf,Kk=sd,Hk=Sd,Yk=Ps,Jk=Nd,Ff=ja,Rf=Re,Qk=no,Zk=Ea,Xk=xs,eI=st,tI=Fa,rI=Ts,Uf=Df,nI=Gk;function aI(e,t,r,n,a,i,s){var o=Uf(e,r),c=Uf(t,r),u=s.get(c);if(u){Lf(e,r,u);return}var l=i?i(o,c,r+"",e,t,s):void 0,f=l===void 0;if(f){var m=Rf(c),h=!m&&Zk(c),y=!m&&!h&&rI(c);l=c,m||h||y?Rf(o)?l=o:Qk(o)?l=Yk(o):h?(f=!1,l=Kk(c,!0)):y?(f=!1,l=Hk(c,!0)):l=[]:tI(c)||Ff(c)?(l=o,Ff(o)?l=nI(o):(!eI(o)||Xk(o))&&(l=Jk(c))):f=!1}f&&(s.set(c,l),a(l,c,n,i,s),s.delete(c)),Lf(e,r,l)}var iI=aI,sI=Sa,oI=Mf,cI=sf,lI=iI,uI=st,dI=Or,fI=Df;function zf(e,t,r,n,a){e!==t&&cI(t,function(i,s){if(a||(a=new sI),uI(i))lI(e,t,s,r,zf,n,a);else{var o=n?n(fI(e,s),i,s+"",e,t,a):void 0;o===void 0&&(o=i),oI(e,s,o)}},dI)}var Wf=zf,pI=Wf,Vf=st;function Bf(e,t,r,n,a,i){return Vf(e)&&Vf(t)&&(i.set(t,e),pI(e,t,void 0,Bf,i),i.delete(t)),e}var hI=Bf,mI=Qt,gI=Qs;function yI(e){return mI(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,s&&gI(r[0],r[1],s)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var o=r[n];o&&e(t,o,n,i)}return t})}var bI=yI,vI=Wf,wI=bI,$I=wI(function(e,t,r,n){vI(e,t,r,n)}),xI=$I,_I=lf,SI=Qt,jI=hI,NI=xI,EI=SI(function(e){return e.push(void 0,jI),_I(NI,void 0,e)}),OI=EI,CI=Gs;function TI(e){var t=e==null?0:e.length;return t?CI(e,1):[]}var qf=TI,AI=Gs,PI=1/0;function kI(e){var t=e==null?0:e.length;return t?AI(e,PI):[]}var Gf=kI,II=Jt,MI=bf,DI=Qt,LI=vf,FI=DI(function(e){var t=II(e,LI);return t.length&&t[0]===e[0]?MI(t):[]}),RI=FI;function UI(e,t,r,n){for(var a=r-1,i=e.length;++a<i;)if(n(e[a],t))return a;return-1}var zI=UI,WI=Jt,VI=hf,BI=zI,qI=Ht,GI=Ps,KI=Array.prototype,Kf=KI.splice;function HI(e,t,r,n){var a=n?BI:VI,i=-1,s=t.length,o=e;for(e===t&&(t=GI(t)),r&&(o=WI(e,qI(r)));++i<s;)for(var c=0,u=t[i],l=r?r(u):u;(c=a(o,l,c,n))>-1;)o!==e&&Kf.call(o,c,1),Kf.call(e,c,1);return e}var YI=HI,JI=YI;function QI(e,t){return e&&e.length&&t&&t.length?JI(e,t):e}var ZI=QI,XI=hn;function e4(e){return typeof e=="function"?e:XI}var t4=e4,r4=Ju,n4=of,a4=t4,i4=Re;function s4(e,t){var r=i4(e)?r4:n4;return r(e,a4(t))}var Hf=s4,o4=ka,c4=Zs,l4=Xs,u4=Jt,d4=Ht,f4=Ia,p4=200;function h4(e,t,r,n){var a=-1,i=c4,s=!0,o=e.length,c=[],u=t.length;if(!o)return c;r&&(t=u4(t,d4(r))),n?(i=l4,s=!1):t.length>=p4&&(i=f4,s=!1,t=new o4(t));e:for(;++a<o;){var l=e[a],f=r==null?l:r(l);if(l=n||l!==0?l:0,s&&f===f){for(var m=u;m--;)if(t[m]===f)continue e;c.push(l)}else i(t,f,n)||c.push(l)}return c}var m4=h4,g4=m4,y4=Qt,b4=no,v4=y4(function(e,t){return b4(e)?g4(e,t):[]}),w4=v4;const $4=qf,x4=Gf,Yf=Fa,_4=to,S4=ro,j4=w4;function N4(e){for(const t in e)Jf(e,t)&&A4(e[t])&&delete e[t];return e}const E4=e=>_4(x4(e.map(fo))),O4=(e,t)=>e.map(r=>r&&r[t]),Jf=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),fo=e=>Yf(e)||Array.isArray(e)?Object.keys(e):[],C4=e=>e!==void 0,T4=e=>Yf(e)||e===!0||e===!1,A4=e=>!fo(e).length&&e!==!1&&e!==!0;var Qf={allUniqueKeys:E4,deleteUndefinedProps:N4,getValues:O4,has:Jf,isSchema:T4,keys:fo,notUndefined:C4,uniqWith:S4,withoutArr:(e,...t)=>j4.apply(null,[e].concat($4(t)))};const P4=lo,k4=Hf,{allUniqueKeys:I4,deleteUndefinedProps:M4,getValues:D4,keys:mn,notUndefined:L4,uniqWith:F4,withoutArr:Zf}=Qf;function R4(e){k4(e,function(t,r){t===!1&&delete e[r]})}function Xf(e,t){return I4(e).reduce(function(n,a){const i=D4(e,a),s=F4(i.filter(L4),P4);return n[a]=t(s,a),n},{})}var U4={keywords:["properties","patternProperties","additionalProperties"],resolver(e,t,r,n){n.ignoreAdditionalProperties||(e.forEach(function(i){const s=e.filter(l=>l!==i),o=mn(i.properties),u=mn(i.patternProperties).map(l=>new RegExp(l));s.forEach(function(l){const f=mn(l.properties),m=f.filter(y=>u.some(b=>b.test(y)));Zf(f,o,m).forEach(function(y){l.properties[y]=r.properties([l.properties[y],i.additionalProperties],y)})})}),e.forEach(function(i){const s=e.filter(c=>c!==i),o=mn(i.patternProperties);i.additionalProperties===!1&&s.forEach(function(c){const u=mn(c.patternProperties);Zf(u,o).forEach(f=>delete c.patternProperties[f])})}));const a={additionalProperties:r.additionalProperties(e.map(i=>i.additionalProperties)),patternProperties:Xf(e.map(i=>i.patternProperties),r.patternProperties),properties:Xf(e.map(i=>i.properties),r.properties)};return a.additionalProperties===!1&&R4(a.properties),M4(a)}};const z4=lo,W4=Hf,{allUniqueKeys:V4,deleteUndefinedProps:B4,has:q4,isSchema:ep,notUndefined:tp,uniqWith:G4}=Qf;function K4(e){W4(e,function(t,r){t===!1&&e.splice(r,1)})}function H4(e,t){return e.map(function(r){if(r)if(Array.isArray(r.items)){const n=r.items[t];if(ep(n))return n;if(q4(r,"additionalItems"))return r.additionalItems}else return r.items})}function Y4(e){return e.map(function(t){if(t)return Array.isArray(t.items)?t.additionalItems:t.items})}function J4(e,t,r){return V4(r).reduce(function(a,i){const s=H4(e,i),o=G4(s.filter(tp),z4);return a[i]=t(o,i),a},[])}var Q4={keywords:["items","additionalItems"],resolver(e,t,r){const n=e.map(o=>o.items),a=n.filter(tp),i={};a.every(ep)?i.items=r.items(n):i.items=J4(e,r.items,n);let s;return a.every(Array.isArray)?s=e.map(o=>o.additionalItems):a.some(Array.isArray)&&(s=Y4(e)),s&&(i.additionalItems=r.additionalItems(s)),i.additionalItems===!1&&Array.isArray(i.items)&&K4(i.items),B4(i)}};const rp=TE,Ba=lo,Z4=Fk,X4=OI,np=qf,po=Gf,e5=RI,t5=wf,ho=Kd,Pr=Fa,r5=ZI,ap=pf,mo=to,kr=ro,ip=U4,sp=Q4,qa=(e,t)=>e.indexOf(t)!==-1,n5=e=>Pr(e)||e===!0||e===!1,a5=e=>e===!1,op=e=>e===!0,Ga=(e,t,r)=>r(e),cp=e=>ap(mo(po(e))),Ka=e=>e!==void 0,lp=e=>mo(po(e.map(u5))),Ir=e=>e[0],i5=e=>cp(e),gn=e=>Math.max.apply(Math,e),yn=e=>Math.min.apply(Math,e),s5=e=>e.some(op),o5=e=>kr(np(e),ho);function c5(e){return function(t,r){return Ba({[e]:t},{[e]:r})}}function up(e){let{allOf:t=[],...r}=e;return r=Pr(e)?r:e,[r,...t.map(up)]}function dp(e,t){return e.map(r=>r&&r[t])}function l5(e,t){return e.map(function(r,n){try{return t(r,n)}catch{return}}).filter(Ka)}function u5(e){return Pr(e)||Array.isArray(e)?Object.keys(e):[]}function go(e,t){if(t=t||[],!e.length)return t;const r=e.slice(0).shift(),n=e.slice(1);return t.length?go(n,np(t.map(a=>r.map(i=>[i].concat(a))))):go(n,r.map(a=>a))}function fp(e,t){let r;try{r=e.map(function(n){return JSON.stringify(n,null,2)}).join(`
`)}catch{r=e.join(", ")}throw new Error('Could not resolve values for path:"'+t.join(".")+`". They are probably incompatible. Values: 
`+r)}function d5(e,t,r,n,a,i){if(e.length){const s=a.complexResolvers[t];if(!s||!s.resolver)throw new Error("No resolver found for "+t);const o=r.map(f=>e.reduce((m,h)=>(f[h]!==void 0&&(m[h]=f[h]),m),{})),c=kr(o,Ba),u=s.keywords.reduce((f,m)=>({...f,[m]:(h,y=[])=>n(h,null,i.concat(m,y))}),{}),l=s.resolver(c,i.concat(t),u,a);return Pr(l)||fp(c,i.concat(t)),l}}function f5(e){return{required:e}}const p5=["properties","patternProperties","definitions","dependencies"],h5=["anyOf","oneOf"],m5=["additionalProperties","additionalItems","contains","propertyNames","not","items"],oe={type(e){if(e.some(Array.isArray)){const t=e.map(function(n){return Array.isArray(n)?n:[n]}),r=e5.apply(null,t);if(r.length===1)return r[0];if(r.length>1)return mo(r)}},dependencies(e,t,r){return lp(e).reduce(function(a,i){const s=dp(e,i);let o=kr(s.filter(Ka),ho);const c=o.filter(Array.isArray);if(c.length){if(c.length===o.length)a[i]=cp(o);else{const u=o.filter(n5),l=c.map(f5);a[i]=r(u.concat(l),i)}return a}return o=kr(o,Ba),a[i]=r(o,i),a},{})},oneOf(e,t,r){const n=go(rp(e)),a=l5(n,r),i=kr(a,Ba);if(i.length)return i},not(e){return{anyOf:e}},pattern(e){return e.map(t=>"(?="+t+")").join("")},multipleOf(e){let t=e.slice(0),r=1;for(;t.some(n=>!Number.isInteger(n));)t=t.map(n=>n*10),r=r*10;return Z4(t)/r},enum(e){const t=t5.apply(null,e.concat(ho));if(t.length)return ap(t)}};oe.$id=Ir,oe.$ref=Ir,oe.$schema=Ir,oe.additionalItems=Ga,oe.additionalProperties=Ga,oe.anyOf=oe.oneOf,oe.contains=Ga,oe.default=Ir,oe.definitions=oe.dependencies,oe.description=Ir,oe.examples=o5,oe.exclusiveMaximum=yn,oe.exclusiveMinimum=gn,oe.items=sp,oe.maximum=yn,oe.maxItems=yn,oe.maxLength=yn,oe.maxProperties=yn,oe.minimum=gn,oe.minItems=gn,oe.minLength=gn,oe.minProperties=gn,oe.properties=ip,oe.propertyNames=Ga,oe.required=i5,oe.title=Ir,oe.uniqueItems=s5;const g5={properties:ip,items:sp};function yo(e,t,r){t=X4(t,{ignoreAdditionalProperties:!1,resolvers:oe,complexResolvers:g5,deep:!0});const n=Object.entries(t.complexResolvers);function a(o,c,u){o=rp(o.filter(Ka)),u=u||[];const l=Pr(c)?c:{};if(!o.length)return;if(o.some(a5))return!1;if(o.every(op))return!0;o=o.filter(Pr);const f=lp(o);if(t.deep&&qa(f,"allOf"))return yo({allOf:o},t);const m=n.map(([h,y])=>f.filter(b=>y.keywords.includes(b)));return m.forEach(h=>r5(f,h)),f.forEach(function(h){const y=dp(o,h),b=kr(y.filter(Ka),c5(h));if(b.length===1&&qa(h5,h))l[h]=b[0].map(g=>a([g],g));else if(b.length===1&&!qa(p5,h)&&!qa(m5,h))l[h]=b[0];else{const g=t.resolvers[h]||t.resolvers.defaultResolver;if(!g)throw new Error("No resolver found for key "+h+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const p=(v,w=[])=>a(v,null,u.concat(h,w));l[h]=g(b,u.concat(h),p,t),l[h]===void 0?fp(b,u.concat(h)):l[h]===void 0&&delete l[h]}}),n.reduce((h,[y,b],g)=>({...h,...d5(m[g],y,o,a,t,u)}),l)}const i=po(up(e));return a(i)}yo.options={resolvers:oe};var y5=yo;const b5=Jr(y5);function Mr(e){let t;const r=q(e,"discriminator.propertyName",void 0);return ba(r)?t=r:r!==void 0&&console.warn(`Expecting discriminator to be a string, got "${typeof r}" instead`),t}function bn(e){return Array.isArray(e)?"array":typeof e=="string"?"string":e==null?"null":typeof e=="boolean"?"boolean":isNaN(e)?typeof e=="object"?"object":"string":"number"}var v5=$s(function(e){return Uu(un(e,1,va,!0))});function vt(e){let{type:t}=e;return!t&&e.const?bn(e.const):!t&&e.enum?"string":!t&&(e.properties||e.additionalProperties)?"object":(Array.isArray(t)&&(t.length===2&&t.includes("null")?t=t.find(r=>r!=="null"):t=t[0]),t)}function wt(e,t){const r=Object.assign({},e);return Object.keys(t).reduce((n,a)=>{const i=e?e[a]:{},s=t[a];return e&&a in e&&ae(s)?n[a]=wt(i,s):e&&t&&(vt(e)==="object"||vt(t)==="object")&&a===Rg&&Array.isArray(i)&&Array.isArray(s)?n[a]=v5(i,s):n[a]=s,n},r)}function Ue(e,t,r={},n,a){return ct(e,t,r,n,void 0,void 0,a)[0]}function w5(e,t,r,n,a,i,s){const{if:o,then:c,else:u,...l}=t,f=e.isValid(o,i||{},r);let m=[l],h=[];if(n)c&&typeof c!="boolean"&&(h=h.concat(ct(e,c,r,i,n,a,s))),u&&typeof u!="boolean"&&(h=h.concat(ct(e,u,r,i,n,a,s)));else{const y=f?c:u;y&&typeof y!="boolean"&&(h=h.concat(ct(e,y,r,i,n,a,s)))}return h.length&&(m=h.map(y=>wt(l,y))),m.flatMap(y=>ct(e,y,r,i,n,a,s))}function pp(e){return e.reduce((r,n)=>n.length>1?n.flatMap(a=>Mu(r.length,i=>[...r[i]].concat(a))):(r.forEach(a=>a.push(n[0])),r),[[]])}function $5(e,t,r,n,a,i,s){const o=hp(e,t,r,n,a,i);if(o.length>1||o[0]!==t)return o;if(Xn in t)return mp(e,t,r,n,a,i).flatMap(u=>ct(e,u,r,i,n,a,s));if(fr in t&&Array.isArray(t.allOf)){const c=t.allOf.map(l=>ct(e,l,r,i,n,a,s));return pp(c).map(l=>({...t,allOf:l}))}return[t]}function hp(e,t,r,n,a,i,s){const o=vn(t,r,a);return o!==t?ct(e,o,r,i,n,a,s):[t]}function vn(e,t,r){if(!ae(e))return e;let n=e;if(Se in n){const{$ref:a,...i}=n;if(r.includes(a))return n;r.push(a),n={..._u(a,t),...i}}if($e in n){const a=[],i=Zw(n[$e],(s,o,c)=>{const u=[...r];s[c]=vn(o,t,u),a.push(u)},{});n$(r,h$(i$(a))),n={...n,[$e]:i}}return Tt in n&&!Array.isArray(n.items)&&typeof n.items!="boolean"&&(n={...n,items:vn(n.items,t,r)}),be(e,n)?e:n}function x5(e,t,r,n,a){const i={...t,properties:{...t.properties}},s=n&&ae(n)?n:{};return Object.keys(s).forEach(o=>{if(o in i.properties)return;let c={};typeof i.additionalProperties!="boolean"?Se in i.additionalProperties?c=Ue(e,{$ref:q(i.additionalProperties,[Se])},r,s,a):"type"in i.additionalProperties?c={...i.additionalProperties}:He in i.additionalProperties||Fe in i.additionalProperties?c={type:"object",...i.additionalProperties}:c={type:bn(q(s,[o]))}:c={type:bn(q(s,[o]))},i.properties[o]=c,Oe(i.properties,[o,Zr],!0)}),i}function ct(e,t,r,n,a=!1,i=[],s){return ae(t)?$5(e,t,r,a,i,n,s).flatMap(c=>{var u;let l=c;if(Lg in l)return w5(e,l,r,a,i,n,s);if(fr in l){if(a){const{allOf:m,...h}=l;return[...m,h]}try{const m=[],h=[];(u=l.allOf)===null||u===void 0||u.forEach(y=>{typeof y=="object"&&y.contains?m.push(y):h.push(y)}),m.length&&(l={...l,allOf:h}),l=s?s(l):b5(l,{deep:!1}),m.length&&(l.allOf=m)}catch(m){console.warn(`could not merge subschemas in allOf:
`,m);const{allOf:h,...y}=l;return y}}return Wi in l&&l.additionalProperties!==!1?x5(e,l,r,n,s):l}):[{}]}function _5(e,t,r,n,a){let i;const{oneOf:s,anyOf:o,...c}=t;if(Array.isArray(s)?i=s:Array.isArray(o)&&(i=o),i){const u=a===void 0&&n?{}:a,l=Mr(t);i=i.map(m=>vn(m,r,[]));const f=ys(e,u,i,r,l);if(n)return i.map(m=>wt(c,m));t=wt(c,i[f])}return[t]}function mp(e,t,r,n,a,i,s){const{dependencies:o,...c}=t;return _5(e,c,r,n,i).flatMap(l=>gp(e,o,l,r,n,a,i,s))}function gp(e,t,r,n,a,i,s,o){let c=[r];for(const u in t){if(!a&&q(s,[u])===void 0||r.properties&&!(u in r.properties))continue;const[l,f]=hs(u,t);return Array.isArray(f)?c[0]=S5(r,f):ae(f)&&(c=j5(e,r,n,u,f,a,i,s,o)),c.flatMap(m=>gp(e,l,m,n,a,i,s,o))}return c}function S5(e,t){if(!t)return e;const r=Array.isArray(e.required)?Array.from(new Set([...e.required,...t])):t;return{...e,required:r}}function j5(e,t,r,n,a,i,s,o,c){return ct(e,a,r,o,i,s,c).flatMap(l=>{const{oneOf:f,...m}=l;if(t=wt(t,m),f===void 0)return t;const h=f.map(b=>typeof b=="boolean"||!(Se in b)?[b]:hp(e,b,r,i,s,o));return pp(h).flatMap(b=>N5(e,t,r,n,b,i,s,o,c))})}function N5(e,t,r,n,a,i,s,o,c){const u=a.filter(l=>{if(typeof l=="boolean"||!l||!l.properties)return!1;const{[n]:f}=l.properties;if(f){const m={type:"object",properties:{[n]:f}};return e.isValid(m,o,r)||i}return!1});return!i&&u.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[t]):u.flatMap(l=>{const f=l,[m]=hs(n,f.properties),h={...f,properties:m};return ct(e,h,r,o,i,s,c).map(b=>wt(t,b))})}const E5={type:"object",$id:Fg,properties:{__not_really_there__:{type:"number"}}};function bo(e,t,r,n,a){let i=0;return r&&(he(r.properties)?i+=Lw(r.properties,(s,o,c)=>{const u=q(n,c);if(typeof o=="boolean")return s;if(Pe(o,Se)){const l=Ue(e,o,t,u,a);return s+bo(e,t,l,u||{},a)}if((Pe(o,Fe)||Pe(o,He))&&u){const l=Pe(o,Fe)?Fe:He,f=Mr(o);return s+wn(e,t,u,q(o,l),-1,f,a)}if(o.type==="object")return he(u)&&(s+=1),s+bo(e,t,o,u,a);if(o.type===bn(u)){let l=s+1;return o.default?l+=u===o.default?1:-1:o.const&&(l+=u===o.const?1:-1),l}return s},0):ba(r.type)&&r.type===bn(n)&&(i+=1)),i}function wn(e,t,r,n,a=-1,i,s){const o=n.map(m=>vn(m,t,[])),c=Du(r,n,i);if(ju(c))return c;const u=o.reduce((m,h,y)=>(ys(e,r,[E5,h],t,i)===1&&m.push(y),m),[]);if(u.length===1)return u[0];u.length||Mu(o.length,m=>u.push(m));const l=new Set,{bestIndex:f}=u.reduce((m,h)=>{const{bestScore:y}=m,b=o[h],g=bo(e,t,b,r,s);return l.add(g),g>y?{bestIndex:h,bestScore:g}:m},{bestIndex:a,bestScore:0});return l.size===1&&a>=0?a:f}function vo(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every(t=>ae(t))}function $n(e){return e==null}function xn(e,t,r=!1,n=!1,a=!1){if(Array.isArray(t)){const i=Array.isArray(e)?e:[],s=a?i:t,o=a?t:i,c=s.map((u,l)=>o[l]!==void 0?xn(i[l],t[l],r,n,a):u);return(r||a)&&c.length<o.length&&c.push(...o.slice(c.length)),c}if(ae(t)){const i=Object.assign({},e);return Object.keys(t).reduce((s,o)=>{const c=q(t,o),u=ae(e)&&o in e,l=o in t;return s[o]=xn(e?q(e,o):{},c,r,n,a&&(u||!l)),s},i)}return n&&(!$n(e)&&$n(t)||typeof t=="number"&&isNaN(t))||a&&!$n(t)?e:t}function $t(e,t,r=!1){return Object.keys(t).reduce((n,a)=>{const i=e?e[a]:{},s=t[a];if(e&&a in e&&ae(s))n[a]=$t(i,s,r);else if(r&&Array.isArray(i)&&Array.isArray(s)){let o=s;r==="preventDuplicates"&&(o=s.reduce((c,u)=>(i.includes(u)||c.push(u),c),[])),n[a]=i.concat(o)}else n[a]=s;return n},Object.assign({},e))}function yp(e){return Array.isArray(e.enum)&&e.enum.length===1||mt in e}function wo(e,t,r={},n){const a=Ue(e,t,r,void 0,n),i=a.oneOf||a.anyOf;return Array.isArray(a.enum)?!0:Array.isArray(i)?i.every(s=>typeof s!="boolean"&&yp(s)):!1}function $o(e,t,r,n){return!t.uniqueItems||!t.items||typeof t.items=="boolean"?!1:wo(e,t.items,r,n)}function bp(e){const t=e[mt],r=vt(e);return ae(t)&&ba(t==null?void 0:t.$data)&&r!=="object"&&r!=="array"}function O5(e){if(Dg in e&&Array.isArray(e.enum)&&e.enum.length===1)return e.enum[0];if(mt in e)return e.const;throw new Error("schema cannot be inferred as a constant")}function _n(e,t){const r=e;if(e.enum){let i;if(t){const{enumNames:s}=ie(t);i=s}return!i&&r.enumNames&&(i=r.enumNames),e.enum.map((s,o)=>({label:(i==null?void 0:i[o])||String(s),value:s}))}let n,a;return e.anyOf?(n=e.anyOf,a=t==null?void 0:t.anyOf):e.oneOf&&(n=e.oneOf,a=t==null?void 0:t.oneOf),n&&n.map((i,s)=>{const{title:o}=ie(a==null?void 0:a[s]),c=i,u=O5(c),l=o||c.title||String(u);return{schema:c,label:l,value:u}})}const C5=["string","number","integer","boolean","null"];var Dr;(function(e){e[e.Ignore=0]="Ignore",e[e.Invert=1]="Invert",e[e.Fallback=2]="Fallback"})(Dr||(Dr={}));function xo(e,t=Dr.Ignore,r=-1){if(r>=0){if(Array.isArray(e.items)&&r<e.items.length){const n=e.items[r];if(typeof n!="boolean")return n}}else if(e.items&&!Array.isArray(e.items)&&typeof e.items!="boolean")return e.items;return t!==Dr.Ignore&&ae(e.additionalItems)?e.additionalItems:{}}function vp(e,t,r,n,a,i=[],s={},o=!1){const{emptyObjectFields:c="populateAllDefaults"}=s;if(n||o)e[t]=r;else if(c!=="skipDefaults"){const u=a===void 0?i.includes(t):a;ae(r)?c==="skipEmptyDefaults"?vr(r)||(e[t]=r):(!vr(r)||i.includes(t))&&(u||c!=="populateRequiredDefaults")&&(e[t]=r):r!==void 0&&(c==="populateAllDefaults"||c==="skipEmptyDefaults"||u&&i.includes(t))&&(e[t]=r)}}function At(e,t,r={}){const{parentDefaults:n,rawFormData:a,rootSchema:i={},includeUndefinedValues:s=!1,_recurseList:o=[],experimental_defaultFormStateBehavior:c=void 0,experimental_customMergeAllOf:u=void 0,required:l,shouldMergeDefaultsIntoFormData:f=!1}=r;let m=ae(a)?a:{};const h=ae(t)?t:{};let y=n,b=null,g=c,p=o;if(h[mt]!==void 0&&(c==null?void 0:c.constAsDefaults)!=="never"&&!bp(h))y=h[mt];else if(ae(y)&&ae(h.default))y=$t(y,h.default);else if(Mg in h&&!h[He]&&!h[Fe])y=h.default;else if(Se in h){const x=h[Se];o.includes(x)||(p=o.concat(x),b=_u(x,i)),b&&!y&&(y=h.default),f&&b&&!ae(a)&&(m=a)}else if(Xn in h){const x={...wp(e,h,r,y),...m};b=mp(e,h,i,!1,[],x,u)[0]}else if(vo(h))y=h.items.map((x,_)=>At(e,x,{rootSchema:i,includeUndefinedValues:s,_recurseList:o,experimental_defaultFormStateBehavior:c,experimental_customMergeAllOf:u,parentDefaults:Array.isArray(n)?n[_]:void 0,rawFormData:m,required:l,shouldMergeDefaultsIntoFormData:f}));else if(Fe in h){const{oneOf:x,..._}=h;if(x.length===0)return;const T=Mr(h),{type:j="null"}=_;!Array.isArray(j)&&C5.includes(j)&&(g==null?void 0:g.constAsDefaults)==="skipOneOf"&&(g={...g,constAsDefaults:"never"}),b=x[wn(e,i,a??h.default,x,0,T,u)],b=wt(_,b)}else if(He in h){const{anyOf:x,..._}=h;if(x.length===0)return;const T=Mr(h);b=x[wn(e,i,a??h.default,x,0,T,u)],b=wt(_,b)}if(b)return At(e,b,{rootSchema:i,includeUndefinedValues:s,_recurseList:p,experimental_defaultFormStateBehavior:g,experimental_customMergeAllOf:u,parentDefaults:y,rawFormData:a??m,required:l,shouldMergeDefaultsIntoFormData:f});y===void 0&&(y=h.default);const v=wp(e,h,r,y);let w=v??y;if(f){const{arrayMinItems:x={}}=c||{},{mergeExtraDefaults:_}=x,T=T5(e,h,i,a,c,u);(!ae(a)||fr in h)&&(w=xn(w,T,_,!0))}return w}function T5(e,t,r,n,a,i){const s=!yp(t)&&wo(e,t,r,i);let o=n;if(s){const u=_n(t);o=(u==null?void 0:u.some(f=>be(f.value,n)))?n:void 0}return t[mt]&&(a==null?void 0:a.constAsDefaults)==="always"&&(o=t.const),o}function A5(e,t,{rawFormData:r,rootSchema:n={},includeUndefinedValues:a=!1,_recurseList:i=[],experimental_defaultFormStateBehavior:s=void 0,experimental_customMergeAllOf:o=void 0,required:c,shouldMergeDefaultsIntoFormData:u}={},l){{const f=ae(r)?r:{},m=t,h=(s==null?void 0:s.allOf)==="populateDefaults"&&fr in m?Ue(e,m,n,f,o):m,y=h[mt],b=Object.keys(h.properties||{}).reduce((g,p)=>{var v;const w=q(h,[$e,p]),x=ae(y)&&y[p]!==void 0,_=(ae(w)&&mt in w||x)&&(s==null?void 0:s.constAsDefaults)!=="never"&&!bp(w),T=At(e,w,{rootSchema:n,_recurseList:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:o,includeUndefinedValues:a===!0,parentDefaults:q(l,[p]),rawFormData:q(f,[p]),required:(v=h.required)===null||v===void 0?void 0:v.includes(p),shouldMergeDefaultsIntoFormData:u});return vp(g,p,T,a,c,h.required,s,_),g},{});if(h.additionalProperties){const g=ae(h.additionalProperties)?h.additionalProperties:{},p=new Set;ae(l)&&Object.keys(l).filter(w=>!h.properties||!h.properties[w]).forEach(w=>p.add(w));const v=[];Object.keys(f).filter(w=>!h.properties||!h.properties[w]).forEach(w=>{p.add(w),v.push(w)}),p.forEach(w=>{var x;const _=At(e,g,{rootSchema:n,_recurseList:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:o,includeUndefinedValues:a===!0,parentDefaults:q(l,[w]),rawFormData:q(f,[w]),required:(x=h.required)===null||x===void 0?void 0:x.includes(w),shouldMergeDefaultsIntoFormData:u});vp(b,w,_,a,c,v)})}return b}}function P5(e,t,{rawFormData:r,rootSchema:n={},_recurseList:a=[],experimental_defaultFormStateBehavior:i=void 0,experimental_customMergeAllOf:s=void 0,required:o,shouldMergeDefaultsIntoFormData:c}={},u){var l,f;const m=t,h=(l=i==null?void 0:i.arrayMinItems)!==null&&l!==void 0?l:{},{populate:y,mergeExtraDefaults:b}=h,g=y==="never",p=y==="requiredOnly",v=y==="all"||!g&&!p,w=(f=h==null?void 0:h.computeSkipPopulate)!==null&&f!==void 0?f:()=>!1,_=(i==null?void 0:i.emptyObjectFields)==="skipEmptyDefaults"?void 0:[];if(Array.isArray(u)&&(u=u.map((L,W)=>{const z=xo(m,Dr.Fallback,W);return At(e,z,{rootSchema:n,_recurseList:a,experimental_defaultFormStateBehavior:i,experimental_customMergeAllOf:s,parentDefaults:L,required:o,shouldMergeDefaultsIntoFormData:c})})),Array.isArray(r)){const L=xo(m);if(g)u=r;else{const W=r.map((G,F)=>At(e,L,{rootSchema:n,_recurseList:a,experimental_defaultFormStateBehavior:i,experimental_customMergeAllOf:s,rawFormData:G,parentDefaults:q(u,[F]),required:o,shouldMergeDefaultsIntoFormData:c}));u=xn(u,W,(p&&o||v)&&b)}}if((ae(m)&&mt in m&&(i==null?void 0:i.constAsDefaults)!=="never")===!1){if(g)return u??_;if(p&&!o)return u||void 0}const j=Array.isArray(u)?u.length:0;if(!m.minItems||$o(e,m,n,s)||w(e,m,n)||m.minItems<=j)return u||_;const C=u||[],O=xo(m,Dr.Invert),A=O.default,M=new Array(m.minItems-j).fill(At(e,O,{parentDefaults:A,rootSchema:n,_recurseList:a,experimental_defaultFormStateBehavior:i,experimental_customMergeAllOf:s,required:o,shouldMergeDefaultsIntoFormData:c}));return C.concat(M)}function wp(e,t,r={},n){switch(vt(t)){case"object":return A5(e,t,r,n);case"array":return P5(e,t,r,n)}}function $p(e,t,r,n,a=!1,i,s){if(!ae(t))throw new Error("Invalid schema: "+t);const o=Ue(e,t,n,r,s),c=At(e,o,{rootSchema:n,includeUndefinedValues:a,experimental_defaultFormStateBehavior:i,experimental_customMergeAllOf:s,rawFormData:r,shouldMergeDefaultsIntoFormData:!0});if(ae(r)||Array.isArray(r)){const{mergeDefaultsIntoFormData:u}=i||{};return xn(c,r,!0,u==="useDefaultIfFormDataUndefined",!0)}return c}function xp(e={}){return"widget"in ie(e)&&ie(e).widget!=="hidden"}function _p(e,t,r={},n,a){if(r[Bi]==="files")return!0;if(t.items){const i=Ue(e,t.items,n,void 0,a);return i.type==="string"&&i.format==="data-url"}return!1}function k5(e,t,r={},n,a,i){const s=ie(r,a),{label:o=!0}=s;let c=!!o;const u=vt(t);return u==="array"&&(c=$o(e,t,n,i)||_p(e,t,r,n,i)||xp(r)),u==="object"&&(c=!1),u==="boolean"&&!r[Bi]&&(c=!1),r[Ug]&&(c=!1),c}function I5(e,t,r){if(!r)return t;const{errors:n,errorSchema:a}=t;let i=e.toErrorList(r),s=r;return vr(a)||(s=$t(a,r,!0),i=[...n].concat(i)),{errorSchema:s,errors:i}}const Lr=Symbol("no Value");function _o(e,t,r,n,a={},i){let s;if(Pe(r,$e)){const o={};if(Pe(n,$e)){const l=q(n,$e,{});Object.keys(l).forEach(f=>{Pe(a,f)&&(o[f]=void 0)})}const c=Object.keys(q(r,$e,{})),u={};c.forEach(l=>{const f=q(a,l);let m=q(n,[$e,l],{}),h=q(r,[$e,l],{});Pe(m,Se)&&(m=Ue(e,m,t,f,i)),Pe(h,Se)&&(h=Ue(e,h,t,f,i));const y=q(m,"type"),b=q(h,"type");if(!y||y===b)if(Pe(o,l)&&delete o[l],b==="object"||b==="array"&&Array.isArray(f)){const g=_o(e,t,h,m,f,i);(g!==void 0||b==="array")&&(u[l]=g)}else{const g=q(h,"default",Lr),p=q(m,"default",Lr);g!==Lr&&g!==f&&(p===f?o[l]=g:q(h,"readOnly")===!0&&(o[l]=void 0));const v=q(h,"const",Lr),w=q(m,"const",Lr);v!==Lr&&v!==f&&(o[l]=w===f?v:void 0)}}),s={...typeof a=="string"||Array.isArray(a)?void 0:a,...o,...u}}else if(q(n,"type")==="array"&&q(r,"type")==="array"&&Array.isArray(a)){let o=q(n,"items"),c=q(r,"items");if(typeof o=="object"&&typeof c=="object"&&!Array.isArray(o)&&!Array.isArray(c)){Pe(o,Se)&&(o=Ue(e,o,t,a,i)),Pe(c,Se)&&(c=Ue(e,c,t,a,i));const u=q(o,"type"),l=q(c,"type");if(!u||u===l){const f=q(r,"maxItems",-1);l==="object"?s=a.reduce((m,h)=>{const y=_o(e,t,c,o,h,i);return y!==void 0&&(f<0||m.length<f)&&m.push(y),m},[]):s=f>0&&a.length>f?a.slice(0,f):a}}else typeof o=="boolean"&&typeof c=="boolean"&&o===c&&(s=a)}return s}function Ha(e,t,r,n,a,i,s,o=[],c){if(Se in t||Xn in t||fr in t){const f=Ue(e,t,i,s,c);if(o.findIndex(h=>be(h,f))===-1)return Ha(e,f,r,n,a,i,s,o.concat(f),c)}if(Tt in t&&!q(t,[Tt,Se]))return Ha(e,q(t,Tt),r,n,a,i,s,o,c);const l={$id:a||r};if(vt(t)==="object"&&$e in t)for(const f in t.properties){const m=q(t,[$e,f]),h=l[Ct]+n+f;l[f]=Ha(e,ae(m)?m:{},r,n,h,i,q(s,[f]),o,c)}return l}function M5(e,t,r,n,a,i="root",s="_",o){return Ha(e,t,i,s,r,n,a,void 0,o)}function Zt(e,t,r,n,a,i=[],s){if(Se in t||Xn in t||fr in t){const c=Ue(e,t,n,a,s);if(i.findIndex(l=>be(l,c))===-1)return Zt(e,c,r,n,a,i.concat(c),s)}let o={[ea]:r.replace(/^\./,"")};if(Fe in t||He in t){const c=Fe in t?t.oneOf:t.anyOf,u=Mr(t),l=wn(e,n,a,c,0,u,s),f=c[l];o={...o,...Zt(e,f,r,n,a,i,s)}}if(Wi in t&&t[Wi]!==!1&&Oe(o,Vi,!0),Tt in t&&Array.isArray(a)){const{items:c,additionalItems:u}=t;Array.isArray(c)?a.forEach((l,f)=>{c[f]?o[f]=Zt(e,c[f],`${r}.${f}`,n,l,i,s):u?o[f]=Zt(e,u,`${r}.${f}`,n,l,i,s):console.warn(`Unable to generate path schema for "${r}.${f}". No schema defined for it`)}):a.forEach((l,f)=>{o[f]=Zt(e,c,`${r}.${f}`,n,l,i,s)})}else if($e in t)for(const c in t.properties){const u=q(t,[$e,c]);o[c]=Zt(e,u,`${r}.${c}`,n,q(a,[c]),i,s)}return o}function D5(e,t,r="",n,a,i){return Zt(e,t,r,n,a,void 0,i)}class L5{constructor(t,r,n,a){this.rootSchema=r,this.validator=t,this.experimental_defaultFormStateBehavior=n,this.experimental_customMergeAllOf=a}getValidator(){return this.validator}doesSchemaUtilsDiffer(t,r,n={},a){return!t||!r?!1:this.validator!==t||!be(this.rootSchema,r)||!be(this.experimental_defaultFormStateBehavior,n)||this.experimental_customMergeAllOf!==a}getDefaultFormState(t,r,n=!1){return $p(this.validator,t,r,this.rootSchema,n,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(t,r,n){return k5(this.validator,t,r,this.rootSchema,n,this.experimental_customMergeAllOf)}getClosestMatchingOption(t,r,n,a){return wn(this.validator,this.rootSchema,t,r,n,a,this.experimental_customMergeAllOf)}getFirstMatchingOption(t,r,n){return ys(this.validator,t,r,this.rootSchema,n)}getMatchingOption(t,r,n){return Lu(this.validator,t,r,this.rootSchema,n)}isFilesArray(t,r){return _p(this.validator,t,r,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(t){return $o(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(t){return wo(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}mergeValidationData(t,r){return I5(this.validator,t,r)}retrieveSchema(t,r){return Ue(this.validator,t,this.rootSchema,r,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(t,r,n){return _o(this.validator,this.rootSchema,t,r,n,this.experimental_customMergeAllOf)}toIdSchema(t,r,n,a="root",i="_"){return M5(this.validator,t,r,this.rootSchema,n,a,i,this.experimental_customMergeAllOf)}toPathSchema(t,r,n){return D5(this.validator,t,r,this.rootSchema,n,this.experimental_customMergeAllOf)}}function F5(e,t,r={},n){return new L5(e,t,r,n)}function R5(e){var t;if(e.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const n=e.slice(5).split(";base64,");if(n.length!==2)throw new Error("File is invalid: dataURI must be base64");const[a,i]=n,[s,...o]=a.split(";"),c=s||"",u=decodeURI(((t=o.map(l=>l.split("=")).find(([l])=>l==="name"))===null||t===void 0?void 0:t[1])||"unknown");try{const l=atob(i),f=new Array(l.length);for(let h=0;h<l.length;h++)f[h]=l.charCodeAt(h);return{blob:new window.Blob([new Uint8Array(f)],{type:c}),name:u}}catch(l){throw new Error("File is invalid: "+l.message)}}function Pt(e,t){let r=String(e);for(;r.length<t;)r="0"+r;return r}function Sp(e,t){if(e<=0&&t<=0)e=new Date().getFullYear()+e,t=new Date().getFullYear()+t;else if(e<0||t<0)throw new Error(`Both start (${e}) and stop (${t}) must both be <= 0 or > 0, got one of each`);if(e>t)return Sp(t,e).reverse();const r=[];for(let n=e;n<=t;n++)r.push({value:n,label:Pt(n,2)});return r}function U5(e,t){let r=e;if(Array.isArray(t)){const n=r.split(/(%\d)/);t.forEach((a,i)=>{const s=n.findIndex(o=>o===`%${i+1}`);s>=0&&(n[s]=a)}),r=n.join("")}return r}function z5(e,t){return U5(e,t)}function lt(e,t=[],r){if(Array.isArray(e))return e.map(i=>lt(i,t)).filter(i=>i!==r);const n=e===""||e===null?-1:Number(e),a=t[n];return a?a.value:r}function W5(e,t,r=[]){const n=lt(e,r);return Array.isArray(t)?t.filter(a=>!be(a,n)):be(n,t)?void 0:t}function So(e,t){return Array.isArray(t)?t.some(r=>be(r,e)):be(t,e)}function V5(e,t=[],r=!1){const n=t.map((a,i)=>So(a.value,e)?String(i):void 0).filter(a=>typeof a<"u");return r?n:n[0]}function B5(e,t,r=[]){const n=lt(e,r);if(!$n(n)){const a=r.findIndex(o=>n===o.value),i=r.map(({value:o})=>o);return t.slice(0,a).concat(n,t.slice(a)).sort((o,c)=>+(i.indexOf(o)>i.indexOf(c)))}return t}var q5=1,G5=4;function jp(e){return ln(e,q5|G5)}function K5(e,t,r,n){return n=typeof n=="function"?n:void 0,e==null?e:bs(e,t,r,n)}class H5{constructor(t){this.errorSchema={},this.resetAllErrors(t)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(t){let n=Array.isArray(t)&&t.length>0||typeof t=="string"?q(this.errorSchema,t):this.errorSchema;return!n&&t&&(n={},K5(this.errorSchema,t,n,Object)),n}resetAllErrors(t){return this.errorSchema=t?jp(t):{},this}addErrors(t,r){const n=this.getOrCreateErrorBlock(r);let a=q(n,Le);return Array.isArray(a)||(a=[],n[Le]=a),Array.isArray(t)?Oe(n,Le,[...new Set([...a,...t])]):Oe(n,Le,[...new Set([...a,t])]),this}setErrors(t,r){const n=this.getOrCreateErrorBlock(r),a=Array.isArray(t)?[...new Set([...t])]:[t];return Oe(n,Le,a),this}clearErrors(t){const r=this.getOrCreateErrorBlock(t);return Oe(r,Le,[]),this}}function Y5(e,t,r=[1900,new Date().getFullYear()+2],n="YMD"){const{day:a,month:i,year:s,hour:o,minute:c,second:u}=e,l={type:"day",range:[1,31],value:a},f={type:"month",range:[1,12],value:i},m={type:"year",range:r,value:s},h=[];switch(n){case"MDY":h.push(f,l,m);break;case"DMY":h.push(l,f,m);break;case"YMD":default:h.push(m,f,l)}return t&&h.push({type:"hour",range:[0,23],value:o},{type:"minute",range:[0,59],value:c},{type:"second",range:[0,59],value:u}),h}function J5(e){const t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function Q5(e,t,r={},n=!0){const a={type:t||"text",...J5(e)};return r.inputType?a.type=r.inputType:t||(e.type==="number"?(a.type="number",n&&a.step===void 0&&(a.step="any")):e.type==="integer"&&(a.type="number",a.step===void 0&&(a.step=1))),r.autocomplete&&(a.autoComplete=r.autocomplete),r.accept&&(a.accept=r.accept),a}const Np={props:{disabled:!1},submitText:"Submit",norender:!1};function Z5(e={}){const t=ie(e);if(t&&t[ta]){const r=t[ta];return{...Np,...r}}return Np}function ce(e,t,r={}){const{templates:n}=t;return e==="ButtonTemplates"?n[e]:r[e]||n[e]}var Ep={exports:{}},le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=Symbol.for("react.element"),No=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),Ja=Symbol.for("react.strict_mode"),Qa=Symbol.for("react.profiler"),Za=Symbol.for("react.provider"),Xa=Symbol.for("react.context"),X5=Symbol.for("react.server_context"),ei=Symbol.for("react.forward_ref"),ti=Symbol.for("react.suspense"),ri=Symbol.for("react.suspense_list"),ni=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),eM=Symbol.for("react.offscreen"),Op;Op=Symbol.for("react.module.reference");function Ge(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jo:switch(e=e.type,e){case Ya:case Qa:case Ja:case ti:case ri:return e;default:switch(e=e&&e.$$typeof,e){case X5:case Xa:case ei:case ai:case ni:case Za:return e;default:return t}}case No:return t}}}le.ContextConsumer=Xa,le.ContextProvider=Za,le.Element=jo,le.ForwardRef=ei,le.Fragment=Ya,le.Lazy=ai,le.Memo=ni,le.Portal=No,le.Profiler=Qa,le.StrictMode=Ja,le.Suspense=ti,le.SuspenseList=ri,le.isAsyncMode=function(){return!1},le.isConcurrentMode=function(){return!1},le.isContextConsumer=function(e){return Ge(e)===Xa},le.isContextProvider=function(e){return Ge(e)===Za},le.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jo},le.isForwardRef=function(e){return Ge(e)===ei},le.isFragment=function(e){return Ge(e)===Ya},le.isLazy=function(e){return Ge(e)===ai},le.isMemo=function(e){return Ge(e)===ni},le.isPortal=function(e){return Ge(e)===No},le.isProfiler=function(e){return Ge(e)===Qa},le.isStrictMode=function(e){return Ge(e)===Ja},le.isSuspense=function(e){return Ge(e)===ti},le.isSuspenseList=function(e){return Ge(e)===ri},le.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ya||e===Qa||e===Ja||e===ti||e===ri||e===eM||typeof e=="object"&&e!==null&&(e.$$typeof===ai||e.$$typeof===ni||e.$$typeof===Za||e.$$typeof===Xa||e.$$typeof===ei||e.$$typeof===Op||e.getModuleId!==void 0)},le.typeOf=Ge,Ep.exports=le;var tM=Ep.exports;const Cp=Jr(tM),Eo={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function rM(e){let t=q(e,"MergedWidget");if(!t){const r=e.defaultProps&&e.defaultProps.options||{};t=({options:n,...a})=>d.jsx(e,{options:{...r,...n},...a}),Oe(e,"MergedWidget",t)}return t}function xt(e,t,r={}){const n=vt(e);if(typeof t=="function"||t&&Cp.isForwardRef(I.createElement(t))||Cp.isMemo(t))return rM(t);if(typeof t!="string")throw new Error(`Unsupported widget definition: ${typeof t}`);if(t in r){const a=r[t];return xt(e,a,r)}if(typeof n=="string"){if(!(n in Eo))throw new Error(`No widget for type '${n}'`);if(t in Eo[n]){const a=r[Eo[n][t]];return xt(e,a,r)}}throw new Error(`No widget '${t}' for type '${n}'`)}function nM(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t.toString(16)}function aM(e){const t=new Set;return JSON.stringify(e,(r,n)=>(t.add(r),n)),nM(JSON.stringify(e,Array.from(t).sort()))}function iM(e,t,r={}){try{return xt(e,t,r),!0}catch(n){const a=n;if(a.message&&(a.message.startsWith("No widget")||a.message.startsWith("Unsupported widget")))return!1;throw n}}function Sn(e,t){return`${ba(e)?e:e[Ct]}__${t}`}function jn(e){return Sn(e,"description")}function Tp(e){return Sn(e,"error")}function Oo(e){return Sn(e,"examples")}function Ap(e){return Sn(e,"help")}function Pp(e){return Sn(e,"title")}function Xt(e,t=!1){const r=t?` ${Oo(e)}`:"";return`${Tp(e)} ${jn(e)} ${Ap(e)}${r}`}function kp(e,t){return`${e}-${t}`}function sM(e,t,r){return t?r:e}function oM(e){return e?new Date(e).toJSON():void 0}function cM(e,t){if(!Array.isArray(t))return e;const r=l=>l.reduce((f,m)=>(f[m]=!0,f),{}),n=l=>l.length>1?`properties '${l.join("', '")}'`:`property '${l[0]}'`,a=r(e),i=t.filter(l=>l==="*"||a[l]),s=r(i),o=e.filter(l=>!s[l]),c=i.indexOf("*");if(c===-1){if(o.length)throw new Error(`uiSchema order list does not contain ${n(o)}`);return i}if(c!==i.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const u=[...i];return u.splice(c,1,...o),u}function Co(e,t=!0){if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};const r=new Date(e);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:t?r.getUTCHours():0,minute:t?r.getUTCMinutes():0,second:t?r.getUTCSeconds():0}}function ii(e){if(e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0)return!0;if(e.anyOf&&e.anyOf.length===1)return ii(e.anyOf[0]);if(e.oneOf&&e.oneOf.length===1)return ii(e.oneOf[0]);if(e.allOf){const t=r=>ii(r);return e.allOf.some(t)}return!1}function lM(e,t,r){const{props:n,state:a}=e;return!be(n,t)||!be(a,r)}function Ip(e,t=!0){const{year:r,month:n,day:a,hour:i=0,minute:s=0,second:o=0}=e,c=Date.UTC(r,n-1,a,i,s,o),u=new Date(c).toJSON();return t?u:u.slice(0,10)}function Nn(e,t=[]){if(!e)return[];let r=[];return Le in e&&(r=r.concat(e[Le].map(n=>{const a=`.${t.join(".")}`;return{property:a,message:n,stack:`${a} ${n}`}}))),Object.keys(e).reduce((n,a)=>{if(a!==Le){const i=e[a];Ut(i)&&(n=n.concat(Nn(i,[...t,a])))}return n},r)}function Mp(e){return je(e)?fa(e,qt):on(e)?[e]:ds(Gl(ss(e)))}function uM(e){const t=new H5;return e.length&&e.forEach(r=>{const{property:n,message:a}=r,i=n==="."?[]:Mp(n);i.length>0&&i[0]===""&&i.splice(0,1),a&&t.addErrors(a,i)}),t.ErrorSchema}function To(e){return Object.keys(e).reduce((t,r)=>{if(r==="addError")return t;{const n=e[r];return Ut(n)?{...t,[r]:To(n)}:{...t,[r]:n}}},{})}function dM(e){if(!e)return"";const t=new Date(e),r=Pt(t.getFullYear(),4),n=Pt(t.getMonth()+1,2),a=Pt(t.getDate(),2),i=Pt(t.getHours(),2),s=Pt(t.getMinutes(),2),o=Pt(t.getSeconds(),2),c=Pt(t.getMilliseconds(),3);return`${r}-${n}-${a}T${i}:${s}:${o}.${c}`}function si(e,t){if(!t)return e;const{errors:r,errorSchema:n}=e;let a=Nn(t),i=t;return vr(n)||(i=$t(n,t,!0),a=[...r].concat(a)),{errorSchema:i,errors:a}}function fM(e){for(const t in e){const r=e,n=r[t];t===Se&&typeof n=="string"&&n.startsWith("#")?r[t]=gl+n:r[t]=Ao(n)}return e}function pM(e){for(let t=0;t<e.length;t++)e[t]=Ao(e[t]);return e}function Ao(e){return Array.isArray(e)?pM([...e]):he(e)?fM({...e}):e}function Dp(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var s=t[n],o=pa(e,s);r(o,s)&&bs(i,br(s,e),o)}return i}function hM(e,t){if(e==null)return{};var r=fa(fs(e),function(n){return[n]});return t=ms(t),Dp(e,r,function(n,a){return t(n,a[0])})}var mM=200;function gM(e,t,r,n){var a=-1,i=Ru,s=!0,o=e.length,c=[],u=t.length;if(!o)return c;t.length>=mM&&(i=Gi,s=!1,t=new pr(t));e:for(;++a<o;){var l=e[a],f=l;if(l=l!==0?l:0,s&&f===f){for(var m=u;m--;)if(t[m]===f)continue e;c.push(l)}else i(t,f,n)||c.push(l)}return c}var yM=$s(function(e,t){return va(e)?gM(e,un(t,1,va,!0)):[]});function bM(e,t){const r=Ut(e),n=Ut(t);if(e===t||!r&&!n)return[];if(r&&!n)return at(e);if(!r&&n)return at(t);{const a=at(hM(e,(s,o)=>!be(s,q(t,o)))),i=yM(at(t),at(e));return[...a,...i]}}var de;(function(e){e.ArrayItemTitle="Item",e.MissingItems="Missing items definition",e.YesLabel="Yes",e.NoLabel="No",e.CloseLabel="Close",e.ErrorsLabel="Errors",e.NewStringDefault="New Value",e.AddButton="Add",e.AddItemButton="Add Item",e.CopyButton="Copy",e.MoveDownButton="Move down",e.MoveUpButton="Move up",e.RemoveButton="Remove",e.NowLabel="Now",e.ClearLabel="Clear",e.AriaDateLabel="Select a date",e.PreviewLabel="Preview",e.DecrementAriaLabel="Decrease value by 1",e.IncrementAriaLabel="Increase value by 1",e.UnknownFieldType="Unknown field type %1",e.OptionPrefix="Option %1",e.TitleOptionPrefix="%1 option %2",e.KeyLabel="%1 Key",e.InvalidObjectField='Invalid "%1" object field configuration: _%2_.',e.UnsupportedField="Unsupported field schema.",e.UnsupportedFieldWithId="Unsupported field schema for field `%1`.",e.UnsupportedFieldWithReason="Unsupported field schema: _%1_.",e.UnsupportedFieldWithIdAndReason="Unsupported field schema for field `%1`: _%2_.",e.FilesInfo="**%1** (%2, %3 bytes)"})(de||(de={}));function vM(e,t){var r=je(e)?cs:Ou;return r(e,Pu(t))}function wM(e,t){return Dp(e,t,function(r,n){return Au(e,n)})}var Lp=$u(function(e,t){return e==null?{}:wM(e,t)}),$M=0;function xM(e){var t=++$M;return ss(e)+t}function Po(){return xM("rjsf-array-item-")}function Fp(e){return Array.isArray(e)?e.map(t=>({key:Po(),item:t})):[]}function En(e){return Array.isArray(e)?e.map(t=>t.item):[]}class _M extends I.Component{constructor(r){super(r);pe(this,"_getNewFormDataRow",()=>{const{schema:r,registry:n}=this.props,{schemaUtils:a}=n;let i=r.items;return vo(r)&&Ig(r)&&(i=r.additionalItems),a.getDefaultFormState(i)});pe(this,"onAddClick",r=>{this._handleAddClick(r)});pe(this,"onAddIndexClick",r=>n=>{this._handleAddClick(n,r)});pe(this,"onCopyIndexClick",r=>n=>{n&&n.preventDefault();const{onChange:a,errorSchema:i}=this.props,{keyedFormData:s}=this.state;let o;if(i){o={};for(const l in i){const f=parseInt(l);f<=r?Oe(o,[f],i[l]):f>r&&Oe(o,[f+1],i[l])}}const c={key:Po(),item:jp(s[r].item)},u=[...s];r!==void 0?u.splice(r+1,0,c):u.push(c),this.setState({keyedFormData:u,updatedKeyedFormData:!0},()=>a(En(u),o))});pe(this,"onDropIndexClick",r=>n=>{n&&n.preventDefault();const{onChange:a,errorSchema:i}=this.props,{keyedFormData:s}=this.state;let o;if(i){o={};for(const u in i){const l=parseInt(u);l<r?Oe(o,[l],i[u]):l>r&&Oe(o,[l-1],i[u])}}const c=s.filter((u,l)=>l!==r);this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>a(En(c),o))});pe(this,"onReorderClick",(r,n)=>a=>{a&&(a.preventDefault(),a.currentTarget.blur());const{onChange:i,errorSchema:s}=this.props;let o;if(s){o={};for(const f in s){const m=parseInt(f);m==r?Oe(o,[n],s[r]):m==n?Oe(o,[r],s[n]):Oe(o,[f],s[m])}}const{keyedFormData:c}=this.state;function u(){const f=c.slice();return f.splice(r,1),f.splice(n,0,c[r]),f}const l=u();this.setState({keyedFormData:l},()=>i(En(l),o))});pe(this,"onChangeForIndex",r=>(n,a,i)=>{const{formData:s,onChange:o,errorSchema:c}=this.props,l=(Array.isArray(s)?s:[]).map((f,m)=>r===m?typeof n>"u"?null:n:f);o(l,c&&c&&{...c,[r]:a},i)});pe(this,"onSelectChange",r=>{const{onChange:n,idSchema:a}=this.props;n(r,void 0,a&&a.$id)});const{formData:n=[]}=r,a=Fp(n);this.state={keyedFormData:a,updatedKeyedFormData:!1}}static getDerivedStateFromProps(r,n){if(n.updatedKeyedFormData)return{updatedKeyedFormData:!1};const a=Array.isArray(r.formData)?r.formData:[],i=n.keyedFormData||[];return{keyedFormData:a.length===i.length?i.map((o,c)=>({key:o.key,item:a[c]})):Fp(a)}}get itemTitle(){const{schema:r,registry:n}=this.props,{translateString:a}=n;return q(r,[Tt,"title"],q(r,[Tt,"description"],a(de.ArrayItemTitle)))}isItemRequired(r){return Array.isArray(r.type)?!r.type.includes("null"):r.type!=="null"}canAddItem(r){const{schema:n,uiSchema:a,registry:i}=this.props;let{addable:s}=ie(a,i.globalUiOptions);return s!==!1&&(n.maxItems!==void 0?s=r.length<n.maxItems:s=!0),s}_handleAddClick(r,n){r&&r.preventDefault();const{onChange:a,errorSchema:i}=this.props,{keyedFormData:s}=this.state;let o;if(i){o={};for(const l in i){const f=parseInt(l);n===void 0||f<n?Oe(o,[f],i[l]):f>=n&&Oe(o,[f+1],i[l])}}const c={key:Po(),item:this._getNewFormDataRow()},u=[...s];n!==void 0?u.splice(n,0,c):u.push(c),this.setState({keyedFormData:u,updatedKeyedFormData:!0},()=>a(En(u),o))}render(){const{schema:r,uiSchema:n,idSchema:a,registry:i}=this.props,{schemaUtils:s,translateString:o}=i;if(!(Tt in r)){const c=ie(n),u=ce("UnsupportedFieldTemplate",i,c);return d.jsx(u,{schema:r,idSchema:a,reason:o(de.MissingItems),registry:i})}return s.isMultiSelect(r)?this.renderMultiSelect():xp(n)?this.renderCustomWidget():vo(r)?this.renderFixedArray():s.isFilesArray(r,n)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:r,uiSchema:n={},errorSchema:a,idSchema:i,name:s,title:o,disabled:c=!1,readonly:u=!1,autofocus:l=!1,required:f=!1,registry:m,onBlur:h,onFocus:y,idPrefix:b,idSeparator:g="_",rawErrors:p}=this.props,{keyedFormData:v}=this.state,w=r.title||o||s,{schemaUtils:x,formContext:_}=m,T=ie(n),j=he(r.items)?r.items:{},C=x.retrieveSchema(j),O=En(this.state.keyedFormData),A=this.canAddItem(O),M={canAdd:A,items:v.map((W,z)=>{const{key:G,item:F}=W,ee=F,Z=x.retrieveSchema(j,ee),te=a?a[z]:void 0,D=i.$id+g+z,N=x.toIdSchema(Z,D,ee,b,g);return this.renderArrayFieldItem({key:G,index:z,name:s&&`${s}-${z}`,title:w?`${w}-${z+1}`:void 0,canAdd:A,canMoveUp:z>0,canMoveDown:z<O.length-1,itemSchema:Z,itemIdSchema:N,itemErrorSchema:te,itemData:ee,itemUiSchema:n.items,autofocus:l&&z===0,onBlur:h,onFocus:y,rawErrors:p,totalItems:v.length})}),className:`field field-array field-array-of-${C.type}`,disabled:c,idSchema:i,uiSchema:n,onAddClick:this.onAddClick,readonly:u,required:f,schema:r,title:w,formContext:_,formData:O,rawErrors:p,registry:m},L=ce("ArrayFieldTemplate",m,T);return d.jsx(L,{...M})}renderCustomWidget(){const{schema:r,idSchema:n,uiSchema:a,disabled:i=!1,readonly:s=!1,autofocus:o=!1,required:c=!1,hideError:u,placeholder:l,onBlur:f,onFocus:m,formData:h=[],registry:y,rawErrors:b,name:g}=this.props,{widgets:p,formContext:v,globalUiOptions:w,schemaUtils:x}=y,{widget:_,title:T,...j}=ie(a,w),C=xt(r,_,p),O=T??r.title??g,A=x.getDisplayLabel(r,a,w);return d.jsx(C,{id:n.$id,name:g,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:m,options:j,schema:r,uiSchema:a,registry:y,value:h,disabled:i,readonly:s,hideError:u,required:c,label:O,hideLabel:!A,placeholder:l,formContext:v,autofocus:o,rawErrors:b})}renderMultiSelect(){const{schema:r,idSchema:n,uiSchema:a,formData:i=[],disabled:s=!1,readonly:o=!1,autofocus:c=!1,required:u=!1,placeholder:l,onBlur:f,onFocus:m,registry:h,rawErrors:y,name:b}=this.props,{widgets:g,schemaUtils:p,formContext:v,globalUiOptions:w}=h,x=p.retrieveSchema(r.items,i),_=_n(x,a),{widget:T="select",title:j,...C}=ie(a,w),O=xt(r,T,g),A=j??r.title??b,M=p.getDisplayLabel(r,a,w);return d.jsx(O,{id:n.$id,name:b,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:m,options:{...C,enumOptions:_},schema:r,uiSchema:a,registry:h,value:i,disabled:s,readonly:o,required:u,label:A,hideLabel:!M,placeholder:l,formContext:v,autofocus:c,rawErrors:y})}renderFiles(){const{schema:r,uiSchema:n,idSchema:a,name:i,disabled:s=!1,readonly:o=!1,autofocus:c=!1,required:u=!1,onBlur:l,onFocus:f,registry:m,formData:h=[],rawErrors:y}=this.props,{widgets:b,formContext:g,globalUiOptions:p,schemaUtils:v}=m,{widget:w="files",title:x,..._}=ie(n,p),T=xt(r,w,b),j=x??r.title??i,C=v.getDisplayLabel(r,n,p);return d.jsx(T,{options:_,id:a.$id,name:i,multiple:!0,onChange:this.onSelectChange,onBlur:l,onFocus:f,schema:r,uiSchema:n,value:h,disabled:s,readonly:o,required:u,registry:m,formContext:g,autofocus:c,rawErrors:y,label:j,hideLabel:!C})}renderFixedArray(){const{schema:r,uiSchema:n={},formData:a=[],errorSchema:i,idPrefix:s,idSeparator:o="_",idSchema:c,name:u,title:l,disabled:f=!1,readonly:m=!1,autofocus:h=!1,required:y=!1,registry:b,onBlur:g,onFocus:p,rawErrors:v}=this.props,{keyedFormData:w}=this.state;let{formData:x=[]}=this.props;const _=r.title||l||u,T=ie(n),{schemaUtils:j,formContext:C}=b,A=(he(r.items)?r.items:[]).map((G,F)=>j.retrieveSchema(G,a[F])),M=he(r.additionalItems)?j.retrieveSchema(r.additionalItems,a):null;(!x||x.length<A.length)&&(x=x||[],x=x.concat(new Array(A.length-x.length)));const L=this.canAddItem(x)&&!!M,W={canAdd:L,className:"field field-array field-array-fixed-items",disabled:f,idSchema:c,formData:a,items:w.map((G,F)=>{const{key:ee,item:Z}=G,te=Z,D=F>=A.length,N=(D&&he(r.additionalItems)?j.retrieveSchema(r.additionalItems,te):A[F])||{},P=c.$id+o+F,E=j.toIdSchema(N,P,te,s,o),$=D?n.additionalItems||{}:Array.isArray(n.items)?n.items[F]:n.items||{},S=i?i[F]:void 0;return this.renderArrayFieldItem({key:ee,index:F,name:u&&`${u}-${F}`,title:_?`${_}-${F+1}`:void 0,canAdd:L,canRemove:D,canMoveUp:F>=A.length+1,canMoveDown:D&&F<x.length-1,itemSchema:N,itemData:te,itemUiSchema:$,itemIdSchema:E,itemErrorSchema:S,autofocus:h&&F===0,onBlur:g,onFocus:p,rawErrors:v,totalItems:w.length})}),onAddClick:this.onAddClick,readonly:m,required:y,registry:b,schema:r,uiSchema:n,title:_,formContext:C,errorSchema:i,rawErrors:v},z=ce("ArrayFieldTemplate",b,T);return d.jsx(z,{...W})}renderArrayFieldItem(r){const{key:n,index:a,name:i,canAdd:s,canRemove:o=!0,canMoveUp:c,canMoveDown:u,itemSchema:l,itemData:f,itemUiSchema:m,itemIdSchema:h,itemErrorSchema:y,autofocus:b,onBlur:g,onFocus:p,rawErrors:v,totalItems:w,title:x}=r,{disabled:_,hideError:T,idPrefix:j,idSeparator:C,readonly:O,uiSchema:A,registry:M,formContext:L}=this.props,{fields:{ArraySchemaField:W,SchemaField:z},globalUiOptions:G}=M,F=W||z,{orderable:ee=!0,removable:Z=!0,copyable:te=!1}=ie(A,G),D={moveUp:ee&&c,moveDown:ee&&u,copy:te&&s,remove:Z&&o,toolbar:!1};return D.toolbar=Object.keys(D).some(N=>D[N]),{children:d.jsx(F,{name:i,title:x,index:a,schema:l,uiSchema:m,formData:f,formContext:L,errorSchema:y,idPrefix:j,idSeparator:C,idSchema:h,required:this.isItemRequired(l),onChange:this.onChangeForIndex(a),onBlur:g,onFocus:p,registry:M,disabled:_,readonly:O,hideError:T,autofocus:b,rawErrors:v}),className:"array-item",disabled:_,canAdd:s,hasCopy:D.copy,hasToolbar:D.toolbar,hasMoveUp:D.moveUp,hasMoveDown:D.moveDown,hasRemove:D.remove,index:a,totalItems:w,key:n,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:O,registry:M,schema:l,uiSchema:m}}}function SM(e){const{schema:t,name:r,uiSchema:n,idSchema:a,formData:i,registry:s,required:o,disabled:c,readonly:u,hideError:l,autofocus:f,title:m,onChange:h,onFocus:y,onBlur:b,rawErrors:g}=e,{title:p}=t,{widgets:v,formContext:w,translateString:x,globalUiOptions:_}=s,{widget:T="checkbox",title:j,label:C=!0,...O}=ie(n,_),A=xt(t,T,v),M=x(de.YesLabel),L=x(de.NoLabel);let W;const z=j??p??m??r;if(Array.isArray(t.oneOf))W=_n({oneOf:t.oneOf.map(G=>{if(he(G))return{...G,title:G.title||(G.const===!0?M:L)}}).filter(G=>G)},n);else{const G=t,F=t.enum??[!0,!1];!G.enumNames&&F.length===2&&F.every(ee=>typeof ee=="boolean")?W=[{value:F[0],label:F[0]?M:L},{value:F[1],label:F[1]?M:L}]:W=_n({enum:F,enumNames:G.enumNames},n)}return d.jsx(A,{options:{...O,enumOptions:W},schema:t,uiSchema:n,id:a.$id,name:r,onChange:h,onFocus:y,onBlur:b,label:z,hideLabel:!C,value:i,required:o,disabled:c,readonly:u,hideError:l,registry:s,formContext:w,autofocus:f,rawErrors:g})}class Rp extends I.Component{constructor(r){super(r);pe(this,"onOptionChange",r=>{const{selectedOption:n,retrievedOptions:a}=this.state,{formData:i,onChange:s,registry:o}=this.props,{schemaUtils:c}=o,u=r!==void 0?parseInt(r,10):-1;if(u===n)return;const l=u>=0?a[u]:void 0,f=n>=0?a[n]:void 0;let m=c.sanitizeDataForNewSchema(l,f,i);l&&(m=c.getDefaultFormState(l,m,"excludeObjectChildren")),this.setState({selectedOption:u},()=>{s(m,void 0,this.getFieldId())})});const{formData:n,options:a,registry:{schemaUtils:i}}=this.props,s=a.map(o=>i.retrieveSchema(o,n));this.state={retrievedOptions:s,selectedOption:this.getMatchingOption(0,n,s)}}componentDidUpdate(r,n){const{formData:a,options:i,idSchema:s}=this.props,{selectedOption:o}=this.state;let c=this.state;if(!be(r.options,i)){const{registry:{schemaUtils:u}}=this.props,l=i.map(f=>u.retrieveSchema(f,a));c={selectedOption:o,retrievedOptions:l}}if(!be(a,r.formData)&&s.$id===r.idSchema.$id){const{retrievedOptions:u}=c,l=this.getMatchingOption(o,a,u);n&&l!==o&&(c={selectedOption:l,retrievedOptions:u})}c!==this.state&&this.setState(c)}getMatchingOption(r,n,a){const{schema:i,registry:{schemaUtils:s}}=this.props,o=Mr(i);return s.getClosestMatchingOption(n,a,r,o)}getFieldId(){const{idSchema:r,schema:n}=this.props;return`${r.$id}${n.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:r,disabled:n=!1,errorSchema:a={},formContext:i,onBlur:s,onFocus:o,readonly:c,registry:u,schema:l,uiSchema:f}=this.props,{widgets:m,fields:h,translateString:y,globalUiOptions:b,schemaUtils:g}=u,{SchemaField:p}=h,{selectedOption:v,retrievedOptions:w}=this.state,{widget:x="select",placeholder:_,autofocus:T,autocomplete:j,title:C=l.title,...O}=ie(f,b),A=xt({type:"number"},x,m),M=q(a,Le,[]),L=ya(a,[Le]),W=g.getDisplayLabel(l,f,b),z=v>=0&&w[v]||null;let G;if(z){const{required:N}=l;G=N?wt({required:N},z):z}let F=[];Fe in l&&f&&Fe in f?Array.isArray(f[Fe])?F=f[Fe]:console.warn(`uiSchema.oneOf is not an array for "${C||r}"`):He in l&&f&&He in f&&(Array.isArray(f[He])?F=f[He]:console.warn(`uiSchema.anyOf is not an array for "${C||r}"`));let ee=f;v>=0&&F.length>v&&(ee=F[v]);const Z=C?de.TitleOptionPrefix:de.OptionPrefix,te=C?[C]:[],D=w.map((N,P)=>{const{title:E=N.title}=ie(F[P]);return{label:E||y(Z,te.concat(String(P+1))),value:P}});return d.jsxs("div",{className:"panel panel-default panel-body",children:[d.jsx("div",{className:"form-group",children:d.jsx(A,{id:this.getFieldId(),name:`${r}${l.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:s,onFocus:o,disabled:n||vr(D),multiple:!1,rawErrors:M,errorSchema:L,value:v>=0?v:void 0,options:{enumOptions:D,...O},registry:u,formContext:i,placeholder:_,autocomplete:j,autofocus:T,label:C??r,hideLabel:!W,readonly:c})}),G&&G.type!=="null"&&d.jsx(p,{...this.props,schema:G,uiSchema:ee})]})}}const jM=/\.([0-9]*0)*$/,NM=/[0.]0*$/;function EM(e){const{registry:t,onChange:r,formData:n,value:a}=e,[i,s]=I.useState(a),{StringField:o}=t.fields;let c=n;const u=I.useCallback((l,f,m)=>{s(l),`${l}`.charAt(0)==="."&&(l=`0${l}`);const h=typeof l=="string"&&l.match(jM)?ml(l.replace(NM,"")):ml(l);r(h,f,m)},[r]);if(typeof i=="string"&&typeof c=="number"){const l=new RegExp(`^(${String(c).replace(".","\\.")})?\\.?0*$`);i.match(l)&&(c=i)}return d.jsx(o,{...e,formData:c,onChange:u})}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},er.apply(this,arguments)}const OM=["children","options"],Up=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),zp={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},CM=["style","script","pre"],TM=["src","href","data","formAction","srcDoc","action"],AM=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,PM=/\n{2,}$/,Wp=/^(\s*>[\s\S]*?)(?=\n\n|$)/,kM=/^ *> ?/gm,IM=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,MM=/^ {2,}\n/,DM=/^(?:([-*_])( *\1){2,}) *(?:\n *)+\n/,Vp=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,Bp=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,LM=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,FM=/^(?:\n *)*\n/,RM=/\r\n?/g,UM=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,zM=/^\[\^([^\]]+)]/,WM=/\f/g,VM=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,BM=/^\s*?\[(x|\s)\]/,qp=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Gp=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Kp=/^([^\n]+)\n *(=|-)\2{2,} *\n/,ko=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,qM=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,Hp=/^<!--[\s\S]*?(?:-->)/,GM=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,Io=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,KM=/^\{.*\}$/,HM=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,YM=/^<([^ >]+[:@\/][^ >]+)>/,JM=/-([a-z])?/gi,Yp=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,QM=/^[^\n]+(?:  \n|\n{2,})/,ZM=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,XM=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,e3=/^\[([^\]]*)\] ?\[([^\]]*)\]/,t3=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,r3=/\t/g,n3=/(^ *\||\| *$)/g,a3=/^ *:-+: *$/,i3=/^ *:-+ *$/,s3=/^ *-+: *$/,oi=e=>`(?=[\\s\\S]+?\\1${e?"\\1":""})`,ci="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",o3=RegExp(`^([*_])\\1${oi(1)}${ci}\\1\\1(?!\\1)`),c3=RegExp(`^([*_])${oi(0)}${ci}\\1(?!\\1)`),l3=RegExp(`^(==)${oi(0)}${ci}\\1`),u3=RegExp(`^(~~)${oi(0)}${ci}\\1`),d3=/^(:[a-zA-Z0-9-_]+:)/,f3=/^\\([^0-9A-Za-z\s])/,p3=/\\([^0-9A-Za-z\s])/g,h3=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,m3=/^\n+/,g3=/^([ \t]*)/,y3=/(?:^|\n)( *)$/,Mo="(?:\\d+\\.)",Do="(?:[*+-])";function Jp(e){return"( *)("+(e===1?Mo:Do)+") +"}const Qp=Jp(1),Zp=Jp(2);function Xp(e){return RegExp("^"+(e===1?Qp:Zp))}const b3=Xp(1),v3=Xp(2);function eh(e){return RegExp("^"+(e===1?Qp:Zp)+"[^\\n]*(?:\\n(?!\\1"+(e===1?Mo:Do)+" )[^\\n]*)*(\\n|$)","gm")}const w3=eh(1),$3=eh(2);function th(e){const t=e===1?Mo:Do;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const rh=th(1),nh=th(2);function ah(e,t){const r=t===1,n=r?rh:nh,a=r?w3:$3,i=r?b3:v3;return{t:s=>i.test(s),o:Fr(function(s,o){const c=y3.exec(o.prevCapture);return c&&(o.list||!o.inline&&!o.simple)?n.exec(s=c[1]+s):null}),i:1,u(s,o,c){const u=r?+s[2]:void 0,l=s[0].replace(PM,`
`).match(a);let f=!1;return{items:l.map(function(m,h){const y=i.exec(m)[0].length,b=RegExp("^ {1,"+y+"}","gm"),g=m.replace(b,"").replace(i,""),p=h===l.length-1,v=g.indexOf(`

`)!==-1||p&&f;f=v;const w=c.inline,x=c.list;let _;c.list=!0,v?(c.inline=!1,_=On(g)+`

`):(c.inline=!0,_=On(g));const T=o(_,c);return c.inline=w,c.list=x,T}),ordered:r,start:u}},l:(s,o,c)=>e(s.ordered?"ol":"ul",{key:c.key,start:s.type==="20"?s.start:void 0},s.items.map(function(u,l){return e("li",{key:l},o(u,c))}))}}const x3=RegExp(`^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),_3=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function ih(e){return typeof e=="string"}function On(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function li(e,t){return e.startsWith(t)}function S3(e,t,r){if(Array.isArray(r)){for(let n=0;n<r.length;n++)if(li(e,r[n]))return!0;return!1}return r(e,t)}function Cn(e){return e.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function j3(e){return s3.test(e)?"right":a3.test(e)?"center":i3.test(e)?"left":null}function sh(e,t,r,n){const a=r.inTable;r.inTable=!0;let i=[[]],s="";function o(){if(!s)return;const c=i[i.length-1];c.push.apply(c,t(s,r)),s=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((c,u,l)=>{c.trim()==="|"&&(o(),n)?u!==0&&u!==l.length-1&&i.push([]):s+=c}),o(),r.inTable=a,i}function N3(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(n3,"").split("|").map(j3):[],a=e[3]?function(s,o,c){return s.trim().split(`
`).map(function(u){return sh(u,o,c,!0)})}(e[3],t,r):[],i=sh(e[1],t,r,!!a.length);return r.inline=!1,a.length?{align:n,cells:a,header:i,type:"25"}:{children:i,type:"21"}}function oh(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function Fr(e){return e.inline=1,e}function tr(e){return Fr(function(t,r){return r.inline?e.exec(t):null})}function kt(e){return Fr(function(t,r){return r.inline||r.simple?e.exec(t):null})}function _t(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function ui(e){return Fr(function(t){return e.exec(t)})}const E3=/(javascript|vbscript|data(?!:image)):/i;function O3(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(E3.test(t))return null}catch{return null}return e}function ut(e){return e&&e.replace(p3,"$1")}function di(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!0,r.simple=!0;const i=e(t,r);return r.inline=n,r.simple=a,i}function C3(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!1,r.simple=!0;const i=e(t,r);return r.inline=n,r.simple=a,i}function T3(e,t,r){const n=r.inline||!1;r.inline=!1;const a=e(t,r);return r.inline=n,a}const Lo=(e,t,r)=>({children:di(t,e[2],r)});function Fo(){return{}}function Ro(){return null}function A3(...e){return e.filter(Boolean).join(" ")}function Uo(e,t,r){let n=e;const a=t.split(".");for(;a.length&&(n=n[a[0]],n!==void 0);)a.shift();return n||r}function P3(e="",t={}){t.overrides=t.overrides||{},t.namedCodesToUnicode=t.namedCodesToUnicode?er({},zp,t.namedCodesToUnicode):zp;const r=t.slugify||Cn,n=t.sanitizer||O3,a=t.createElement||R.createElement,i=[Wp,Vp,Bp,t.enforceAtxHeadings?Gp:qp,Kp,Yp,rh,nh],s=[...i,QM,ko,Hp,Io];function o(p,v){for(let w=0;w<p.length;w++)if(p[w].test(v))return!0;return!1}function c(p,v,...w){const x=Uo(t.overrides,p+".props",{});return a(function(_,T){const j=Uo(T,_);return j?typeof j=="function"||typeof j=="object"&&"render"in j?j:Uo(T,_+".component",_):_}(p,t.overrides),er({},v,x,{className:A3(v==null?void 0:v.className,x.className)||void 0}),...w)}function u(p){p=p.replace(VM,"");let v=!1;t.forceInline?v=!0:t.forceBlock||(v=t3.test(p)===!1);const w=b(y(v?p:On(p).replace(m3,"")+`

`,{inline:v}));for(;ih(w[w.length-1])&&!w[w.length-1].trim();)w.pop();if(t.wrapper===null)return w;const x=t.wrapper||(v?"span":"div");let _;if(w.length>1||t.forceWrapper)_=w;else{if(w.length===1)return _=w[0],typeof _=="string"?c("span",{key:"outer"},_):_;_=null}return a(x,{key:"outer"},_)}function l(p,v){if(!v||!v.trim())return null;const w=v.match(AM);return w?w.reduce(function(x,_){const T=_.indexOf("=");if(T!==-1){const j=function(M){return M.indexOf("-")!==-1&&M.match(GM)===null&&(M=M.replace(JM,function(L,W){return W.toUpperCase()})),M}(_.slice(0,T)).trim(),C=function(M){const L=M[0];return(L==='"'||L==="'")&&M.length>=2&&M[M.length-1]===L?M.slice(1,-1):M}(_.slice(T+1).trim()),O=Up[j]||j;if(O==="ref")return x;const A=x[O]=function(M,L,W,z){return L==="style"?function(G){const F=[];let ee="",Z=!1,te=!1,D="";if(!G)return F;for(let P=0;P<G.length;P++){const E=G[P];if(E!=='"'&&E!=="'"||Z||(te?E===D&&(te=!1,D=""):(te=!0,D=E)),E==="("&&ee.endsWith("url")?Z=!0:E===")"&&Z&&(Z=!1),E!==";"||te||Z)ee+=E;else{const $=ee.trim();if($){const S=$.indexOf(":");if(S>0){const k=$.slice(0,S).trim(),V=$.slice(S+1).trim();F.push([k,V])}}ee=""}}const N=ee.trim();if(N){const P=N.indexOf(":");if(P>0){const E=N.slice(0,P).trim(),$=N.slice(P+1).trim();F.push([E,$])}}return F}(W).reduce(function(G,[F,ee]){return G[F.replace(/(-[a-z])/g,Z=>Z[1].toUpperCase())]=z(ee,M,F),G},{}):TM.indexOf(L)!==-1?z(ut(W),M,L):(W.match(KM)&&(W=ut(W.slice(1,W.length-1))),W==="true"||W!=="false"&&W)}(p,j,C,n);typeof A=="string"&&(ko.test(A)||Io.test(A))&&(x[O]=u(A.trim()))}else _!=="style"&&(x[Up[_]||_]=!0);return x},{}):null}const f=[],m={},h={0:{t:[">"],o:_t(Wp),i:1,u(p,v,w){const[,x,_]=p[0].replace(kM,"").match(IM);return{alert:x,children:v(_,w)}},l(p,v,w){const x={key:w.key};return p.alert&&(x.className="markdown-alert-"+r(p.alert.toLowerCase(),Cn),p.children.unshift({attrs:{},children:[{type:"27",text:p.alert}],noInnerParse:!0,type:"11",tag:"header"})),c("blockquote",x,v(p.children,w))}},1:{t:["  "],o:ui(MM),i:1,u:Fo,l:(p,v,w)=>c("br",{key:w.key})},2:{t:["--","__","**","- ","* ","_ "],o:_t(DM),i:1,u:Fo,l:(p,v,w)=>c("hr",{key:w.key})},3:{t:["    "],o:_t(Bp),i:0,u:p=>({lang:void 0,text:ut(On(p[0].replace(/^ {4}/gm,"")))}),l:(p,v,w)=>c("pre",{key:w.key},c("code",er({},p.attrs,{className:p.lang?"lang-"+p.lang:""}),p.text))},4:{t:["```","~~~"],o:_t(Vp),i:0,u:p=>({attrs:l("code",p[3]||""),lang:p[2]||void 0,text:p[4],type:"3"})},5:{t:["`"],o:kt(LM),i:3,u:p=>({text:ut(p[2])}),l:(p,v,w)=>c("code",{key:w.key},p.text)},6:{t:["[^"],o:_t(UM),i:0,u:p=>(f.push({footnote:p[2],identifier:p[1]}),{}),l:Ro},7:{t:["[^"],o:tr(zM),i:1,u:p=>({target:"#"+r(p[1],Cn),text:p[1]}),l:(p,v,w)=>c("a",{key:w.key,href:n(p.target,"a","href")},c("sup",{key:w.key},p.text))},8:{t:["[ ]","[x]"],o:tr(BM),i:1,u:p=>({completed:p[1].toLowerCase()==="x"}),l:(p,v,w)=>c("input",{checked:p.completed,key:w.key,readOnly:!0,type:"checkbox"})},9:{t:["#"],o:_t(t.enforceAtxHeadings?Gp:qp),i:1,u:(p,v,w)=>({children:di(v,p[2],w),id:r(p[2],Cn),level:p[1].length}),l:(p,v,w)=>c("h"+p.level,{id:p.id,key:w.key},v(p.children,w))},10:{t:p=>{const v=p.indexOf(`
`);return v>0&&v<p.length-1&&(p[v+1]==="="||p[v+1]==="-")},o:_t(Kp),i:1,u:(p,v,w)=>({children:di(v,p[1],w),level:p[2]==="="?1:2,type:"9"})},11:{t:["<"],o:ui(ko),i:1,u(p,v,w){const[,x]=p[3].match(g3),_=RegExp("^"+x,"gm"),T=p[3].replace(_,""),j=o(s,T)?T3:di,C=p[1].toLowerCase(),O=CM.indexOf(C)!==-1,A=(O?C:p[1]).trim(),M={attrs:l(A,p[2]),noInnerParse:O,tag:A};if(w.inAnchor=w.inAnchor||C==="a",O)M.text=p[3];else{const L=w.inHTML;w.inHTML=!0,M.children=j(v,T,w),w.inHTML=L}return w.inAnchor=!1,M},l:(p,v,w)=>c(p.tag,er({key:w.key},p.attrs),p.text||(p.children?v(p.children,w):""))},13:{t:["<"],o:ui(Io),i:1,u(p){const v=p[1].trim();return{attrs:l(v,p[2]||""),tag:v}},l:(p,v,w)=>c(p.tag,er({},p.attrs,{key:w.key}))},12:{t:["<!--"],o:ui(Hp),i:1,u:()=>({}),l:Ro},14:{t:["!["],o:kt(_3),i:1,u:p=>({alt:ut(p[1]),target:ut(p[2]),title:ut(p[3])}),l:(p,v,w)=>c("img",{key:w.key,alt:p.alt||void 0,title:p.title||void 0,src:n(p.target,"img","src")})},15:{t:["["],o:tr(x3),i:3,u:(p,v,w)=>({children:C3(v,p[1],w),target:ut(p[2]),title:ut(p[3])}),l:(p,v,w)=>c("a",{key:w.key,href:n(p.target,"a","href"),title:p.title},v(p.children,w))},16:{t:["<"],o:tr(YM),i:0,u(p){let v=p[1],w=!1;return v.indexOf("@")!==-1&&v.indexOf("//")===-1&&(w=!0,v=v.replace("mailto:","")),{children:[{text:v,type:"27"}],target:w?"mailto:"+v:v,type:"15"}}},17:{t:(p,v)=>!v.inAnchor&&!t.disableAutoLink&&(li(p,"http://")||li(p,"https://")),o:tr(HM),i:0,u:p=>({children:[{text:p[1],type:"27"}],target:p[1],title:void 0,type:"15"})},20:ah(c,1),33:ah(c,2),19:{t:[`
`],o:_t(FM),i:3,u:Fo,l:()=>`
`},21:{o:Fr(function(p,v){if(v.inline||v.simple||v.inHTML&&p.indexOf(`

`)===-1&&v.prevCapture.indexOf(`

`)===-1)return null;let w="",x=0;for(;;){const T=p.indexOf(`
`,x),j=p.slice(x,T===-1?void 0:T+1);if(o(i,j)||(w+=j,T===-1||!j.trim()))break;x=T+1}const _=On(w);return _===""?null:[w,,_]}),i:3,u:Lo,l:(p,v,w)=>c("p",{key:w.key},v(p.children,w))},22:{t:["["],o:tr(ZM),i:0,u:p=>(m[p[1]]={target:p[2],title:p[4]},{}),l:Ro},23:{t:["!["],o:kt(XM),i:0,u:p=>({alt:p[1]?ut(p[1]):void 0,ref:p[2]}),l:(p,v,w)=>m[p.ref]?c("img",{key:w.key,alt:p.alt,src:n(m[p.ref].target,"img","src"),title:m[p.ref].title}):null},24:{t:p=>p[0]==="["&&p.indexOf("](")===-1,o:tr(e3),i:0,u:(p,v,w)=>({children:v(p[1],w),fallbackChildren:p[0],ref:p[2]}),l:(p,v,w)=>m[p.ref]?c("a",{key:w.key,href:n(m[p.ref].target,"a","href"),title:m[p.ref].title},v(p.children,w)):c("span",{key:w.key},p.fallbackChildren)},25:{t:["|"],o:_t(Yp),i:1,u:N3,l(p,v,w){const x=p;return c("table",{key:w.key},c("thead",null,c("tr",null,x.header.map(function(_,T){return c("th",{key:T,style:oh(x,T)},v(_,w))}))),c("tbody",null,x.cells.map(function(_,T){return c("tr",{key:T},_.map(function(j,C){return c("td",{key:C,style:oh(x,C)},v(j,w))}))})))}},27:{o:Fr(function(p,v){let w;return li(p,":")&&(w=d3.exec(p)),w||h3.exec(p)}),i:4,u(p){const v=p[0];return{text:v.indexOf("&")===-1?v:v.replace(qM,(w,x)=>t.namedCodesToUnicode[x]||w)}},l:p=>p.text},28:{t:["**","__"],o:kt(o3),i:2,u:(p,v,w)=>({children:v(p[2],w)}),l:(p,v,w)=>c("strong",{key:w.key},v(p.children,w))},29:{t:p=>{const v=p[0];return(v==="*"||v==="_")&&p[1]!==v},o:kt(c3),i:3,u:(p,v,w)=>({children:v(p[2],w)}),l:(p,v,w)=>c("em",{key:w.key},v(p.children,w))},30:{t:["\\"],o:kt(f3),i:1,u:p=>({text:p[1],type:"27"})},31:{t:["=="],o:kt(l3),i:3,u:Lo,l:(p,v,w)=>c("mark",{key:w.key},v(p.children,w))},32:{t:["~~"],o:kt(u3),i:3,u:Lo,l:(p,v,w)=>c("del",{key:w.key},v(p.children,w))}};t.disableParsingRawHTML===!0&&(delete h[11],delete h[13]);const y=function(p){var v=Object.keys(p);function w(x,_){var T=[];if(_.prevCapture=_.prevCapture||"",x.trim())for(;x;)for(var j=0;j<v.length;){var C=v[j],O=p[C];if(!O.t||S3(x,_,O.t)){var A=O.o(x,_);if(A&&A[0]){x=x.substring(A[0].length);var M=O.u(A,w,_);_.prevCapture+=A[0],M.type||(M.type=C),T.push(M);break}j++}else j++}return _.prevCapture="",T}return v.sort(function(x,_){return p[x].i-p[_].i||(x<_?-1:1)}),function(x,_){return w(function(T){return T.replace(RM,`
`).replace(WM,"").replace(r3,"    ")}(x),_)}}(h),b=function(p,v){return function w(x,_={}){if(Array.isArray(x)){const T=_.key,j=[];let C=!1;for(let O=0;O<x.length;O++){_.key=O;const A=w(x[O],_),M=ih(A);M&&C?j[j.length-1]+=A:A!==null&&j.push(A),C=M}return _.key=T,j}return function(T,j,C){const O=p[T.type].l;return v?v(()=>O(T,j,C),T,j,C):O(T,j,C)}(x,w,_)}}(h,t.renderRule),g=u(e);return f.length?c("div",null,g,c("footer",{key:"footer"},f.map(function(p){return c("div",{id:r(p.identifier,Cn),key:p.identifier},p.identifier,b(y(p.footnote,{inline:!0})))}))):g}const fi=e=>{let{children:t,options:r}=e,n=function(a,i){if(a==null)return{};var s,o,c={},u=Object.keys(a);for(o=0;o<u.length;o++)i.indexOf(s=u[o])>=0||(c[s]=a[s]);return c}(e,OM);return R.cloneElement(P3(t??"",r),n)};function k3(e,t){return e==null?!0:gu(e,t)}class I3 extends I.Component{constructor(){super(...arguments);pe(this,"state",{wasPropertyKeyModified:!1,additionalProperties:{}});pe(this,"onPropertyChange",(r,n=!1)=>(a,i,s)=>{const{formData:o,onChange:c,errorSchema:u}=this.props;a===void 0&&n&&(a="");const l={...o,[r]:a};c(l,u&&u&&{...u,[r]:i},s)});pe(this,"onDropPropertyClick",r=>n=>{n.preventDefault();const{onChange:a,formData:i}=this.props,s={...i};k3(s,r),a(s)});pe(this,"getAvailableKey",(r,n)=>{const{uiSchema:a,registry:i}=this.props,{duplicateKeySuffixSeparator:s="-"}=ie(a,i.globalUiOptions);let o=0,c=r;for(;Pe(n,c);)c=`${r}${s}${++o}`;return c});pe(this,"onKeyChange",r=>(n,a)=>{if(r===n)return;const{formData:i,onChange:s,errorSchema:o}=this.props;n=this.getAvailableKey(n,i);const c={...i},u={[r]:n},l=Object.keys(c).map(m=>({[u[m]||m]:c[m]})),f=Object.assign({},...l);this.setState({wasPropertyKeyModified:!0}),s(f,o&&o&&{...o,[n]:a})});pe(this,"handleAddClick",r=>()=>{if(!r.additionalProperties)return;const{formData:n,onChange:a,registry:i}=this.props,s={...n};let o,c,u;if(he(r.additionalProperties)){o=r.additionalProperties.type,c=r.additionalProperties.const,u=r.additionalProperties.default;let m=r.additionalProperties;if(Se in m){const{schemaUtils:h}=i;m=h.retrieveSchema({$ref:m[Se]},n),o=m.type,c=m.const,u=m.default}!o&&(He in m||Fe in m)&&(o="object")}const l=this.getAvailableKey("newKey",s),f=c??u??this.getDefaultValue(o);Oe(s,l,f),a(s)})}isRequired(r){const{schema:n}=this.props;return Array.isArray(n.required)&&n.required.indexOf(r)!==-1}getDefaultValue(r){const{registry:{translateString:n}}=this.props;switch(r){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return n(de.NewStringDefault)}}render(){const{schema:r,uiSchema:n={},formData:a,errorSchema:i,idSchema:s,name:o,required:c=!1,disabled:u,readonly:l,hideError:f,idPrefix:m,idSeparator:h,onBlur:y,onFocus:b,registry:g,title:p}=this.props,{fields:v,formContext:w,schemaUtils:x,translateString:_,globalUiOptions:T}=g,{SchemaField:j}=v,C=x.retrieveSchema(r,a),O=ie(n,T),{properties:A={}}=C,M=O.title??C.title??p??o,L=O.description??C.description;let W;try{const F=Object.keys(A);W=cM(F,O.order)}catch(F){return d.jsxs("div",{children:[d.jsx("p",{className:"config-error",style:{color:"red"},children:d.jsx(fi,{options:{disableParsingRawHTML:!0},children:_(de.InvalidObjectField,[o||"root",F.message])})}),d.jsx("pre",{children:JSON.stringify(C)})]})}const z=ce("ObjectFieldTemplate",g,O),G={title:O.label===!1?"":M,description:O.label===!1?void 0:L,properties:W.map(F=>{const ee=Pe(C,[$e,F,Zr]),Z=ee?n.additionalProperties:n[F],te=ie(Z).widget==="hidden",D=q(s,[F],{});return{content:d.jsx(j,{name:F,required:this.isRequired(F),schema:q(C,[$e,F],{}),uiSchema:Z,errorSchema:q(i,F),idSchema:D,idPrefix:m,idSeparator:h,formData:q(a,F),formContext:w,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(F),onChange:this.onPropertyChange(F,ee),onBlur:y,onFocus:b,registry:g,disabled:u,readonly:l,hideError:f,onDropPropertyClick:this.onDropPropertyClick},F),name:F,readonly:l,disabled:u,required:c,hidden:te}}),readonly:l,disabled:u,required:c,idSchema:s,uiSchema:n,errorSchema:i,schema:C,formData:a,formContext:w,registry:g};return d.jsx(z,{...G,onAddClick:this.handleAddClick})}}const M3={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function D3(e,t,r,n){const a=t.field,{fields:i,translateString:s}=n;if(typeof a=="function")return a;if(typeof a=="string"&&a in i)return i[a];const o=vt(e),c=Array.isArray(o)?o[0]:o||"",u=e.$id;let l=M3[c];return u&&u in i&&(l=u),!l&&(e.anyOf||e.oneOf)?()=>null:l in i?i[l]:()=>{const f=ce("UnsupportedFieldTemplate",n,t);return d.jsx(f,{schema:e,idSchema:r,reason:s(de.UnknownFieldType,[String(e.type)]),registry:n})}}function L3(e){const{schema:t,idSchema:r,uiSchema:n,formData:a,errorSchema:i,idPrefix:s,idSeparator:o,name:c,onChange:u,onKeyChange:l,onDropPropertyClick:f,required:m,registry:h,wasPropertyKeyModified:y=!1}=e,{formContext:b,schemaUtils:g,globalUiOptions:p}=h,v=ie(n,p),w=ce("FieldTemplate",h,v),x=ce("DescriptionFieldTemplate",h,v),_=ce("FieldHelpTemplate",h,v),T=ce("FieldErrorTemplate",h,v),j=g.retrieveSchema(t,a),C=r[Ct],O=$t(g.toIdSchema(j,C,a,s,o),r),A=I.useCallback((De,lr,ur)=>u(De,lr,ur||C),[C,u]),M=D3(j,v,O,h),L=!!(v.disabled??e.disabled),W=!!(v.readonly??(e.readonly||e.schema.readOnly||j.readOnly)),z=v.hideError,G=z===void 0?e.hideError:!!z,F=!!(v.autofocus??e.autofocus);if(Object.keys(j).length===0)return null;const ee=g.getDisplayLabel(j,n,p),{__errors:Z,...te}=i||{},D=ya(n,["ui:classNames","classNames","ui:style"]);Xr in D&&(D[Xr]=ya(D[Xr],["classNames","style"]));const N=d.jsx(M,{...e,onChange:A,idSchema:O,schema:j,uiSchema:D,disabled:L,readonly:W,hideError:G,autofocus:F,errorSchema:te,formContext:b,rawErrors:Z}),P=O[Ct];let E;y?E=c:E=Zr in j?c:v.title||e.schema.title||j.title||e.title||c;const $=v.description||e.schema.description||j.description||"",S=v.enableMarkdownInDescription?d.jsx(fi,{options:{disableParsingRawHTML:!0},children:$}):$,k=v.help,V=v.widget==="hidden",B=["form-group","field",`field-${vt(j)}`];!G&&Z&&Z.length>0&&B.push("field-error has-error has-danger"),n!=null&&n.classNames&&B.push(n.classNames),v.classNames&&B.push(v.classNames);const se=d.jsx(_,{help:k,idSchema:O,schema:j,uiSchema:n,hasErrors:!G&&Z&&Z.length>0,registry:h}),ne=G||(j.anyOf||j.oneOf)&&!g.isSelect(j)?void 0:d.jsx(T,{errors:Z,errorSchema:i,idSchema:O,schema:j,uiSchema:n,registry:h}),xe={description:d.jsx(x,{id:jn(P),description:S,schema:j,uiSchema:n,registry:h}),rawDescription:$,help:se,rawHelp:typeof k=="string"?k:void 0,errors:ne,rawErrors:G?void 0:Z,id:P,label:E,hidden:V,onChange:u,onKeyChange:l,onDropPropertyClick:f,required:m,disabled:L,readonly:W,hideError:G,displayLabel:ee,classNames:B.join(" ").trim(),style:v.style,formContext:b,formData:a,schema:j,uiSchema:n,registry:h},tt=h.fields.AnyOfField,cr=h.fields.OneOfField,Ft=(n==null?void 0:n["ui:field"])&&(n==null?void 0:n["ui:fieldReplacesAnyOrOneOf"])===!0;return d.jsx(w,{...xe,children:d.jsxs(d.Fragment,{children:[N,j.anyOf&&!Ft&&!g.isSelect(j)&&d.jsx(tt,{name:c,disabled:L,readonly:W,hideError:G,errorSchema:i,formData:a,formContext:b,idPrefix:s,idSchema:O,idSeparator:o,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:j.anyOf.map(De=>g.retrieveSchema(he(De)?De:{},a)),registry:h,required:m,schema:j,uiSchema:n}),j.oneOf&&!Ft&&!g.isSelect(j)&&d.jsx(cr,{name:c,disabled:L,readonly:W,hideError:G,errorSchema:i,formData:a,formContext:b,idPrefix:s,idSchema:O,idSeparator:o,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:j.oneOf.map(De=>g.retrieveSchema(he(De)?De:{},a)),registry:h,required:m,schema:j,uiSchema:n})]})})}class F3 extends I.Component{shouldComponentUpdate(t){return!be(this.props,t)}render(){return d.jsx(L3,{...this.props})}}function R3(e){const{schema:t,name:r,uiSchema:n,idSchema:a,formData:i,required:s,disabled:o=!1,readonly:c=!1,autofocus:u=!1,onChange:l,onBlur:f,onFocus:m,registry:h,rawErrors:y,hideError:b}=e,{title:g,format:p}=t,{widgets:v,formContext:w,schemaUtils:x,globalUiOptions:_}=h,T=x.isSelect(t)?_n(t,n):void 0;let j=T?"select":"text";p&&iM(t,p,v)&&(j=p);const{widget:C=j,placeholder:O="",title:A,...M}=ie(n),L=x.getDisplayLabel(t,n,_),W=A??g??r,z=xt(t,C,v);return d.jsx(z,{options:{...M,enumOptions:T},schema:t,uiSchema:n,id:a.$id,name:r,label:W,hideLabel:!L,hideError:b,value:i,onChange:l,onBlur:f,onFocus:m,required:s,disabled:o,readonly:c,formContext:w,autofocus:u,registry:h,placeholder:O,rawErrors:y})}function U3(e){const{formData:t,onChange:r}=e;return I.useEffect(()=>{t===void 0&&r(null)},[t,r]),null}function z3(){return{AnyOfField:Rp,ArrayField:_M,BooleanField:SM,NumberField:EM,ObjectField:I3,OneOfField:Rp,SchemaField:F3,StringField:R3,NullField:U3}}function W3(e){const{idSchema:t,description:r,registry:n,schema:a,uiSchema:i}=e,s=ie(i,n.globalUiOptions),{label:o=!0}=s;if(!r||!o)return null;const c=ce("DescriptionFieldTemplate",n,s);return d.jsx(c,{id:jn(t),description:r,schema:a,uiSchema:i,registry:n})}function V3(e){const{children:t,className:r,disabled:n,hasToolbar:a,hasMoveDown:i,hasMoveUp:s,hasRemove:o,hasCopy:c,index:u,onCopyIndexClick:l,onDropIndexClick:f,onReorderClick:m,readonly:h,registry:y,uiSchema:b}=e,{CopyButton:g,MoveDownButton:p,MoveUpButton:v,RemoveButton:w}=y.templates.ButtonTemplates,x={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return d.jsxs("div",{className:r,children:[d.jsx("div",{className:a?"col-xs-9":"col-xs-12",children:t}),a&&d.jsx("div",{className:"col-xs-3 array-item-toolbox",children:d.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(s||i)&&d.jsx(v,{style:x,disabled:n||h||!s,onClick:m(u,u-1),uiSchema:b,registry:y}),(s||i)&&d.jsx(p,{style:x,disabled:n||h||!i,onClick:m(u,u+1),uiSchema:b,registry:y}),c&&d.jsx(g,{style:x,disabled:n||h,onClick:l(u),uiSchema:b,registry:y}),o&&d.jsx(w,{style:x,disabled:n||h,onClick:f(u),uiSchema:b,registry:y})]})})]})}function B3(e){const{canAdd:t,className:r,disabled:n,idSchema:a,uiSchema:i,items:s,onAddClick:o,readonly:c,registry:u,required:l,schema:f,title:m}=e,h=ie(i),y=ce("ArrayFieldDescriptionTemplate",u,h),b=ce("ArrayFieldItemTemplate",u,h),g=ce("ArrayFieldTitleTemplate",u,h),{ButtonTemplates:{AddButton:p}}=u.templates;return d.jsxs("fieldset",{className:r,id:a.$id,children:[d.jsx(g,{idSchema:a,title:h.title||m,required:l,schema:f,uiSchema:i,registry:u}),d.jsx(y,{idSchema:a,description:h.description||f.description,schema:f,uiSchema:i,registry:u}),d.jsx("div",{className:"row array-item-list",children:s&&s.map(({key:v,...w})=>d.jsx(b,{...w},v))}),t&&d.jsx(p,{className:"array-item-add",onClick:o,disabled:n||c,uiSchema:i,registry:u})]})}function q3(e){const{idSchema:t,title:r,schema:n,uiSchema:a,required:i,registry:s}=e,o=ie(a,s.globalUiOptions),{label:c=!0}=o;if(!r||!c)return null;const u=ce("TitleFieldTemplate",s,o);return d.jsx(u,{id:Pp(t),title:r,required:i,schema:n,uiSchema:a,registry:s})}function G3(e){const{id:t,name:r,value:n,readonly:a,disabled:i,autofocus:s,onBlur:o,onFocus:c,onChange:u,onChangeOverride:l,options:f,schema:m,uiSchema:h,formContext:y,registry:b,rawErrors:g,type:p,hideLabel:v,hideError:w,...x}=e;if(!t)throw console.log("No id for",e),new Error(`no id for props ${JSON.stringify(e)}`);const _={...x,...Q5(m,p,f)};let T;_.type==="number"||_.type==="integer"?T=n||n===0?n:"":T=n??"";const j=I.useCallback(({target:{value:A}})=>u(A===""?f.emptyValue:A),[u,f]),C=I.useCallback(({target:A})=>o(t,A&&A.value),[o,t]),O=I.useCallback(({target:A})=>c(t,A&&A.value),[c,t]);return d.jsxs(d.Fragment,{children:[d.jsx("input",{id:t,name:t,className:"form-control",readOnly:a,disabled:i,autoFocus:s,value:T,..._,list:m.examples?Oo(t):void 0,onChange:l||j,onBlur:C,onFocus:O,"aria-describedby":Xt(t,!!m.examples)}),Array.isArray(m.examples)&&d.jsx("datalist",{id:Oo(t),children:m.examples.concat(m.default&&!m.examples.includes(m.default)?[m.default]:[]).map(A=>d.jsx("option",{value:A},A))},`datalist_${t}`)]})}function K3({uiSchema:e}){const{submitText:t,norender:r,props:n={}}=Z5(e);return r?null:d.jsx("div",{children:d.jsx("button",{type:"submit",...n,className:`btn btn-info ${n.className||""}`,children:t})})}function Tn(e){const{iconType:t="default",icon:r,className:n,uiSchema:a,registry:i,...s}=e;return d.jsx("button",{type:"button",className:`btn btn-${t} ${n}`,...s,children:d.jsx("i",{className:`glyphicon glyphicon-${r}`})})}function H3(e){const{registry:{translateString:t}}=e;return d.jsx(Tn,{title:t(de.CopyButton),className:"array-item-copy",...e,icon:"copy"})}function Y3(e){const{registry:{translateString:t}}=e;return d.jsx(Tn,{title:t(de.MoveDownButton),className:"array-item-move-down",...e,icon:"arrow-down"})}function J3(e){const{registry:{translateString:t}}=e;return d.jsx(Tn,{title:t(de.MoveUpButton),className:"array-item-move-up",...e,icon:"arrow-up"})}function Q3(e){const{registry:{translateString:t}}=e;return d.jsx(Tn,{title:t(de.RemoveButton),className:"array-item-remove",...e,iconType:"danger",icon:"remove"})}function Z3({className:e,onClick:t,disabled:r,registry:n}){const{translateString:a}=n;return d.jsx("div",{className:"row",children:d.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${e}`,children:d.jsx(Tn,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:a(de.AddButton),onClick:t,disabled:r,registry:n})})})}function X3(){return{SubmitButton:K3,AddButton:Z3,CopyButton:H3,MoveDownButton:Y3,MoveUpButton:J3,RemoveButton:Q3}}function eD(e){const{id:t,description:r}=e;return r?typeof r=="string"?d.jsx("p",{id:t,className:"field-description",children:r}):d.jsx("div",{id:t,className:"field-description",children:r}):null}function tD({errors:e,registry:t}){const{translateString:r}=t;return d.jsxs("div",{className:"panel panel-danger errors",children:[d.jsx("div",{className:"panel-heading",children:d.jsx("h3",{className:"panel-title",children:r(de.ErrorsLabel)})}),d.jsx("ul",{className:"list-group",children:e.map((n,a)=>d.jsx("li",{className:"list-group-item text-danger",children:n.stack},a))})]})}const rD="*";function ch(e){const{label:t,required:r,id:n}=e;return t?d.jsxs("label",{className:"control-label",htmlFor:n,children:[t,r&&d.jsx("span",{className:"required",children:rD})]}):null}function nD(e){const{id:t,label:r,children:n,errors:a,help:i,description:s,hidden:o,required:c,displayLabel:u,registry:l,uiSchema:f}=e,m=ie(f),h=ce("WrapIfAdditionalTemplate",l,m);return o?d.jsx("div",{className:"hidden",children:n}):d.jsxs(h,{...e,children:[u&&d.jsx(ch,{label:r,required:c,id:t}),u&&s?s:null,n,a,i]})}function aD(e){const{errors:t=[],idSchema:r}=e;if(t.length===0)return null;const n=Tp(r);return d.jsx("div",{children:d.jsx("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:t.filter(a=>!!a).map((a,i)=>d.jsx("li",{className:"text-danger",children:a},i))})})}function iD(e){const{idSchema:t,help:r}=e;if(!r)return null;const n=Ap(t);return typeof r=="string"?d.jsx("p",{id:n,className:"help-block",children:r}):d.jsx("div",{id:n,className:"help-block",children:r})}function sD(e){const{description:t,disabled:r,formData:n,idSchema:a,onAddClick:i,properties:s,readonly:o,registry:c,required:u,schema:l,title:f,uiSchema:m}=e,h=ie(m),y=ce("TitleFieldTemplate",c,h),b=ce("DescriptionFieldTemplate",c,h),{ButtonTemplates:{AddButton:g}}=c.templates;return d.jsxs("fieldset",{id:a.$id,children:[f&&d.jsx(y,{id:Pp(a),title:f,required:u,schema:l,uiSchema:m,registry:c}),t&&d.jsx(b,{id:jn(a),description:t,schema:l,uiSchema:m,registry:c}),s.map(p=>p.content),Wg(l,m,n)&&d.jsx(g,{className:"object-property-expand",onClick:i(l),disabled:r||o,uiSchema:m,registry:c})]})}const oD="*";function cD(e){const{id:t,title:r,required:n}=e;return d.jsxs("legend",{id:t,children:[r,n&&d.jsx("span",{className:"required",children:oD})]})}function lD(e){const{schema:t,idSchema:r,reason:n,registry:a}=e,{translateString:i}=a;let s=de.UnsupportedField;const o=[];return r&&r.$id&&(s=de.UnsupportedFieldWithId,o.push(r.$id)),n&&(s=s===de.UnsupportedField?de.UnsupportedFieldWithReason:de.UnsupportedFieldWithIdAndReason,o.push(n)),d.jsxs("div",{className:"unsupported-field",children:[d.jsx("p",{children:d.jsx(fi,{options:{disableParsingRawHTML:!0},children:i(s,o)})}),t&&d.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function uD(e){const{id:t,classNames:r,style:n,disabled:a,label:i,onKeyChange:s,onDropPropertyClick:o,readonly:c,required:u,schema:l,children:f,uiSchema:m,registry:h}=e,{templates:y,translateString:b}=h,{RemoveButton:g}=y.ButtonTemplates,p=b(de.KeyLabel,[i]);return Zr in l?d.jsx("div",{className:r,style:n,children:d.jsxs("div",{className:"row",children:[d.jsx("div",{className:"col-xs-5 form-additional",children:d.jsxs("div",{className:"form-group",children:[d.jsx(ch,{label:p,required:u,id:`${t}-key`}),d.jsx("input",{className:"form-control",type:"text",id:`${t}-key`,onBlur:({target:w})=>s(w&&w.value),defaultValue:i})]})}),d.jsx("div",{className:"form-additional form-group col-xs-5",children:f}),d.jsx("div",{className:"col-xs-2",children:d.jsx(g,{className:"array-item-remove btn-block",style:{border:"0"},disabled:a||c,onClick:o(i),uiSchema:m,registry:h})})]})}):d.jsx("div",{className:r,style:n,children:f})}function dD(){return{ArrayFieldDescriptionTemplate:W3,ArrayFieldItemTemplate:V3,ArrayFieldTemplate:B3,ArrayFieldTitleTemplate:q3,ButtonTemplates:X3(),BaseInputTemplate:G3,DescriptionFieldTemplate:eD,ErrorListTemplate:tD,FieldTemplate:nD,FieldErrorTemplate:aD,FieldHelpTemplate:iD,ObjectFieldTemplate:sD,TitleFieldTemplate:cD,UnsupportedFieldTemplate:lD,WrapIfAdditionalTemplate:uD}}function fD(e){return Object.values(e).every(t=>t!==-1)}function pD({type:e,range:t,value:r,select:n,rootId:a,name:i,disabled:s,readonly:o,autofocus:c,registry:u,onBlur:l,onFocus:f}){const m=a+"_"+e,{SelectWidget:h}=u.widgets;return d.jsx(h,{schema:{type:"integer"},id:m,name:i,className:"form-control",options:{enumOptions:Sp(t[0],t[1])},placeholder:e,value:r,disabled:s,readonly:o,autofocus:c,onChange:y=>n(e,y),onBlur:l,onFocus:f,registry:u,label:"","aria-describedby":Xt(a)})}function hD({time:e=!1,disabled:t=!1,readonly:r=!1,autofocus:n=!1,options:a,id:i,name:s,registry:o,onBlur:c,onFocus:u,onChange:l,value:f}){const{translateString:m}=o,[h,y]=I.useState(f),[b,g]=I.useReducer((x,_)=>({...x,..._}),Co(f,e));I.useEffect(()=>{const x=Ip(b,e);fD(b)&&x!==f?l(x):h!==f&&(y(f),g(Co(f,e)))},[e,f,l,b,h]);const p=I.useCallback((x,_)=>{g({[x]:_})},[]),v=I.useCallback(x=>{if(x.preventDefault(),t||r)return;const _=Co(new Date().toJSON(),e);l(Ip(_,e))},[t,r,e]),w=I.useCallback(x=>{x.preventDefault(),!(t||r)&&l(void 0)},[t,r,l]);return d.jsxs("ul",{className:"list-inline",children:[Y5(b,e,a.yearsRange,a.format).map((x,_)=>d.jsx("li",{className:"list-inline-item",children:d.jsx(pD,{rootId:i,name:s,select:p,...x,disabled:t,readonly:r,registry:o,onBlur:c,onFocus:u,autofocus:n&&_===0})},_)),(a.hideNowButton!=="undefined"?!a.hideNowButton:!0)&&d.jsx("li",{className:"list-inline-item",children:d.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:v,children:m(de.NowLabel)})}),(a.hideClearButton!=="undefined"?!a.hideClearButton:!0)&&d.jsx("li",{className:"list-inline-item",children:d.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:w,children:m(de.ClearLabel)})})]})}function mD({time:e=!0,...t}){const{AltDateWidget:r}=t.registry.widgets;return d.jsx(r,{time:e,...t})}function gD({schema:e,uiSchema:t,options:r,id:n,value:a,disabled:i,readonly:s,label:o,hideLabel:c,autofocus:u=!1,onBlur:l,onFocus:f,onChange:m,registry:h}){const y=ce("DescriptionFieldTemplate",h,r),b=ii(e),g=I.useCallback(x=>m(x.target.checked),[m]),p=I.useCallback(x=>l(n,x.target.checked),[l,n]),v=I.useCallback(x=>f(n,x.target.checked),[f,n]),w=r.description??e.description;return d.jsxs("div",{className:`checkbox ${i||s?"disabled":""}`,children:[!c&&!!w&&d.jsx(y,{id:jn(n),description:w,schema:e,uiSchema:t,registry:h}),d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",id:n,name:n,checked:typeof a>"u"?!1:a,required:b,disabled:i||s,autoFocus:u,onChange:g,onBlur:p,onFocus:v,"aria-describedby":Xt(n)}),sM(d.jsx("span",{children:o}),c)]})]})}function yD({id:e,disabled:t,options:{inline:r=!1,enumOptions:n,enumDisabled:a,emptyValue:i},value:s,autofocus:o=!1,readonly:c,onChange:u,onBlur:l,onFocus:f}){const m=Array.isArray(s)?s:[s],h=I.useCallback(({target:b})=>l(e,lt(b&&b.value,n,i)),[l,e]),y=I.useCallback(({target:b})=>f(e,lt(b&&b.value,n,i)),[f,e]);return d.jsx("div",{className:"checkboxes",id:e,children:Array.isArray(n)&&n.map((b,g)=>{const p=So(b.value,m),v=Array.isArray(a)&&a.indexOf(b.value)!==-1,w=t||v||c?"disabled":"",x=T=>{T.target.checked?u(B5(g,m,n)):u(W5(g,m,n))},_=d.jsxs("span",{children:[d.jsx("input",{type:"checkbox",id:kp(e,g),name:e,checked:p,value:String(g),disabled:t||v||c,autoFocus:o&&g===0,onChange:x,onBlur:h,onFocus:y,"aria-describedby":Xt(e)}),d.jsx("span",{children:b.label})]});return r?d.jsx("label",{className:`checkbox-inline ${w}`,children:_},g):d.jsx("div",{className:`checkbox ${w}`,children:d.jsx("label",{children:_})},g)})})}function bD(e){const{disabled:t,readonly:r,options:n,registry:a}=e,i=ce("BaseInputTemplate",a,n);return d.jsx(i,{type:"color",...e,disabled:t||r})}function vD(e){const{onChange:t,options:r,registry:n}=e,a=ce("BaseInputTemplate",n,r),i=I.useCallback(s=>t(s||void 0),[t]);return d.jsx(a,{type:"date",...e,onChange:i})}function wD(e){const{onChange:t,value:r,options:n,registry:a}=e,i=ce("BaseInputTemplate",a,n);return d.jsx(i,{type:"datetime-local",...e,value:dM(r),onChange:s=>t(oM(s))})}function $D(e){const{options:t,registry:r}=e,n=ce("BaseInputTemplate",r,t);return d.jsx(n,{type:"email",...e})}function xD(e,t){return e===null?null:e.replace(";base64",`;name=${encodeURIComponent(t)};base64`)}function _D(e){const{name:t,size:r,type:n}=e;return new Promise((a,i)=>{const s=new window.FileReader;s.onerror=i,s.onload=o=>{var c;typeof((c=o.target)==null?void 0:c.result)=="string"?a({dataURL:xD(o.target.result,t),name:t,size:r,type:n}):a({dataURL:null,name:t,size:r,type:n})},s.readAsDataURL(e)})}function SD(e){return Promise.all(Array.from(e).map(_D))}function jD({fileInfo:e,registry:t}){const{translateString:r}=t,{dataURL:n,type:a,name:i}=e;return n?["image/jpeg","image/png"].includes(a)?d.jsx("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):d.jsxs(d.Fragment,{children:[" ",d.jsx("a",{download:`preview-${i}`,href:n,className:"file-download",children:r(de.PreviewLabel)})]}):null}function ND({filesInfo:e,registry:t,preview:r,onRemove:n,options:a}){if(e.length===0)return null;const{translateString:i}=t,{RemoveButton:s}=ce("ButtonTemplates",t,a);return d.jsx("ul",{className:"file-info",children:e.map((o,c)=>{const{name:u,size:l,type:f}=o,m=()=>n(c);return d.jsxs("li",{children:[d.jsx(fi,{children:i(de.FilesInfo,[u,f,String(l)])}),r&&d.jsx(jD,{fileInfo:o,registry:t}),d.jsx(s,{onClick:m,registry:t})]},c)})})}function ED(e){return e.reduce((t,r)=>{if(!r)return t;try{const{blob:n,name:a}=R5(r);return[...t,{dataURL:r,name:a,size:n.size,type:n.type}]}catch{return t}},[])}function OD(e){const{disabled:t,readonly:r,required:n,multiple:a,onChange:i,value:s,options:o,registry:c}=e,u=ce("BaseInputTemplate",c,o),l=I.useCallback(h=>{h.target.files&&SD(h.target.files).then(y=>{const b=y.map(g=>g.dataURL);i(a?s.concat(b):b[0])})},[a,s,i]),f=I.useMemo(()=>ED(Array.isArray(s)?s:[s]),[s]),m=I.useCallback(h=>{if(a){const y=s.filter((b,g)=>g!==h);i(y)}else i(void 0)},[a,s,i]);return d.jsxs("div",{children:[d.jsx(u,{...e,disabled:t||r,type:"file",required:s?!1:n,onChangeOverride:l,value:"",accept:o.accept?String(o.accept):void 0}),d.jsx(ND,{filesInfo:f,onRemove:m,registry:c,preview:o.filePreview,options:o})]})}function CD({id:e,value:t}){return d.jsx("input",{type:"hidden",id:e,name:e,value:typeof t>"u"?"":t})}function TD(e){const{options:t,registry:r}=e,n=ce("BaseInputTemplate",r,t);return d.jsx(n,{type:"password",...e})}function AD({options:e,value:t,required:r,disabled:n,readonly:a,autofocus:i=!1,onBlur:s,onFocus:o,onChange:c,id:u}){const{enumOptions:l,enumDisabled:f,inline:m,emptyValue:h}=e,y=I.useCallback(({target:g})=>s(u,lt(g&&g.value,l,h)),[s,u]),b=I.useCallback(({target:g})=>o(u,lt(g&&g.value,l,h)),[o,u]);return d.jsx("div",{className:"field-radio-group",id:u,children:Array.isArray(l)&&l.map((g,p)=>{const v=So(g.value,t),w=Array.isArray(f)&&f.indexOf(g.value)!==-1,x=n||w||a?"disabled":"",_=()=>c(g.value),T=d.jsxs("span",{children:[d.jsx("input",{type:"radio",id:kp(u,p),checked:v,name:u,required:r,value:String(p),disabled:n||w||a,autoFocus:i&&p===0,onChange:_,onBlur:y,onFocus:b,"aria-describedby":Xt(u)}),d.jsx("span",{children:g.label})]});return m?d.jsx("label",{className:`radio-inline ${x}`,children:T},p):d.jsx("div",{className:`radio ${x}`,children:d.jsx("label",{children:T})},p)})})}function PD(e){const{value:t,registry:{templates:{BaseInputTemplate:r}}}=e;return d.jsxs("div",{className:"field-range-wrapper",children:[d.jsx(r,{type:"range",...e}),d.jsx("span",{className:"range-view",children:t})]})}function zo(e,t){return t?Array.from(e.target.options).slice().filter(r=>r.selected).map(r=>r.value):e.target.value}function kD({schema:e,id:t,options:r,value:n,required:a,disabled:i,readonly:s,multiple:o=!1,autofocus:c=!1,onChange:u,onBlur:l,onFocus:f,placeholder:m}){const{enumOptions:h,enumDisabled:y,emptyValue:b}=r,g=o?[]:"",p=I.useCallback(T=>{const j=zo(T,o);return f(t,lt(j,h,b))},[f,t,e,o,h,b]),v=I.useCallback(T=>{const j=zo(T,o);return l(t,lt(j,h,b))},[l,t,e,o,h,b]),w=I.useCallback(T=>{const j=zo(T,o);return u(lt(j,h,b))},[u,e,o,h,b]),x=V5(n,h,o),_=!o&&e.default===void 0;return d.jsxs("select",{id:t,name:t,multiple:o,className:"form-control",value:typeof x>"u"?g:x,required:a,disabled:i||s,autoFocus:c,onBlur:v,onFocus:p,onChange:w,"aria-describedby":Xt(t),children:[_&&d.jsx("option",{value:"",children:m}),Array.isArray(h)&&h.map(({value:T,label:j},C)=>{const O=y&&y.indexOf(T)!==-1;return d.jsx("option",{value:String(C),disabled:O,children:j},C)})]})}function lh({id:e,options:t={},placeholder:r,value:n,required:a,disabled:i,readonly:s,autofocus:o=!1,onChange:c,onBlur:u,onFocus:l}){const f=I.useCallback(({target:{value:y}})=>c(y===""?t.emptyValue:y),[c,t.emptyValue]),m=I.useCallback(({target:y})=>u(e,y&&y.value),[u,e]),h=I.useCallback(({target:y})=>l(e,y&&y.value),[e,l]);return d.jsx("textarea",{id:e,name:e,className:"form-control",value:n||"",placeholder:r,required:a,disabled:i,readOnly:s,autoFocus:o,rows:t.rows,onBlur:m,onFocus:h,onChange:f,"aria-describedby":Xt(e)})}lh.defaultProps={autofocus:!1,options:{}};function ID(e){const{options:t,registry:r}=e,n=ce("BaseInputTemplate",r,t);return d.jsx(n,{...e})}function MD(e){const{onChange:t,options:r,registry:n}=e,a=ce("BaseInputTemplate",n,r),i=I.useCallback(s=>t(s?`${s}:00`:void 0),[t]);return d.jsx(a,{type:"time",...e,onChange:i})}function DD(e){const{options:t,registry:r}=e,n=ce("BaseInputTemplate",r,t);return d.jsx(n,{type:"url",...e})}function LD(e){const{options:t,registry:r}=e,n=ce("BaseInputTemplate",r,t);return d.jsx(n,{type:"number",...e})}function FD(){return{AltDateWidget:hD,AltDateTimeWidget:mD,CheckboxWidget:gD,CheckboxesWidget:yD,ColorWidget:bD,DateWidget:vD,DateTimeWidget:wD,EmailWidget:$D,FileWidget:OD,HiddenWidget:CD,PasswordWidget:TD,RadioWidget:AD,RangeWidget:PD,SelectWidget:kD,TextWidget:ID,TextareaWidget:lh,TimeWidget:MD,UpDownWidget:LD,URLWidget:DD}}function RD(){return{fields:z3(),templates:dD(),widgets:FD(),rootSchema:{},formContext:{},translateString:z5}}class UD extends I.Component{constructor(r){super(r);pe(this,"formElement");pe(this,"getUsedFormData",(r,n)=>{if(n.length===0&&typeof r!="object")return r;const a=Lp(r,n);return Array.isArray(r)?Object.keys(a).map(i=>a[i]):a});pe(this,"getFieldNames",(r,n)=>{const a=(i,s=[],o=[[]])=>(Object.keys(i).forEach(c=>{if(typeof i[c]=="object"){const u=o.map(l=>[...l,c]);i[c][Vi]&&i[c][ea]!==""?s.push(i[c][ea]):a(i[c],s,u)}else c===ea&&i[c]!==""&&o.forEach(u=>{const l=q(n,u);(typeof l!="object"||vr(l)||Array.isArray(l)&&l.every(f=>typeof f!="object"))&&s.push(u)})}),s);return a(r)});pe(this,"omitExtraData",r=>{const{schema:n,schemaUtils:a}=this.state,i=a.retrieveSchema(n,r),s=a.toPathSchema(i,"",r),o=this.getFieldNames(s,r);return this.getUsedFormData(r,o)});pe(this,"onChange",(r,n,a)=>{const{extraErrors:i,omitExtraData:s,liveOmit:o,noValidate:c,liveValidate:u,onChange:l}=this.props,{schemaUtils:f,schema:m}=this.state;let h=this.state.retrievedSchema;if(ae(r)||Array.isArray(r)){const p=this.getStateFromProps(this.props,r);r=p.formData,h=p.retrievedSchema}const y=!c&&u;let b={formData:r,schema:m},g=r;if(s===!0&&o===!0&&(g=this.omitExtraData(r),b={formData:g}),y){const p=this.validate(g,m,f,h);let v=p.errors,w=p.errorSchema;const x=v,_=w;if(i){const T=si(p,i);w=T.errorSchema,v=T.errors}if(n){const T=this.filterErrorsBasedOnSchema(n,h,g);w=$t(w,T,"preventDuplicates")}b={formData:g,errors:v,errorSchema:w,schemaValidationErrors:x,schemaValidationErrorSchema:_}}else if(!c&&n){const p=i?$t(n,i,"preventDuplicates"):n;b={formData:g,errorSchema:p,errors:Nn(p)}}this.setState(b,()=>l&&l({...this.state,...b},a))});pe(this,"reset",()=>{const{onChange:r}=this.props,i={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(i,()=>r&&r({...this.state,...i}))});pe(this,"onBlur",(r,n)=>{const{onBlur:a}=this.props;a&&a(r,n)});pe(this,"onFocus",(r,n)=>{const{onFocus:a}=this.props;a&&a(r,n)});pe(this,"onSubmit",r=>{if(r.preventDefault(),r.target!==r.currentTarget)return;r.persist();const{omitExtraData:n,extraErrors:a,noValidate:i,onSubmit:s}=this.props;let{formData:o}=this.state;if(n===!0&&(o=this.omitExtraData(o)),i||this.validateFormWithFormData(o)){const c=a||{},u=a?Nn(a):[];this.setState({formData:o,errors:u,errorSchema:c,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{s&&s({...this.state,formData:o,status:"submitted"},r)})}});pe(this,"submit",()=>{if(this.formElement.current){const r=new CustomEvent("submit",{cancelable:!0});r.preventDefault(),this.formElement.current.dispatchEvent(r),this.formElement.current.requestSubmit()}});pe(this,"validateFormWithFormData",r=>{const{extraErrors:n,extraErrorsBlockSubmit:a,focusOnFirstError:i,onError:s}=this.props,{errors:o}=this.state,c=this.validate(r);let u=c.errors,l=c.errorSchema;const f=u,m=l,h=u.length>0||n&&a;if(h){if(n){const y=si(c,n);l=y.errorSchema,u=y.errors}i&&(typeof i=="function"?i(u[0]):this.focusOnError(u[0])),this.setState({errors:u,errorSchema:l,schemaValidationErrors:f,schemaValidationErrorSchema:m},()=>{s?s(u):console.error("Form validation failed",u)})}else o.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!h});if(!r.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(r,r.formData),this.props.onChange&&!be(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=I.createRef()}getSnapshotBeforeUpdate(r,n){if(!be(this.props,r)){const a=bM(this.props.formData,r.formData),i=!be(r.schema,this.props.schema),s=a.length>0||!be(r.formData,this.props.formData),o=this.getStateFromProps(this.props,this.props.formData,i||s?void 0:this.state.retrievedSchema,i,a),c=!be(o,n);return{nextState:o,shouldUpdate:c}}return{shouldUpdate:!1}}componentDidUpdate(r,n,a){if(a.shouldUpdate){const{nextState:i}=a;!be(i.formData,this.props.formData)&&!be(i.formData,n.formData)&&this.props.onChange&&this.props.onChange(i),this.setState(i)}}getStateFromProps(r,n,a,i=!1,s=[]){var A;const o=this.state||{},c="schema"in r?r.schema:this.props.schema,u=("uiSchema"in r?r.uiSchema:this.props.uiSchema)||{},l=typeof n<"u",f="liveValidate"in r?r.liveValidate:this.props.liveValidate,m=l&&!r.noValidate&&f,h=c,y="experimental_defaultFormStateBehavior"in r?r.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,b="experimental_customMergeAllOf"in r?r.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let g=o.schemaUtils;(!g||g.doesSchemaUtilsDiffer(r.validator,h,y,b))&&(g=F5(r.validator,h,y,b));const p=g.getDefaultFormState(c,n),v=this.updateRetrievedSchema(a??g.retrieveSchema(c,p)),w=()=>r.noValidate||i?{errors:[],errorSchema:{}}:r.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}};let x,_,T=o.schemaValidationErrors,j=o.schemaValidationErrorSchema;if(m){const M=this.validate(p,c,g,v);x=M.errors,a===void 0?_=M.errorSchema:_=$t((A=this.state)==null?void 0:A.errorSchema,M.errorSchema,"preventDuplicates"),T=x,j=_}else{const M=w();if(x=M.errors,_=M.errorSchema,s.length>0){const L=s.reduce((W,z)=>(W[z]=void 0,W),{});_=j=$t(M.errorSchema,L,"preventDuplicates")}}if(r.extraErrors){const M=si({errorSchema:_,errors:x},r.extraErrors);_=M.errorSchema,x=M.errors}const C=g.toIdSchema(v,u["ui:rootFieldId"],p,r.idPrefix,r.idSeparator);return{schemaUtils:g,schema:c,uiSchema:u,idSchema:C,formData:p,edit:l,errors:x,errorSchema:_,schemaValidationErrors:T,schemaValidationErrorSchema:j,retrievedSchema:v}}shouldComponentUpdate(r,n){return lM(this,r,n)}getPreviousCustomValidateErrors(){const{customValidate:r,uiSchema:n}=this.props,a=this.state.formData;let i={};if(typeof r=="function"){const s=r(a,na(a),n);i=To(s)}return i}validate(r,n=this.props.schema,a,i){const s=a||this.state.schemaUtils,{customValidate:o,transformErrors:c,uiSchema:u}=this.props,l=i??s.retrieveSchema(n,r);return s.getValidator().validateFormData(r,l,o,c,u)}renderErrors(r){const{errors:n,errorSchema:a,schema:i,uiSchema:s}=this.state,{formContext:o}=this.props,c=ie(s),u=ce("ErrorListTemplate",r,c);return n&&n.length?d.jsx(u,{errors:n,errorSchema:a||{},schema:i,uiSchema:s,formContext:o,registry:r}):null}filterErrorsBasedOnSchema(r,n,a){const{retrievedSchema:i,schemaUtils:s}=this.state,o=n??i,c=s.toPathSchema(o,"",a),u=this.getFieldNames(c,a),l=Lp(r,u);(n==null?void 0:n.type)!=="object"&&(n==null?void 0:n.type)!=="array"&&(l.__errors=r.__errors);const f=this.getPreviousCustomValidateErrors(),m=(y=[],b)=>y.length===0?y:y.filter(g=>!b.includes(g)),h=(y,b={})=>(vM(y,(g,p)=>{const v=b[p];$n(g)||Array.isArray(g)&&g.length===0?delete y[p]:ae(g)&&ae(v)&&Array.isArray(v==null?void 0:v.__errors)?y[p]=m(g.__errors,v.__errors):typeof g=="object"&&!Array.isArray(g.__errors)&&h(g,b[p])}),y);return h(l,f)}updateRetrievedSchema(r){var a;return be(r,(a=this.state)==null?void 0:a.retrievedSchema)?this.state.retrievedSchema:r}getRegistry(){var l;const{translateString:r,uiSchema:n={}}=this.props,{schemaUtils:a}=this.state,{fields:i,templates:s,widgets:o,formContext:c,translateString:u}=RD();return{fields:{...i,...this.props.fields},templates:{...s,...this.props.templates,ButtonTemplates:{...s.ButtonTemplates,...(l=this.props.templates)==null?void 0:l.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||c,schemaUtils:a,translateString:r||u,globalUiOptions:n[zg]}}focusOnError(r){const{idPrefix:n="root",idSeparator:a="_"}=this.props,{property:i}=r,s=Mp(i);s[0]===""?s[0]=n:s.unshift(n);const o=s.join(a);let c=this.formElement.current.elements[o];c||(c=this.formElement.current.querySelector(`input[id^="${o}"`)),c&&c.length&&(c=c[0]),c&&c.focus()}validateForm(){const{omitExtraData:r}=this.props;let{formData:n}=this.state;return r===!0&&(n=this.omitExtraData(n)),this.validateFormWithFormData(n)}render(){const{children:r,id:n,idPrefix:a,idSeparator:i,className:s="",tagName:o,name:c,method:u,target:l,action:f,autoComplete:m,enctype:h,acceptcharset:y,acceptCharset:b,noHtml5Validate:g=!1,disabled:p,readonly:v,formContext:w,showErrorList:x="top",_internalFormWrapper:_}=this.props,{schema:T,uiSchema:j,formData:C,errorSchema:O,idSchema:A}=this.state,M=this.getRegistry(),{SchemaField:L}=M.fields,{SubmitButton:W}=M.templates.ButtonTemplates,z=_?o:void 0,G=_||o||"form";let{[ta]:F={}}=ie(j);p&&(F={...F,props:{...F.props,disabled:!0}});const ee={[Xr]:{[ta]:F}};return d.jsxs(G,{className:s||"rjsf",id:n,name:c,method:u,target:l,action:f,autoComplete:m,encType:h,acceptCharset:b||y,noValidate:g,onSubmit:this.onSubmit,as:z,ref:this.formElement,children:[x==="top"&&this.renderErrors(M),d.jsx(L,{name:"",schema:T,uiSchema:j,errorSchema:O,idSchema:A,idPrefix:a,idSeparator:i,formContext:w,formData:C,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:M,disabled:p,readonly:v}),r||d.jsx(W,{uiSchema:ee,registry:M}),x==="bottom"&&this.renderErrors(M)]})}}var Wo={exports:{}},uh={},Qe={},Rr={},An={},Q={},Pn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((w,x)=>`${w}${x}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((w,x)=>(x instanceof r&&(w[x.str]=(w[x.str]||0)+1),w),{})}}e._Code=n,e.nil=new n("");function a(p,...v){const w=[p[0]];let x=0;for(;x<v.length;)o(w,v[x]),w.push(p[++x]);return new n(w)}e._=a;const i=new n("+");function s(p,...v){const w=[h(p[0])];let x=0;for(;x<v.length;)w.push(i),o(w,v[x]),w.push(i,h(p[++x]));return c(w),new n(w)}e.str=s;function o(p,v){v instanceof n?p.push(...v._items):v instanceof r?p.push(v):p.push(f(v))}e.addCodeArg=o;function c(p){let v=1;for(;v<p.length-1;){if(p[v]===i){const w=u(p[v-1],p[v+1]);if(w!==void 0){p.splice(v-1,3,w);continue}p[v++]="+"}v++}}function u(p,v){if(v==='""')return p;if(p==='""')return v;if(typeof p=="string")return v instanceof r||p[p.length-1]!=='"'?void 0:typeof v!="string"?`${p.slice(0,-1)}${v}"`:v[0]==='"'?p.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(p instanceof r))return`"${p}${v.slice(1)}`}function l(p,v){return v.emptyStr()?p:p.emptyStr()?v:s`${p}${v}`}e.strConcat=l;function f(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:h(Array.isArray(p)?p.join(","):p)}function m(p){return new n(h(p))}e.stringify=m;function h(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function y(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):a`[${p}]`}e.getProperty=y;function b(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=b;function g(p){return new n(p.toString())}e.regexpCode=g})(Pn);var Vo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Pn;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:u,parent:l}={}){this._names={},this._prefixes=u,this._parent=l}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const l=this._names[u]||this._nameGroup(u);return`${u}${l.index++}`}_nameGroup(u){var l,f;if(!((f=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=a;class i extends t.Name{constructor(u,l){super(l),this.prefix=u}setValue(u,{property:l,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(l)}[${f}]`}}e.ValueScopeName=i;const s=(0,t._)`\n`;class o extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new i(u,this._newName(u))}value(u,l){var f;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(u),{prefix:h}=m,y=(f=l.key)!==null&&f!==void 0?f:l.ref;let b=this._values[h];if(b){const v=b.get(y);if(v)return v}else b=this._values[h]=new Map;b.set(y,m);const g=this._scope[h]||(this._scope[h]=[]),p=g.length;return g[p]=l.ref,m.setValue(l,{property:h,itemIndex:p}),m}getValue(u,l){const f=this._values[u];if(f)return f.get(l)}scopeRefs(u,l=this._values){return this._reduceValues(l,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,l,f){return this._reduceValues(u,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},l,f)}_reduceValues(u,l,f={},m){let h=t.nil;for(const y in u){const b=u[y];if(!b)continue;const g=f[y]=f[y]||new Map;b.forEach(p=>{if(g.has(p))return;g.set(p,n.Started);let v=l(p);if(v){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${w} ${p} = ${v};${this.opts._n}`}else if(v=m==null?void 0:m(p))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new r(p);g.set(p,n.Completed)})}return h}}e.ValueScope=o})(Vo),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Pn,r=Vo;var n=Pn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Vo;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames($,S){return this}}class s extends i{constructor($,S,k){super(),this.varKind=$,this.name=S,this.rhs=k}render({es5:$,_n:S}){const k=$?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${k} ${this.name}${V};`+S}optimizeNames($,S){if($[this.name.str])return this.rhs&&(this.rhs=z(this.rhs,$,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends i{constructor($,S,k){super(),this.lhs=$,this.rhs=S,this.sideEffects=k}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,S){if(!(this.lhs instanceof t.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=z(this.rhs,$,S),this}get names(){const $=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W($,this.rhs)}}class c extends o{constructor($,S,k,V){super($,k,V),this.op=S}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class u extends i{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class l extends i{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class f extends i{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class m extends i{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,S){return this.code=z(this.code,$,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends i{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((S,k)=>S+k.render($),"")}optimizeNodes(){const{nodes:$}=this;let S=$.length;for(;S--;){const k=$[S].optimizeNodes();Array.isArray(k)?$.splice(S,1,...k):k?$[S]=k:$.splice(S,1)}return $.length>0?this:void 0}optimizeNames($,S){const{nodes:k}=this;let V=k.length;for(;V--;){const B=k[V];B.optimizeNames($,S)||(G($,B.names),k.splice(V,1))}return k.length>0?this:void 0}get names(){return this.nodes.reduce(($,S)=>L($,S.names),{})}}class y extends h{render($){return"{"+$._n+super.render($)+"}"+$._n}}class b extends h{}class g extends y{}g.kind="else";class p extends y{constructor($,S){super(S),this.condition=$}render($){let S=`if(${this.condition})`+super.render($);return this.else&&(S+="else "+this.else.render($)),S}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let S=this.else;if(S){const k=S.optimizeNodes();S=this.else=Array.isArray(k)?new g(k):k}if(S)return $===!1?S instanceof p?S:S.nodes:this.nodes.length?this:new p(F($),S instanceof p?[S]:S.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,S){var k;if(this.else=(k=this.else)===null||k===void 0?void 0:k.optimizeNames($,S),!!(super.optimizeNames($,S)||this.else))return this.condition=z(this.condition,$,S),this}get names(){const $=super.names;return W($,this.condition),this.else&&L($,this.else.names),$}}p.kind="if";class v extends y{}v.kind="for";class w extends v{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,S){if(super.optimizeNames($,S))return this.iteration=z(this.iteration,$,S),this}get names(){return L(super.names,this.iteration.names)}}class x extends v{constructor($,S,k,V){super(),this.varKind=$,this.name=S,this.from=k,this.to=V}render($){const S=$.es5?r.varKinds.var:this.varKind,{name:k,from:V,to:B}=this;return`for(${S} ${k}=${V}; ${k}<${B}; ${k}++)`+super.render($)}get names(){const $=W(super.names,this.from);return W($,this.to)}}class _ extends v{constructor($,S,k,V){super(),this.loop=$,this.varKind=S,this.name=k,this.iterable=V}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,S){if(super.optimizeNames($,S))return this.iterable=z(this.iterable,$,S),this}get names(){return L(super.names,this.iterable.names)}}class T extends y{constructor($,S,k){super(),this.name=$,this.args=S,this.async=k}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}T.kind="func";class j extends h{render($){return"return "+super.render($)}}j.kind="return";class C extends y{render($){let S="try"+super.render($);return this.catch&&(S+=this.catch.render($)),this.finally&&(S+=this.finally.render($)),S}optimizeNodes(){var $,S;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames($,S){var k,V;return super.optimizeNames($,S),(k=this.catch)===null||k===void 0||k.optimizeNames($,S),(V=this.finally)===null||V===void 0||V.optimizeNames($,S),this}get names(){const $=super.names;return this.catch&&L($,this.catch.names),this.finally&&L($,this.finally.names),$}}class O extends y{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}O.kind="catch";class A extends y{render($){return"finally"+super.render($)}}A.kind="finally";class M{constructor($,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=$,this._scope=new r.Scope({parent:$}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,S){const k=this._extScope.value($,S);return(this._values[k.prefix]||(this._values[k.prefix]=new Set)).add(k),k}getScopeValue($,S){return this._extScope.getValue($,S)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,S,k,V){const B=this._scope.toName(S);return k!==void 0&&V&&(this._constants[B.str]=k),this._leafNode(new s($,B,k)),B}const($,S,k){return this._def(r.varKinds.const,$,S,k)}let($,S,k){return this._def(r.varKinds.let,$,S,k)}var($,S,k){return this._def(r.varKinds.var,$,S,k)}assign($,S,k){return this._leafNode(new o($,S,k))}add($,S){return this._leafNode(new c($,e.operators.ADD,S))}code($){return typeof $=="function"?$():$!==t.nil&&this._leafNode(new m($)),this}object(...$){const S=["{"];for(const[k,V]of $)S.length>1&&S.push(","),S.push(k),(k!==V||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,V));return S.push("}"),new t._Code(S)}if($,S,k){if(this._blockNode(new p($)),S&&k)this.code(S).else().code(k).endIf();else if(S)this.code(S).endIf();else if(k)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new p($))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(p,g)}_for($,S){return this._blockNode($),S&&this.code(S).endFor(),this}for($,S){return this._for(new w($),S)}forRange($,S,k,V,B=this.opts.es5?r.varKinds.var:r.varKinds.let){const se=this._scope.toName($);return this._for(new x(B,se,S,k),()=>V(se))}forOf($,S,k,V=r.varKinds.const){const B=this._scope.toName($);if(this.opts.es5){const se=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${se}.length`,ne=>{this.var(B,(0,t._)`${se}[${ne}]`),k(B)})}return this._for(new _("of",V,B,S),()=>k(B))}forIn($,S,k,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,t._)`Object.keys(${S})`,k);const B=this._scope.toName($);return this._for(new _("in",V,B,S),()=>k(B))}endFor(){return this._endBlockNode(v)}label($){return this._leafNode(new u($))}break($){return this._leafNode(new l($))}return($){const S=new j;if(this._blockNode(S),this.code($),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(j)}try($,S,k){if(!S&&!k)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new C;if(this._blockNode(V),this.code($),S){const B=this.name("e");this._currNode=V.catch=new O(B),S(B)}return k&&(this._currNode=V.finally=new A,this.code(k)),this._endBlockNode(O,A)}throw($){return this._leafNode(new f($))}block($,S){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(S),this}endBlock($){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const k=this._nodes.length-S;if(k<0||$!==void 0&&k!==$)throw new Error(`CodeGen: wrong number of nodes: ${k} vs ${$} expected`);return this._nodes.length=S,this}func($,S=t.nil,k,V){return this._blockNode(new T($,S,k)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,S){const k=this._currNode;if(k instanceof $||S&&k instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${$.kind}/${S.kind}`:$.kind}"`)}_elseNode($){const S=this._currNode;if(!(S instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const S=this._nodes;S[S.length-1]=$}}e.CodeGen=M;function L(E,$){for(const S in $)E[S]=(E[S]||0)+($[S]||0);return E}function W(E,$){return $ instanceof t._CodeOrName?L(E,$.names):E}function z(E,$,S){if(E instanceof t.Name)return k(E);if(!V(E))return E;return new t._Code(E._items.reduce((B,se)=>(se instanceof t.Name&&(se=k(se)),se instanceof t._Code?B.push(...se._items):B.push(se),B),[]));function k(B){const se=S[B.str];return se===void 0||$[B.str]!==1?B:(delete $[B.str],se)}function V(B){return B instanceof t._Code&&B._items.some(se=>se instanceof t.Name&&$[se.str]===1&&S[se.str]!==void 0)}}function G(E,$){for(const S in $)E[S]=(E[S]||0)-($[S]||0)}function F(E){return typeof E=="boolean"||typeof E=="number"||E===null?!E:(0,t._)`!${P(E)}`}e.not=F;const ee=N(e.operators.AND);function Z(...E){return E.reduce(ee)}e.and=Z;const te=N(e.operators.OR);function D(...E){return E.reduce(te)}e.or=D;function N(E){return($,S)=>$===t.nil?S:S===t.nil?$:(0,t._)`${P($)} ${E} ${P(S)}`}function P(E){return E instanceof t.Name?E:(0,t._)`(${E})`}}(Q);var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.checkStrictMode=U.getErrorPath=U.Type=U.useFunc=U.setEvaluated=U.evaluatedPropsToName=U.mergeEvaluated=U.eachItem=U.unescapeJsonPointer=U.escapeJsonPointer=U.escapeFragment=U.unescapeFragment=U.schemaRefOrVal=U.schemaHasRulesButRef=U.schemaHasRules=U.checkUnknownRules=U.alwaysValidSchema=U.toHash=void 0;const fe=Q,zD=Pn;function WD(e){const t={};for(const r of e)t[r]=!0;return t}U.toHash=WD;function VD(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(dh(e,t),!fh(t,e.self.RULES.all))}U.alwaysValidSchema=VD;function dh(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const a=n.RULES.keywords;for(const i in t)a[i]||yh(e,`unknown keyword: "${i}"`)}U.checkUnknownRules=dh;function fh(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}U.schemaHasRules=fh;function BD(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}U.schemaHasRulesButRef=BD;function qD({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,fe._)`${r}`}return(0,fe._)`${e}${t}${(0,fe.getProperty)(n)}`}U.schemaRefOrVal=qD;function GD(e){return ph(decodeURIComponent(e))}U.unescapeFragment=GD;function KD(e){return encodeURIComponent(Bo(e))}U.escapeFragment=KD;function Bo(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}U.escapeJsonPointer=Bo;function ph(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}U.unescapeJsonPointer=ph;function HD(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}U.eachItem=HD;function hh({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,i,s,o)=>{const c=s===void 0?i:s instanceof fe.Name?(i instanceof fe.Name?e(a,i,s):t(a,i,s),s):i instanceof fe.Name?(t(a,s,i),i):r(i,s);return o===fe.Name&&!(c instanceof fe.Name)?n(a,c):c}}U.mergeEvaluated={props:hh({mergeNames:(e,t,r)=>e.if((0,fe._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,fe._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,fe._)`${r} || {}`).code((0,fe._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,fe._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,fe._)`${r} || {}`),qo(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:mh}),items:hh({mergeNames:(e,t,r)=>e.if((0,fe._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,fe._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,fe._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,fe._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function mh(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,fe._)`{}`);return t!==void 0&&qo(e,r,t),r}U.evaluatedPropsToName=mh;function qo(e,t,r){Object.keys(r).forEach(n=>e.assign((0,fe._)`${t}${(0,fe.getProperty)(n)}`,!0))}U.setEvaluated=qo;const gh={};function YD(e,t){return e.scopeValue("func",{ref:t,code:gh[t.code]||(gh[t.code]=new zD._Code(t.code))})}U.useFunc=YD;var Go;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Go||(U.Type=Go={}));function JD(e,t,r){if(e instanceof fe.Name){const n=t===Go.Num;return r?n?(0,fe._)`"[" + ${e} + "]"`:(0,fe._)`"['" + ${e} + "']"`:n?(0,fe._)`"/" + ${e}`:(0,fe._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,fe.getProperty)(e).toString():"/"+Bo(e)}U.getErrorPath=JD;function yh(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}U.checkStrictMode=yh;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});const Ae=Q,QD={data:new Ae.Name("data"),valCxt:new Ae.Name("valCxt"),instancePath:new Ae.Name("instancePath"),parentData:new Ae.Name("parentData"),parentDataProperty:new Ae.Name("parentDataProperty"),rootData:new Ae.Name("rootData"),dynamicAnchors:new Ae.Name("dynamicAnchors"),vErrors:new Ae.Name("vErrors"),errors:new Ae.Name("errors"),this:new Ae.Name("this"),self:new Ae.Name("self"),scope:new Ae.Name("scope"),json:new Ae.Name("json"),jsonPos:new Ae.Name("jsonPos"),jsonLen:new Ae.Name("jsonLen"),jsonPart:new Ae.Name("jsonPart")};dt.default=QD,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Q,r=U,n=dt;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:p})=>p?(0,t.str)`"${g}" keyword must be ${p} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function a(g,p=e.keywordError,v,w){const{it:x}=g,{gen:_,compositeRule:T,allErrors:j}=x,C=f(g,p,v);w??(T||j)?c(_,C):u(x,(0,t._)`[${C}]`)}e.reportError=a;function i(g,p=e.keywordError,v){const{it:w}=g,{gen:x,compositeRule:_,allErrors:T}=w,j=f(g,p,v);c(x,j),_||T||u(w,n.default.vErrors)}e.reportExtraError=i;function s(g,p){g.assign(n.default.errors,p),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(p,()=>g.assign((0,t._)`${n.default.vErrors}.length`,p),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function o({gen:g,keyword:p,schemaValue:v,data:w,errsCount:x,it:_}){if(x===void 0)throw new Error("ajv implementation error");const T=g.name("err");g.forRange("i",x,n.default.errors,j=>{g.const(T,(0,t._)`${n.default.vErrors}[${j}]`),g.if((0,t._)`${T}.instancePath === undefined`,()=>g.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,_.errorPath))),g.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${_.errSchemaPath}/${p}`),_.opts.verbose&&(g.assign((0,t._)`${T}.schema`,v),g.assign((0,t._)`${T}.data`,w))})}e.extendErrors=o;function c(g,p){const v=g.const("err",p);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${n.default.vErrors}.push(${v})`),g.code((0,t._)`${n.default.errors}++`)}function u(g,p){const{gen:v,validateName:w,schemaEnv:x}=g;x.$async?v.throw((0,t._)`new ${g.ValidationError}(${p})`):(v.assign((0,t._)`${w}.errors`,p),v.return(!1))}const l={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(g,p,v){const{createErrors:w}=g.it;return w===!1?(0,t._)`{}`:m(g,p,v)}function m(g,p,v={}){const{gen:w,it:x}=g,_=[h(x,v),y(g,v)];return b(g,p,_),w.object(..._)}function h({errorPath:g},{instancePath:p}){const v=p?(0,t.str)`${g}${(0,r.getErrorPath)(p,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,v)]}function y({keyword:g,it:{errSchemaPath:p}},{schemaPath:v,parentSchema:w}){let x=w?p:(0,t.str)`${p}/${g}`;return v&&(x=(0,t.str)`${x}${(0,r.getErrorPath)(v,r.Type.Str)}`),[l.schemaPath,x]}function b(g,{params:p,message:v},w){const{keyword:x,data:_,schemaValue:T,it:j}=g,{opts:C,propertyName:O,topSchemaRef:A,schemaPath:M}=j;w.push([l.keyword,x],[l.params,typeof p=="function"?p(g):p||(0,t._)`{}`]),C.messages&&w.push([l.message,typeof v=="function"?v(g):v]),C.verbose&&w.push([l.schema,T],[l.parentSchema,(0,t._)`${A}${M}`],[n.default.data,_]),O&&w.push([l.propertyName,O])}}(An),Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.boolOrEmptySchema=Rr.topBoolOrEmptySchema=void 0;const ZD=An,XD=Q,eL=dt,tL={message:"boolean schema is false"};function rL(e){const{gen:t,schema:r,validateName:n}=e;r===!1?bh(e,!1):typeof r=="object"&&r.$async===!0?t.return(eL.default.data):(t.assign((0,XD._)`${n}.errors`,null),t.return(!0))}Rr.topBoolOrEmptySchema=rL;function nL(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),bh(e)):r.var(t,!0)}Rr.boolOrEmptySchema=nL;function bh(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,ZD.reportError)(a,tL,void 0,t)}var Ne={},rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.getRules=rr.isJSONType=void 0;const aL=["string","number","integer","boolean","null","object","array"],iL=new Set(aL);function sL(e){return typeof e=="string"&&iL.has(e)}rr.isJSONType=sL;function oL(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}rr.getRules=oL;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.shouldUseRule=St.shouldUseGroup=St.schemaHasRulesForType=void 0;function cL({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&vh(e,n)}St.schemaHasRulesForType=cL;function vh(e,t){return t.rules.some(r=>wh(e,r))}St.shouldUseGroup=vh;function wh(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}St.shouldUseRule=wh,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.reportTypeError=Ne.checkDataTypes=Ne.checkDataType=Ne.coerceAndCheckDataType=Ne.getJSONTypes=Ne.getSchemaTypes=Ne.DataType=void 0;const lL=rr,uL=St,dL=An,J=Q,$h=U;var Ur;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ur||(Ne.DataType=Ur={}));function fL(e){const t=xh(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Ne.getSchemaTypes=fL;function xh(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(lL.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Ne.getJSONTypes=xh;function pL(e,t){const{gen:r,data:n,opts:a}=e,i=hL(t,a.coerceTypes),s=t.length>0&&!(i.length===0&&t.length===1&&(0,uL.schemaHasRulesForType)(e,t[0]));if(s){const o=Ho(t,n,a.strictNumbers,Ur.Wrong);r.if(o,()=>{i.length?mL(e,t,i):Yo(e)})}return s}Ne.coerceAndCheckDataType=pL;const _h=new Set(["string","number","integer","boolean","null"]);function hL(e,t){return t?e.filter(r=>_h.has(r)||t==="array"&&r==="array"):[]}function mL(e,t,r){const{gen:n,data:a,opts:i}=e,s=n.let("dataType",(0,J._)`typeof ${a}`),o=n.let("coerced",(0,J._)`undefined`);i.coerceTypes==="array"&&n.if((0,J._)`${s} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,J._)`${a}[0]`).assign(s,(0,J._)`typeof ${a}`).if(Ho(t,a,i.strictNumbers),()=>n.assign(o,a))),n.if((0,J._)`${o} !== undefined`);for(const u of r)(_h.has(u)||u==="array"&&i.coerceTypes==="array")&&c(u);n.else(),Yo(e),n.endIf(),n.if((0,J._)`${o} !== undefined`,()=>{n.assign(a,o),gL(e,o)});function c(u){switch(u){case"string":n.elseIf((0,J._)`${s} == "number" || ${s} == "boolean"`).assign(o,(0,J._)`"" + ${a}`).elseIf((0,J._)`${a} === null`).assign(o,(0,J._)`""`);return;case"number":n.elseIf((0,J._)`${s} == "boolean" || ${a} === null
              || (${s} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,J._)`+${a}`);return;case"integer":n.elseIf((0,J._)`${s} === "boolean" || ${a} === null
              || (${s} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,J._)`+${a}`);return;case"boolean":n.elseIf((0,J._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,J._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,J._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,J._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${a} === null`).assign(o,(0,J._)`[${a}]`)}}}function gL({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,J._)`${t} !== undefined`,()=>e.assign((0,J._)`${t}[${r}]`,n))}function Ko(e,t,r,n=Ur.Correct){const a=n===Ur.Correct?J.operators.EQ:J.operators.NEQ;let i;switch(e){case"null":return(0,J._)`${t} ${a} null`;case"array":i=(0,J._)`Array.isArray(${t})`;break;case"object":i=(0,J._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=s((0,J._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=s();break;default:return(0,J._)`typeof ${t} ${a} ${e}`}return n===Ur.Correct?i:(0,J.not)(i);function s(o=J.nil){return(0,J.and)((0,J._)`typeof ${t} == "number"`,o,r?(0,J._)`isFinite(${t})`:J.nil)}}Ne.checkDataType=Ko;function Ho(e,t,r,n){if(e.length===1)return Ko(e[0],t,r,n);let a;const i=(0,$h.toHash)(e);if(i.array&&i.object){const s=(0,J._)`typeof ${t} != "object"`;a=i.null?s:(0,J._)`!${t} || ${s}`,delete i.null,delete i.array,delete i.object}else a=J.nil;i.number&&delete i.integer;for(const s in i)a=(0,J.and)(a,Ko(s,t,r,n));return a}Ne.checkDataTypes=Ho;const yL={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,J._)`{type: ${e}}`:(0,J._)`{type: ${t}}`};function Yo(e){const t=bL(e);(0,dL.reportError)(t,yL)}Ne.reportTypeError=Yo;function bL(e){const{gen:t,data:r,schema:n}=e,a=(0,$h.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}var pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.assignDefaults=void 0;const zr=Q,vL=U;function wL(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)Sh(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,i)=>Sh(e,i,a.default))}pi.assignDefaults=wL;function Sh(e,t,r){const{gen:n,compositeRule:a,data:i,opts:s}=e;if(r===void 0)return;const o=(0,zr._)`${i}${(0,zr.getProperty)(t)}`;if(a){(0,vL.checkStrictMode)(e,`default is ignored for: ${o}`);return}let c=(0,zr._)`${o} === undefined`;s.useDefaults==="empty"&&(c=(0,zr._)`${c} || ${o} === null || ${o} === ""`),n.if(c,(0,zr._)`${o} = ${(0,zr.stringify)(r)}`)}var ft={},X={};Object.defineProperty(X,"__esModule",{value:!0}),X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;const we=Q,Jo=U,It=dt,$L=U;function xL(e,t){const{gen:r,data:n,it:a}=e;r.if(Zo(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,we._)`${t}`},!0),e.error()})}X.checkReportMissingProp=xL;function _L({gen:e,data:t,it:{opts:r}},n,a){return(0,we.or)(...n.map(i=>(0,we.and)(Zo(e,t,i,r.ownProperties),(0,we._)`${a} = ${i}`)))}X.checkMissingProp=_L;function SL(e,t){e.setParams({missingProperty:t},!0),e.error()}X.reportMissingProp=SL;function jh(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,we._)`Object.prototype.hasOwnProperty`})}X.hasPropFunc=jh;function Qo(e,t,r){return(0,we._)`${jh(e)}.call(${t}, ${r})`}X.isOwnProperty=Qo;function jL(e,t,r,n){const a=(0,we._)`${t}${(0,we.getProperty)(r)} !== undefined`;return n?(0,we._)`${a} && ${Qo(e,t,r)}`:a}X.propertyInData=jL;function Zo(e,t,r,n){const a=(0,we._)`${t}${(0,we.getProperty)(r)} === undefined`;return n?(0,we.or)(a,(0,we.not)(Qo(e,t,r))):a}X.noPropertyInData=Zo;function Nh(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}X.allSchemaProperties=Nh;function NL(e,t){return Nh(t).filter(r=>!(0,Jo.alwaysValidSchema)(e,t[r]))}X.schemaProperties=NL;function EL({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:i},it:s},o,c,u){const l=u?(0,we._)`${e}, ${t}, ${n}${a}`:t,f=[[It.default.instancePath,(0,we.strConcat)(It.default.instancePath,i)],[It.default.parentData,s.parentData],[It.default.parentDataProperty,s.parentDataProperty],[It.default.rootData,It.default.rootData]];s.opts.dynamicRef&&f.push([It.default.dynamicAnchors,It.default.dynamicAnchors]);const m=(0,we._)`${l}, ${r.object(...f)}`;return c!==we.nil?(0,we._)`${o}.call(${c}, ${m})`:(0,we._)`${o}(${m})`}X.callValidateCode=EL;const OL=(0,we._)`new RegExp`;function CL({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,i=a(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,we._)`${a.code==="new RegExp"?OL:(0,$L.useFunc)(e,a)}(${r}, ${n})`})}X.usePattern=CL;function TL(e){const{gen:t,data:r,keyword:n,it:a}=e,i=t.name("valid");if(a.allErrors){const o=t.let("valid",!0);return s(()=>t.assign(o,!1)),o}return t.var(i,!0),s(()=>t.break()),i;function s(o){const c=t.const("len",(0,we._)`${r}.length`);t.forRange("i",0,c,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:Jo.Type.Num},i),t.if((0,we.not)(i),o)})}}X.validateArray=TL;function AL(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Jo.alwaysValidSchema)(a,c))&&!a.opts.unevaluated)return;const s=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((c,u)=>{const l=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},o);t.assign(s,(0,we._)`${s} || ${o}`),e.mergeValidEvaluated(l,o)||t.if((0,we.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}X.validateUnion=AL,Object.defineProperty(ft,"__esModule",{value:!0}),ft.validateKeywordUsage=ft.validSchemaType=ft.funcKeywordCode=ft.macroKeywordCode=void 0;const ke=Q,nr=dt,PL=X,kL=An;function IL(e,t){const{gen:r,keyword:n,schema:a,parentSchema:i,it:s}=e,o=t.macro.call(s.self,a,i,s),c=Oh(r,n,o);s.opts.validateSchema!==!1&&s.self.validateSchema(o,!0);const u=r.name("valid");e.subschema({schema:o,schemaPath:ke.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}ft.macroKeywordCode=IL;function ML(e,t){var r;const{gen:n,keyword:a,schema:i,parentSchema:s,$data:o,it:c}=e;LL(c,t);const u=!o&&t.compile?t.compile.call(c.self,i,s,c):t.validate,l=Oh(n,a,u),f=n.let("valid");e.block$data(f,m),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function m(){if(t.errors===!1)b(),t.modifying&&Eh(e),g(()=>e.error());else{const p=t.async?h():y();t.modifying&&Eh(e),g(()=>DL(e,p))}}function h(){const p=n.let("ruleErrs",null);return n.try(()=>b((0,ke._)`await `),v=>n.assign(f,!1).if((0,ke._)`${v} instanceof ${c.ValidationError}`,()=>n.assign(p,(0,ke._)`${v}.errors`),()=>n.throw(v))),p}function y(){const p=(0,ke._)`${l}.errors`;return n.assign(p,null),b(ke.nil),p}function b(p=t.async?(0,ke._)`await `:ke.nil){const v=c.opts.passContext?nr.default.this:nr.default.self,w=!("compile"in t&&!o||t.schema===!1);n.assign(f,(0,ke._)`${p}${(0,PL.callValidateCode)(e,l,v,w)}`,t.modifying)}function g(p){var v;n.if((0,ke.not)((v=t.valid)!==null&&v!==void 0?v:f),p)}}ft.funcKeywordCode=ML;function Eh(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ke._)`${n.parentData}[${n.parentDataProperty}]`))}function DL(e,t){const{gen:r}=e;r.if((0,ke._)`Array.isArray(${t})`,()=>{r.assign(nr.default.vErrors,(0,ke._)`${nr.default.vErrors} === null ? ${t} : ${nr.default.vErrors}.concat(${t})`).assign(nr.default.errors,(0,ke._)`${nr.default.vErrors}.length`),(0,kL.extendErrors)(e)},()=>e.error())}function LL({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Oh(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ke.stringify)(r)})}function FL(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}ft.validSchemaType=FL;function RL({schema:e,opts:t,self:r,errSchemaPath:n},a,i){if(Array.isArray(a.keyword)?!a.keyword.includes(i):a.keyword!==i)throw new Error("ajv implementation error");const s=a.dependencies;if(s!=null&&s.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[i])){const c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}ft.validateKeywordUsage=RL;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.extendSubschemaMode=Mt.extendSubschemaData=Mt.getSubschema=void 0;const pt=Q,Ch=U;function UL(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:i,topSchemaRef:s}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,pt._)`${e.schemaPath}${(0,pt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,pt._)`${e.schemaPath}${(0,pt.getProperty)(t)}${(0,pt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ch.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||i===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:s,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Mt.getSubschema=UL;function zL(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:i,propertyName:s}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=t;if(r!==void 0){const{errorPath:u,dataPathArr:l,opts:f}=t,m=o.let("data",(0,pt._)`${t.data}${(0,pt.getProperty)(r)}`,!0);c(m),e.errorPath=(0,pt.str)`${u}${(0,Ch.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,pt._)`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(a!==void 0){const u=a instanceof pt.Name?a:o.let("data",a,!0);c(u),s!==void 0&&(e.propertyName=s)}i&&(e.dataTypes=i);function c(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Mt.extendSubschemaData=zL;function WL(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:i}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Mt.extendSubschemaMode=WL;var Ce={},Th=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var s=i[a];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r},Ah={exports:{}},Dt=Ah.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};hi(t,n,a,e,"",e)};Dt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},Dt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Dt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Dt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function hi(e,t,r,n,a,i,s,o,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,i,s,o,c,u);for(var l in n){var f=n[l];if(Array.isArray(f)){if(l in Dt.arrayKeywords)for(var m=0;m<f.length;m++)hi(e,t,r,f[m],a+"/"+l+"/"+m,i,a,l,n,m)}else if(l in Dt.propsKeywords){if(f&&typeof f=="object")for(var h in f)hi(e,t,r,f[h],a+"/"+l+"/"+VL(h),i,a,l,n,h)}else(l in Dt.keywords||e.allKeys&&!(l in Dt.skipKeywords))&&hi(e,t,r,f,a+"/"+l,i,a,l,n)}r(n,a,i,s,o,c,u)}}function VL(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var BL=Ah.exports;Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.getSchemaRefs=Ce.resolveUrl=Ce.normalizeId=Ce._getFullPath=Ce.getFullPath=Ce.inlineRef=void 0;const qL=U,GL=Th,KL=BL,HL=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function YL(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Xo(e):t?Ph(e)<=t:!1}Ce.inlineRef=YL;const JL=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Xo(e){for(const t in e){if(JL.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Xo)||typeof r=="object"&&Xo(r))return!0}return!1}function Ph(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!HL.has(r)&&(typeof e[r]=="object"&&(0,qL.eachItem)(e[r],n=>t+=Ph(n)),t===1/0))return 1/0}return t}function kh(e,t="",r){r!==!1&&(t=Wr(t));const n=e.parse(t);return Ih(e,n)}Ce.getFullPath=kh;function Ih(e,t){return e.serialize(t).split("#")[0]+"#"}Ce._getFullPath=Ih;const QL=/#\/?$/;function Wr(e){return e?e.replace(QL,""):""}Ce.normalizeId=Wr;function ZL(e,t,r){return r=Wr(r),e.resolve(t,r)}Ce.resolveUrl=ZL;const XL=/^[a-z_][-a-z0-9._]*$/i;function eF(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=Wr(e[r]||t),i={"":a},s=kh(n,a,!1),o={},c=new Set;return KL(e,{allKeys:!0},(f,m,h,y)=>{if(y===void 0)return;const b=s+m;let g=i[y];typeof f[r]=="string"&&(g=p.call(this,f[r])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),i[m]=g;function p(w){const x=this.opts.uriResolver.resolve;if(w=Wr(g?x(g,w):w),c.has(w))throw l(w);c.add(w);let _=this.refs[w];return typeof _=="string"&&(_=this.refs[_]),typeof _=="object"?u(f,_.schema,w):w!==Wr(b)&&(w[0]==="#"?(u(f,o[w],w),o[w]=f):this.refs[w]=b),w}function v(w){if(typeof w=="string"){if(!XL.test(w))throw new Error(`invalid anchor "${w}"`);p.call(this,`#${w}`)}}}),o;function u(f,m,h){if(m!==void 0&&!GL(f,m))throw l(h)}function l(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Ce.getSchemaRefs=eF,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.getData=Qe.KeywordCxt=Qe.validateFunctionCode=void 0;const Mh=Rr,Dh=Ne,ec=St,mi=Ne,tF=pi,kn=ft,tc=Mt,K=Q,Y=dt,rF=Ce,jt=U,In=An;function nF(e){if(Uh(e)&&(zh(e),Rh(e))){sF(e);return}Lh(e,()=>(0,Mh.topBoolOrEmptySchema)(e))}Qe.validateFunctionCode=nF;function Lh({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},i){a.code.es5?e.func(t,(0,K._)`${Y.default.data}, ${Y.default.valCxt}`,n.$async,()=>{e.code((0,K._)`"use strict"; ${Fh(r,a)}`),iF(e,a),e.code(i)}):e.func(t,(0,K._)`${Y.default.data}, ${aF(a)}`,n.$async,()=>e.code(Fh(r,a)).code(i))}function aF(e){return(0,K._)`{${Y.default.instancePath}="", ${Y.default.parentData}, ${Y.default.parentDataProperty}, ${Y.default.rootData}=${Y.default.data}${e.dynamicRef?(0,K._)`, ${Y.default.dynamicAnchors}={}`:K.nil}}={}`}function iF(e,t){e.if(Y.default.valCxt,()=>{e.var(Y.default.instancePath,(0,K._)`${Y.default.valCxt}.${Y.default.instancePath}`),e.var(Y.default.parentData,(0,K._)`${Y.default.valCxt}.${Y.default.parentData}`),e.var(Y.default.parentDataProperty,(0,K._)`${Y.default.valCxt}.${Y.default.parentDataProperty}`),e.var(Y.default.rootData,(0,K._)`${Y.default.valCxt}.${Y.default.rootData}`),t.dynamicRef&&e.var(Y.default.dynamicAnchors,(0,K._)`${Y.default.valCxt}.${Y.default.dynamicAnchors}`)},()=>{e.var(Y.default.instancePath,(0,K._)`""`),e.var(Y.default.parentData,(0,K._)`undefined`),e.var(Y.default.parentDataProperty,(0,K._)`undefined`),e.var(Y.default.rootData,Y.default.data),t.dynamicRef&&e.var(Y.default.dynamicAnchors,(0,K._)`{}`)})}function sF(e){const{schema:t,opts:r,gen:n}=e;Lh(e,()=>{r.$comment&&t.$comment&&Vh(e),dF(e),n.let(Y.default.vErrors,null),n.let(Y.default.errors,0),r.unevaluated&&oF(e),Wh(e),hF(e)})}function oF(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,K._)`${r}.evaluated`),t.if((0,K._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,K._)`${e.evaluated}.props`,(0,K._)`undefined`)),t.if((0,K._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,K._)`${e.evaluated}.items`,(0,K._)`undefined`))}function Fh(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,K._)`/*# sourceURL=${r} */`:K.nil}function cF(e,t){if(Uh(e)&&(zh(e),Rh(e))){lF(e,t);return}(0,Mh.boolOrEmptySchema)(e,t)}function Rh({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Uh(e){return typeof e.schema!="boolean"}function lF(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&Vh(e),fF(e),pF(e);const i=n.const("_errs",Y.default.errors);Wh(e,i),n.var(t,(0,K._)`${i} === ${Y.default.errors}`)}function zh(e){(0,jt.checkUnknownRules)(e),uF(e)}function Wh(e,t){if(e.opts.jtd)return Bh(e,[],!1,t);const r=(0,Dh.getSchemaTypes)(e.schema),n=(0,Dh.coerceAndCheckDataType)(e,r);Bh(e,r,!n,t)}function uF(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,jt.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function dF(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,jt.checkStrictMode)(e,"default is ignored in the schema root")}function fF(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,rF.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function pF(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Vh({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const i=r.$comment;if(a.$comment===!0)e.code((0,K._)`${Y.default.self}.logger.log(${i})`);else if(typeof a.$comment=="function"){const s=(0,K.str)`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,K._)`${Y.default.self}.opts.$comment(${i}, ${s}, ${o}.schema)`)}}function hF(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:i}=e;r.$async?t.if((0,K._)`${Y.default.errors} === 0`,()=>t.return(Y.default.data),()=>t.throw((0,K._)`new ${a}(${Y.default.vErrors})`)):(t.assign((0,K._)`${n}.errors`,Y.default.vErrors),i.unevaluated&&mF(e),t.return((0,K._)`${Y.default.errors} === 0`))}function mF({gen:e,evaluated:t,props:r,items:n}){r instanceof K.Name&&e.assign((0,K._)`${t}.props`,r),n instanceof K.Name&&e.assign((0,K._)`${t}.items`,n)}function Bh(e,t,r,n){const{gen:a,schema:i,data:s,allErrors:o,opts:c,self:u}=e,{RULES:l}=u;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,jt.schemaHasRulesButRef)(i,l))){a.block(()=>Hh(e,"$ref",l.all.$ref.definition));return}c.jtd||gF(e,t),a.block(()=>{for(const m of l.rules)f(m);f(l.post)});function f(m){(0,ec.shouldUseGroup)(i,m)&&(m.type?(a.if((0,mi.checkDataType)(m.type,s,c.strictNumbers)),qh(e,m),t.length===1&&t[0]===m.type&&r&&(a.else(),(0,mi.reportTypeError)(e)),a.endIf()):qh(e,m),o||a.if((0,K._)`${Y.default.errors} === ${n||0}`))}}function qh(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,tF.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,ec.shouldUseRule)(n,i)&&Hh(e,i.keyword,i.definition,t.type)})}function gF(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(yF(e,t),e.opts.allowUnionTypes||bF(e,t),vF(e,e.dataTypes))}function yF(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Gh(e.dataTypes,r)||rc(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),$F(e,t)}}function bF(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&rc(e,"use allowUnionTypes to allow union type keyword")}function vF(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,ec.shouldUseRule)(e.schema,a)){const{type:i}=a.definition;i.length&&!i.some(s=>wF(t,s))&&rc(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function wF(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Gh(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function $F(e,t){const r=[];for(const n of e.dataTypes)Gh(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function rc(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,jt.checkStrictMode)(e,t,e.opts.strictTypes)}class Kh{constructor(t,r,n){if((0,kn.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,jt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Yh(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,kn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Y.default.errors))}result(t,r,n){this.failResult((0,K.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,K.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,K._)`${r} !== undefined && (${(0,K.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?In.reportExtraError:In.reportError)(this,this.def.error,r)}$dataError(){(0,In.reportError)(this,this.def.$dataError||In.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,In.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=K.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=K.nil,r=K.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:i,def:s}=this;n.if((0,K.or)((0,K._)`${a} === undefined`,r)),t!==K.nil&&n.assign(t,!0),(i.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==K.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:i}=this;return(0,K.or)(s(),o());function s(){if(n.length){if(!(r instanceof K.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,K._)`${(0,mi.checkDataTypes)(c,r,i.opts.strictNumbers,mi.DataType.Wrong)}`}return K.nil}function o(){if(a.validateSchema){const c=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,K._)`!${c}(${r})`}return K.nil}}subschema(t,r){const n=(0,tc.getSubschema)(this.it,t);(0,tc.extendSubschemaData)(n,this.it,t),(0,tc.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return cF(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=jt.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=jt.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,K.Name)),!0}}Qe.KeywordCxt=Kh;function Hh(e,t,r,n){const a=new Kh(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,kn.funcKeywordCode)(a,r):"macro"in r?(0,kn.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,kn.funcKeywordCode)(a,r)}const xF=/^\/(?:[^~]|~0|~1)*$/,_F=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Yh(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,i;if(e==="")return Y.default.rootData;if(e[0]==="/"){if(!xF.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,i=Y.default.rootData}else{const u=_F.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const l=+u[1];if(a=u[2],a==="#"){if(l>=t)throw new Error(c("property/index",l));return n[t-l]}if(l>t)throw new Error(c("data",l));if(i=r[t-l],!a)return i}let s=i;const o=a.split("/");for(const u of o)u&&(i=(0,K._)`${i}${(0,K.getProperty)((0,jt.unescapeJsonPointer)(u))}`,s=(0,K._)`${s} && ${i}`);return s;function c(u,l){return`Cannot access ${u} ${l} levels up, current level is ${t}`}}Qe.getData=Yh;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});class SF extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Mn.default=SF;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});const nc=Ce;class jF extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,nc.resolveUrl)(t,r,n),this.missingSchema=(0,nc.normalizeId)((0,nc.getFullPath)(t,this.missingRef))}}Vr.default=jF;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.resolveSchema=Ie.getCompilingSchema=Ie.resolveRef=Ie.compileSchema=Ie.SchemaEnv=void 0;const Ze=Q,NF=Mn,ar=dt,Xe=Ce,Jh=U,EF=Qe;class gi{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Xe.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Ie.SchemaEnv=gi;function ac(e){const t=Qh.call(this,e);if(t)return t;const r=(0,Xe.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:i}=this.opts,s=new Ze.CodeGen(this.scope,{es5:n,lines:a,ownProperties:i});let o;e.$async&&(o=s.scopeValue("Error",{ref:NF.default,code:(0,Ze._)`require("ajv/dist/runtime/validation_error").default`}));const c=s.scopeName("validate");e.validateName=c;const u={gen:s,allErrors:this.opts.allErrors,data:ar.default.data,parentData:ar.default.parentData,parentDataProperty:ar.default.parentDataProperty,dataNames:[ar.default.data],dataPathArr:[Ze.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ze.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ze.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ze._)`""`,opts:this.opts,self:this};let l;try{this._compilations.add(e),(0,EF.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);const f=s.toString();l=`${s.scopeRefs(ar.default.scope)}return ${f}`,this.opts.code.process&&(l=this.opts.code.process(l,e));const h=new Function(`${ar.default.self}`,`${ar.default.scope}`,l)(this,this.scope.get());if(this.scope.value(c,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:c,validateCode:f,scopeValues:s._values}),this.opts.unevaluated){const{props:y,items:b}=u;h.evaluated={props:y instanceof Ze.Name?void 0:y,items:b instanceof Ze.Name?void 0:b,dynamicProps:y instanceof Ze.Name,dynamicItems:b instanceof Ze.Name},h.source&&(h.source.evaluated=(0,Ze.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,l&&this.logger.error("Error compiling schema, function code:",l),f}finally{this._compilations.delete(e)}}Ie.compileSchema=ac;function OF(e,t,r){var n;r=(0,Xe.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let i=AF.call(this,e,r);if(i===void 0){const s=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;s&&(i=new gi({schema:s,schemaId:o,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=CF.call(this,i)}Ie.resolveRef=OF;function CF(e){return(0,Xe.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:ac.call(this,e)}function Qh(e){for(const t of this._compilations)if(TF(t,e))return t}Ie.getCompilingSchema=Qh;function TF(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function AF(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||yi.call(this,e,t)}function yi(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Xe._getFullPath)(this.opts.uriResolver,r);let a=(0,Xe.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return ic.call(this,r,e);const i=(0,Xe.normalizeId)(n),s=this.refs[i]||this.schemas[i];if(typeof s=="string"){const o=yi.call(this,e,s);return typeof(o==null?void 0:o.schema)!="object"?void 0:ic.call(this,r,o)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||ac.call(this,s),i===(0,Xe.normalizeId)(t)){const{schema:o}=s,{schemaId:c}=this.opts,u=o[c];return u&&(a=(0,Xe.resolveUrl)(this.opts.uriResolver,a,u)),new gi({schema:o,schemaId:c,root:e,baseId:a})}return ic.call(this,r,s)}}Ie.resolveSchema=yi;const PF=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ic(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Jh.unescapeFragment)(o)];if(c===void 0)return;r=c;const u=typeof r=="object"&&r[this.opts.schemaId];!PF.has(o)&&u&&(t=(0,Xe.resolveUrl)(this.opts.uriResolver,t,u))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Jh.schemaHasRulesButRef)(r,this.RULES)){const o=(0,Xe.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=yi.call(this,n,o)}const{schemaId:s}=this.opts;if(i=i||new gi({schema:r,schemaId:s,root:n,baseId:t}),i.schema!==i.root.schema)return i}const kF={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};var sc={},bi={exports:{}};const IF=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),Zh=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function Xh(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const MF=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function em(e){return e.length=0,!0}function DF(e,t,r){if(e.length){const n=Xh(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function LF(e){let t=0;const r={error:!1,address:"",zone:""},n=[],a=[];let i=!1,s=!1,o=DF;for(let c=0;c<e.length;c++){const u=e[c];if(!(u==="["||u==="]"))if(u===":"){if(i===!0&&(s=!0),!o(a,n,r))break;if(++t>7){r.error=!0;break}c>0&&e[c-1]===":"&&(i=!0),n.push(":");continue}else if(u==="%"){if(!o(a,n,r))break;o=em}else{a.push(u);continue}}return a.length&&(o===em?r.zone=a.join(""):s?n.push(a.join("")):n.push(Xh(a))),r.address=n.join(""),r}function tm(e){if(FF(e,":")<2)return{host:e,isIPV6:!1};const t=LF(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function FF(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function RF(e){let t=e;const r=[];let n=-1,a=0;for(;a=t.length;){if(a===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(a===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(a===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function UF(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function zF(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!Zh(r)){const n=tm(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var rm={nonSimpleDomain:MF,recomposeAuthority:zF,normalizeComponentEncoding:UF,removeDotSegments:RF,isIPv4:Zh,isUUID:IF,normalizeIPv6:tm};const{isUUID:WF}=rm,VF=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function nm(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function am(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function im(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function BF(e){return e.secure=nm(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function qF(e){if((e.port===(nm(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function GF(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(VF);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const a=`${n}:${t.nid||e.nid}`,i=oc(a);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function KF(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),a=`${r}:${t.nid||n}`,i=oc(a);i&&(e=i.serialize(e,t));const s=e,o=e.nss;return s.path=`${n||t.nid}:${o}`,t.skipEscape=!0,s}function HF(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!WF(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function YF(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const sm={scheme:"http",domainHost:!0,parse:am,serialize:im},JF={scheme:"https",domainHost:sm.domainHost,parse:am,serialize:im},vi={scheme:"ws",domainHost:!0,parse:BF,serialize:qF},QF={scheme:"wss",domainHost:vi.domainHost,parse:vi.parse,serialize:vi.serialize},wi={http:sm,https:JF,ws:vi,wss:QF,urn:{scheme:"urn",parse:GF,serialize:KF,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:HF,serialize:YF,skipNormalize:!0}};Object.setPrototypeOf(wi,null);function oc(e){return e&&(wi[e]||wi[e.toLowerCase()])||void 0}var ZF={SCHEMES:wi,getSchemeHandler:oc};const{normalizeIPv6:XF,removeDotSegments:Dn,recomposeAuthority:eR,normalizeComponentEncoding:$i,isIPv4:tR,nonSimpleDomain:rR}=rm,{SCHEMES:nR,getSchemeHandler:om}=ZF;function aR(e,t){return typeof e=="string"?e=ht(Nt(e,t),t):typeof e=="object"&&(e=Nt(ht(e,t),t)),e}function iR(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},a=cm(Nt(e,n),Nt(t,n),n,!0);return n.skipEscape=!0,ht(a,n)}function cm(e,t,r,n){const a={};return n||(e=Nt(ht(e,r),r),t=Nt(ht(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(a.scheme=t.scheme,a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=Dn(t.path||""),a.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=Dn(t.path||""),a.query=t.query):(t.path?(t.path[0]==="/"?a.path=Dn(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?a.path="/"+t.path:e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:a.path=t.path,a.path=Dn(a.path)),a.query=t.query):(a.path=e.path,t.query!==void 0?a.query=t.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=t.fragment,a}function sR(e,t,r){return typeof e=="string"?(e=unescape(e),e=ht($i(Nt(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=ht($i(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=ht($i(Nt(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=ht($i(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function ht(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),a=[],i=om(n.scheme||r.scheme);i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&a.push(r.scheme,":");const s=eR(r);if(s!==void 0&&(n.reference!=="suffix"&&a.push("//"),a.push(s),r.path&&r.path[0]!=="/"&&a.push("/")),r.path!==void 0){let o=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(o=Dn(o)),s===void 0&&o[0]==="/"&&o[1]==="/"&&(o="/%2F"+o.slice(2)),a.push(o)}return r.query!==void 0&&a.push("?",r.query),r.fragment!==void 0&&a.push("#",r.fragment),a.join("")}const oR=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Nt(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let a=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const i=e.match(oR);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host)if(tR(n.host)===!1){const c=XF(n.host);n.host=c.host.toLowerCase(),a=c.isIPV6}else a=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const s=om(r.scheme||n.scheme);if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(r.domainHost||s&&s.domainHost)&&a===!1&&rR(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(o){n.error=n.error||"Host's domain name can not be converted to ASCII: "+o}(!s||s&&!s.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const cc={SCHEMES:nR,normalize:aR,resolve:iR,resolveComponent:cm,equal:sR,serialize:ht,parse:Nt};bi.exports=cc,bi.exports.default=cc,bi.exports.fastUri=cc;var cR=bi.exports;Object.defineProperty(sc,"__esModule",{value:!0});const lm=cR;lm.code='require("ajv/dist/runtime/uri").default',sc.default=lm,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Qe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Q;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Mn,a=Vr,i=rr,s=Ie,o=Q,c=Ce,u=Ne,l=U,f=kF,m=sc,h=(D,N)=>new RegExp(D,N);h.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(D){var N,P,E,$,S,k,V,B,se,ne,xe,tt,cr,Ft,De,lr,ur,Yr,qn,Gn,Kn,Hn,H,ue,Et;const Rt=D.strict,ze=(N=D.code)===null||N===void 0?void 0:N.optimize,Di=ze===!0||ze===void 0?1:ze||0,Ot=(E=(P=D.code)===null||P===void 0?void 0:P.regExp)!==null&&E!==void 0?E:h,kz=($=D.uriResolver)!==null&&$!==void 0?$:m.default;return{strictSchema:(k=(S=D.strictSchema)!==null&&S!==void 0?S:Rt)!==null&&k!==void 0?k:!0,strictNumbers:(B=(V=D.strictNumbers)!==null&&V!==void 0?V:Rt)!==null&&B!==void 0?B:!0,strictTypes:(ne=(se=D.strictTypes)!==null&&se!==void 0?se:Rt)!==null&&ne!==void 0?ne:"log",strictTuples:(tt=(xe=D.strictTuples)!==null&&xe!==void 0?xe:Rt)!==null&&tt!==void 0?tt:"log",strictRequired:(Ft=(cr=D.strictRequired)!==null&&cr!==void 0?cr:Rt)!==null&&Ft!==void 0?Ft:!1,code:D.code?{...D.code,optimize:Di,regExp:Ot}:{optimize:Di,regExp:Ot},loopRequired:(De=D.loopRequired)!==null&&De!==void 0?De:v,loopEnum:(lr=D.loopEnum)!==null&&lr!==void 0?lr:v,meta:(ur=D.meta)!==null&&ur!==void 0?ur:!0,messages:(Yr=D.messages)!==null&&Yr!==void 0?Yr:!0,inlineRefs:(qn=D.inlineRefs)!==null&&qn!==void 0?qn:!0,schemaId:(Gn=D.schemaId)!==null&&Gn!==void 0?Gn:"$id",addUsedSchema:(Kn=D.addUsedSchema)!==null&&Kn!==void 0?Kn:!0,validateSchema:(Hn=D.validateSchema)!==null&&Hn!==void 0?Hn:!0,validateFormats:(H=D.validateFormats)!==null&&H!==void 0?H:!0,unicodeRegExp:(ue=D.unicodeRegExp)!==null&&ue!==void 0?ue:!0,int32range:(Et=D.int32range)!==null&&Et!==void 0?Et:!0,uriResolver:kz}}class x{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...w(N)};const{es5:P,lines:E}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:b,es5:P,lines:E}),this.logger=L(N.logger);const $=N.validateFormats;N.validateFormats=!1,this.RULES=(0,i.getRules)(),_.call(this,g,N,"NOT SUPPORTED"),_.call(this,p,N,"DEPRECATED","warn"),this._metaOpts=A.call(this),N.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&O.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),j.call(this),N.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:P,schemaId:E}=this.opts;let $=f;E==="id"&&($={...f},$.id=$.$id,delete $.$id),P&&N&&this.addMetaSchema($,$[E],!1)}defaultMeta(){const{meta:N,schemaId:P}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[P]||N:void 0}validate(N,P){let E;if(typeof N=="string"){if(E=this.getSchema(N),!E)throw new Error(`no schema with key or ref "${N}"`)}else E=this.compile(N);const $=E(P);return"$async"in E||(this.errors=E.errors),$}compile(N,P){const E=this._addSchema(N,P);return E.validate||this._compileSchemaEnv(E)}compileAsync(N,P){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:E}=this.opts;return $.call(this,N,P);async function $(ne,xe){await S.call(this,ne.$schema);const tt=this._addSchema(ne,xe);return tt.validate||k.call(this,tt)}async function S(ne){ne&&!this.getSchema(ne)&&await $.call(this,{$ref:ne},!0)}async function k(ne){try{return this._compileSchemaEnv(ne)}catch(xe){if(!(xe instanceof a.default))throw xe;return V.call(this,xe),await B.call(this,xe.missingSchema),k.call(this,ne)}}function V({missingSchema:ne,missingRef:xe}){if(this.refs[ne])throw new Error(`AnySchema ${ne} is loaded but ${xe} cannot be resolved`)}async function B(ne){const xe=await se.call(this,ne);this.refs[ne]||await S.call(this,xe.$schema),this.refs[ne]||this.addSchema(xe,ne,P)}async function se(ne){const xe=this._loading[ne];if(xe)return xe;try{return await(this._loading[ne]=E(ne))}finally{delete this._loading[ne]}}}addSchema(N,P,E,$=this.opts.validateSchema){if(Array.isArray(N)){for(const k of N)this.addSchema(k,void 0,E,$);return this}let S;if(typeof N=="object"){const{schemaId:k}=this.opts;if(S=N[k],S!==void 0&&typeof S!="string")throw new Error(`schema ${k} must be string`)}return P=(0,c.normalizeId)(P||S),this._checkUnique(P),this.schemas[P]=this._addSchema(N,E,P,$,!0),this}addMetaSchema(N,P,E=this.opts.validateSchema){return this.addSchema(N,P,!0,E),this}validateSchema(N,P){if(typeof N=="boolean")return!0;let E;if(E=N.$schema,E!==void 0&&typeof E!="string")throw new Error("$schema must be a string");if(E=E||this.opts.defaultMeta||this.defaultMeta(),!E)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(E,N);if(!$&&P){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return $}getSchema(N){let P;for(;typeof(P=T.call(this,N))=="string";)N=P;if(P===void 0){const{schemaId:E}=this.opts,$=new s.SchemaEnv({schema:{},schemaId:E});if(P=s.resolveSchema.call(this,$,N),!P)return;this.refs[N]=P}return P.validate||this._compileSchemaEnv(P)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const P=T.call(this,N);return typeof P=="object"&&this._cache.delete(P.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const P=N;this._cache.delete(P);let E=N[this.opts.schemaId];return E&&(E=(0,c.normalizeId)(E),delete this.schemas[E],delete this.refs[E]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const P of N)this.addKeyword(P);return this}addKeyword(N,P){let E;if(typeof N=="string")E=N,typeof P=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),P.keyword=E);else if(typeof N=="object"&&P===void 0){if(P=N,E=P.keyword,Array.isArray(E)&&!E.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(z.call(this,E,P),!P)return(0,l.eachItem)(E,S=>G.call(this,S)),this;ee.call(this,P);const $={...P,type:(0,u.getJSONTypes)(P.type),schemaType:(0,u.getJSONTypes)(P.schemaType)};return(0,l.eachItem)(E,$.type.length===0?S=>G.call(this,S,$):S=>$.type.forEach(k=>G.call(this,S,$,k))),this}getKeyword(N){const P=this.RULES.all[N];return typeof P=="object"?P.definition:!!P}removeKeyword(N){const{RULES:P}=this;delete P.keywords[N],delete P.all[N];for(const E of P.rules){const $=E.rules.findIndex(S=>S.keyword===N);$>=0&&E.rules.splice($,1)}return this}addFormat(N,P){return typeof P=="string"&&(P=new RegExp(P)),this.formats[N]=P,this}errorsText(N=this.errors,{separator:P=", ",dataVar:E="data"}={}){return!N||N.length===0?"No errors":N.map($=>`${E}${$.instancePath} ${$.message}`).reduce(($,S)=>$+P+S)}$dataMetaSchema(N,P){const E=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const $ of P){const S=$.split("/").slice(1);let k=N;for(const V of S)k=k[V];for(const V in E){const B=E[V];if(typeof B!="object")continue;const{$data:se}=B.definition,ne=k[V];se&&ne&&(k[V]=te(ne))}}return N}_removeAllSchemas(N,P){for(const E in N){const $=N[E];(!P||P.test(E))&&(typeof $=="string"?delete N[E]:$&&!$.meta&&(this._cache.delete($.schema),delete N[E]))}}_addSchema(N,P,E,$=this.opts.validateSchema,S=this.opts.addUsedSchema){let k;const{schemaId:V}=this.opts;if(typeof N=="object")k=N[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let B=this._cache.get(N);if(B!==void 0)return B;E=(0,c.normalizeId)(k||E);const se=c.getSchemaRefs.call(this,N,E);return B=new s.SchemaEnv({schema:N,schemaId:V,meta:P,baseId:E,localRefs:se}),this._cache.set(B.schema,B),S&&!E.startsWith("#")&&(E&&this._checkUnique(E),this.refs[E]=B),$&&this.validateSchema(N,!0),B}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):s.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const P=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,N)}finally{this.opts=P}}}x.ValidationError=n.default,x.MissingRefError=a.default,e.default=x;function _(D,N,P,E="error"){for(const $ in D){const S=$;S in N&&this.logger[E](`${P}: option ${$}. ${D[S]}`)}}function T(D){return D=(0,c.normalizeId)(D),this.schemas[D]||this.refs[D]}function j(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const N in D)this.addSchema(D[N],N)}function C(){for(const D in this.opts.formats){const N=this.opts.formats[D];N&&this.addFormat(D,N)}}function O(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in D){const P=D[N];P.keyword||(P.keyword=N),this.addKeyword(P)}}function A(){const D={...this.opts};for(const N of y)delete D[N];return D}const M={log(){},warn(){},error(){}};function L(D){if(D===!1)return M;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function z(D,N){const{RULES:P}=this;if((0,l.eachItem)(D,E=>{if(P.keywords[E])throw new Error(`Keyword ${E} is already defined`);if(!W.test(E))throw new Error(`Keyword ${E} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function G(D,N,P){var E;const $=N==null?void 0:N.post;if(P&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let k=$?S.post:S.rules.find(({type:B})=>B===P);if(k||(k={type:P,rules:[]},S.rules.push(k)),S.keywords[D]=!0,!N)return;const V={keyword:D,definition:{...N,type:(0,u.getJSONTypes)(N.type),schemaType:(0,u.getJSONTypes)(N.schemaType)}};N.before?F.call(this,k,V,N.before):k.rules.push(V),S.all[D]=V,(E=N.implements)===null||E===void 0||E.forEach(B=>this.addKeyword(B))}function F(D,N,P){const E=D.rules.findIndex($=>$.keyword===P);E>=0?D.rules.splice(E,0,N):(D.rules.push(N),this.logger.warn(`rule ${P} is not defined`))}function ee(D){let{metaSchema:N}=D;N!==void 0&&(D.$data&&this.opts.$data&&(N=te(N)),D.validateSchema=this.compile(N,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function te(D){return{anyOf:[D,Z]}}}(uh);var lc={},uc={},dc={};Object.defineProperty(dc,"__esModule",{value:!0});const lR={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};dc.default=lR;var ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.callRef=ir.getValidate=void 0;const uR=Vr,um=X,Me=Q,Br=dt,dm=Ie,xi=U,dR={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:i,validateName:s,opts:o,self:c}=n,{root:u}=i;if((r==="#"||r==="#/")&&a===u.baseId)return f();const l=dm.resolveRef.call(c,u,a,r);if(l===void 0)throw new uR.default(n.opts.uriResolver,a,r);if(l instanceof dm.SchemaEnv)return m(l);return h(l);function f(){if(i===u)return _i(e,s,i,i.$async);const y=t.scopeValue("root",{ref:u});return _i(e,(0,Me._)`${y}.validate`,u,u.$async)}function m(y){const b=fm(e,y);_i(e,b,y,y.$async)}function h(y){const b=t.scopeValue("schema",o.code.source===!0?{ref:y,code:(0,Me.stringify)(y)}:{ref:y}),g=t.name("valid"),p=e.subschema({schema:y,dataTypes:[],schemaPath:Me.nil,topSchemaRef:b,errSchemaPath:r},g);e.mergeEvaluated(p),e.ok(g)}}};function fm(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Me._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ir.getValidate=fm;function _i(e,t,r,n){const{gen:a,it:i}=e,{allErrors:s,schemaEnv:o,opts:c}=i,u=c.passContext?Br.default.this:Me.nil;n?l():f();function l(){if(!o.$async)throw new Error("async schema referenced by sync schema");const y=a.let("valid");a.try(()=>{a.code((0,Me._)`await ${(0,um.callValidateCode)(e,t,u)}`),h(t),s||a.assign(y,!0)},b=>{a.if((0,Me._)`!(${b} instanceof ${i.ValidationError})`,()=>a.throw(b)),m(b),s||a.assign(y,!1)}),e.ok(y)}function f(){e.result((0,um.callValidateCode)(e,t,u),()=>h(t),()=>m(t))}function m(y){const b=(0,Me._)`${y}.errors`;a.assign(Br.default.vErrors,(0,Me._)`${Br.default.vErrors} === null ? ${b} : ${Br.default.vErrors}.concat(${b})`),a.assign(Br.default.errors,(0,Me._)`${Br.default.vErrors}.length`)}function h(y){var b;if(!i.opts.unevaluated)return;const g=(b=r==null?void 0:r.validate)===null||b===void 0?void 0:b.evaluated;if(i.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(i.props=xi.mergeEvaluated.props(a,g.props,i.props));else{const p=a.var("props",(0,Me._)`${y}.evaluated.props`);i.props=xi.mergeEvaluated.props(a,p,i.props,Me.Name)}if(i.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(i.items=xi.mergeEvaluated.items(a,g.items,i.items));else{const p=a.var("items",(0,Me._)`${y}.evaluated.items`);i.items=xi.mergeEvaluated.items(a,p,i.items,Me.Name)}}}ir.callRef=_i,ir.default=dR,Object.defineProperty(uc,"__esModule",{value:!0});const fR=dc,pR=ir,hR=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",fR.default,pR.default];uc.default=hR;var fc={},pc={};Object.defineProperty(pc,"__esModule",{value:!0});const Si=Q,Lt=Si.operators,ji={maximum:{okStr:"<=",ok:Lt.LTE,fail:Lt.GT},minimum:{okStr:">=",ok:Lt.GTE,fail:Lt.LT},exclusiveMaximum:{okStr:"<",ok:Lt.LT,fail:Lt.GTE},exclusiveMinimum:{okStr:">",ok:Lt.GT,fail:Lt.LTE}},mR={message:({keyword:e,schemaCode:t})=>(0,Si.str)`must be ${ji[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Si._)`{comparison: ${ji[e].okStr}, limit: ${t}}`},gR={keyword:Object.keys(ji),type:"number",schemaType:"number",$data:!0,error:mR,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Si._)`${r} ${ji[t].fail} ${n} || isNaN(${r})`)}};pc.default=gR;var hc={};Object.defineProperty(hc,"__esModule",{value:!0});const Ln=Q,yR={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,Ln.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Ln._)`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,i=a.opts.multipleOfPrecision,s=t.let("res"),o=i?(0,Ln._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${i}`:(0,Ln._)`${s} !== parseInt(${s})`;e.fail$data((0,Ln._)`(${n} === 0 || (${s} = ${r}/${n}, ${o}))`)}};hc.default=yR;var mc={},gc={};Object.defineProperty(gc,"__esModule",{value:!0});function pm(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}gc.default=pm,pm.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(mc,"__esModule",{value:!0});const sr=Q,bR=U,vR=gc,wR={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,sr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,sr._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,i=t==="maxLength"?sr.operators.GT:sr.operators.LT,s=a.opts.unicode===!1?(0,sr._)`${r}.length`:(0,sr._)`${(0,bR.useFunc)(e.gen,vR.default)}(${r})`;e.fail$data((0,sr._)`${s} ${i} ${n}`)}};mc.default=wR;var yc={};Object.defineProperty(yc,"__esModule",{value:!0});const $R=X,Ni=Q,xR={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,Ni.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ni._)`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:i}=e,s=i.opts.unicodeRegExp?"u":"",o=r?(0,Ni._)`(new RegExp(${a}, ${s}))`:(0,$R.usePattern)(e,n);e.fail$data((0,Ni._)`!${o}.test(${t})`)}};yc.default=xR;var bc={};Object.defineProperty(bc,"__esModule",{value:!0});const Fn=Q,_R={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Fn.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Fn._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Fn.operators.GT:Fn.operators.LT;e.fail$data((0,Fn._)`Object.keys(${r}).length ${a} ${n}`)}};bc.default=_R;var vc={};Object.defineProperty(vc,"__esModule",{value:!0});const Rn=X,Un=Q,SR=U,jR={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,Un.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Un._)`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:i,it:s}=e,{opts:o}=s;if(!i&&r.length===0)return;const c=r.length>=o.loopRequired;if(s.allErrors?u():l(),o.strictRequired){const h=e.parentSchema.properties,{definedProperties:y}=e.it;for(const b of r)if((h==null?void 0:h[b])===void 0&&!y.has(b)){const g=s.schemaEnv.baseId+s.errSchemaPath,p=`required property "${b}" is not defined at "${g}" (strictRequired)`;(0,SR.checkStrictMode)(s,p,s.opts.strictRequired)}}function u(){if(c||i)e.block$data(Un.nil,f);else for(const h of r)(0,Rn.checkReportMissingProp)(e,h)}function l(){const h=t.let("missing");if(c||i){const y=t.let("valid",!0);e.block$data(y,()=>m(h,y)),e.ok(y)}else t.if((0,Rn.checkMissingProp)(e,r,h)),(0,Rn.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",n,h=>{e.setParams({missingProperty:h}),t.if((0,Rn.noPropertyInData)(t,a,h,o.ownProperties),()=>e.error())})}function m(h,y){e.setParams({missingProperty:h}),t.forOf(h,n,()=>{t.assign(y,(0,Rn.propertyInData)(t,a,h,o.ownProperties)),t.if((0,Un.not)(y),()=>{e.error(),t.break()})},Un.nil)}}};vc.default=jR;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});const zn=Q,NR={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,zn.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,zn._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?zn.operators.GT:zn.operators.LT;e.fail$data((0,zn._)`${r}.length ${a} ${n}`)}};wc.default=NR;var $c={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});const hm=Th;hm.code='require("ajv/dist/runtime/equal").default',Wn.default=hm,Object.defineProperty($c,"__esModule",{value:!0});const xc=Ne,Te=Q,ER=U,OR=Wn,CR={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,Te.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Te._)`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:i,schemaCode:s,it:o}=e;if(!n&&!a)return;const c=t.let("valid"),u=i.items?(0,xc.getSchemaTypes)(i.items):[];e.block$data(c,l,(0,Te._)`${s} === false`),e.ok(c);function l(){const y=t.let("i",(0,Te._)`${r}.length`),b=t.let("j");e.setParams({i:y,j:b}),t.assign(c,!0),t.if((0,Te._)`${y} > 1`,()=>(f()?m:h)(y,b))}function f(){return u.length>0&&!u.some(y=>y==="object"||y==="array")}function m(y,b){const g=t.name("item"),p=(0,xc.checkDataTypes)(u,g,o.opts.strictNumbers,xc.DataType.Wrong),v=t.const("indices",(0,Te._)`{}`);t.for((0,Te._)`;${y}--;`,()=>{t.let(g,(0,Te._)`${r}[${y}]`),t.if(p,(0,Te._)`continue`),u.length>1&&t.if((0,Te._)`typeof ${g} == "string"`,(0,Te._)`${g} += "_"`),t.if((0,Te._)`typeof ${v}[${g}] == "number"`,()=>{t.assign(b,(0,Te._)`${v}[${g}]`),e.error(),t.assign(c,!1).break()}).code((0,Te._)`${v}[${g}] = ${y}`)})}function h(y,b){const g=(0,ER.useFunc)(t,OR.default),p=t.name("outer");t.label(p).for((0,Te._)`;${y}--;`,()=>t.for((0,Te._)`${b} = ${y}; ${b}--;`,()=>t.if((0,Te._)`${g}(${r}[${y}], ${r}[${b}])`,()=>{e.error(),t.assign(c,!1).break(p)})))}}};$c.default=CR;var _c={};Object.defineProperty(_c,"__esModule",{value:!0});const Sc=Q,TR=U,AR=Wn,PR={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,Sc._)`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Sc._)`!${(0,TR.useFunc)(t,AR.default)}(${r}, ${a})`):e.fail((0,Sc._)`${i} !== ${r}`)}};_c.default=PR;var jc={};Object.defineProperty(jc,"__esModule",{value:!0});const Vn=Q,kR=U,IR=Wn,MR={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Vn._)`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:i,it:s}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=s.opts.loopEnum;let c;const u=()=>c??(c=(0,kR.useFunc)(t,IR.default));let l;if(o||n)l=t.let("valid"),e.block$data(l,f);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const h=t.const("vSchema",i);l=(0,Vn.or)(...a.map((y,b)=>m(h,b)))}e.pass(l);function f(){t.assign(l,!1),t.forOf("v",i,h=>t.if((0,Vn._)`${u()}(${r}, ${h})`,()=>t.assign(l,!0).break()))}function m(h,y){const b=a[y];return typeof b=="object"&&b!==null?(0,Vn._)`${u()}(${r}, ${h}[${y}])`:(0,Vn._)`${r} === ${b}`}}};jc.default=MR,Object.defineProperty(fc,"__esModule",{value:!0});const DR=pc,LR=hc,FR=mc,RR=yc,UR=bc,zR=vc,WR=wc,VR=$c,BR=_c,qR=jc,GR=[DR.default,LR.default,FR.default,RR.default,UR.default,zR.default,WR.default,VR.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},BR.default,qR.default];fc.default=GR;var Nc={},qr={};Object.defineProperty(qr,"__esModule",{value:!0}),qr.validateAdditionalItems=void 0;const or=Q,Ec=U,KR={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,or.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,or._)`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Ec.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}mm(e,n)}};function mm(e,t){const{gen:r,schema:n,data:a,keyword:i,it:s}=e;s.items=!0;const o=r.const("len",(0,or._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,or._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,Ec.alwaysValidSchema)(s,n)){const u=r.var("valid",(0,or._)`${o} <= ${t.length}`);r.if((0,or.not)(u),()=>c(u)),e.ok(u)}function c(u){r.forRange("i",t.length,o,l=>{e.subschema({keyword:i,dataProp:l,dataPropType:Ec.Type.Num},u),s.allErrors||r.if((0,or.not)(u),()=>r.break())})}}qr.validateAdditionalItems=mm,qr.default=KR;var Oc={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.validateTuple=void 0;const gm=Q,Ei=U,HR=X,YR={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return ym(e,"additionalItems",t);r.items=!0,!(0,Ei.alwaysValidSchema)(r,t)&&e.ok((0,HR.validateArray)(e))}};function ym(e,t,r=e.schema){const{gen:n,parentSchema:a,data:i,keyword:s,it:o}=e;l(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=Ei.mergeEvaluated.items(n,r.length,o.items));const c=n.name("valid"),u=n.const("len",(0,gm._)`${i}.length`);r.forEach((f,m)=>{(0,Ei.alwaysValidSchema)(o,f)||(n.if((0,gm._)`${u} > ${m}`,()=>e.subschema({keyword:s,schemaProp:m,dataProp:m},c)),e.ok(c))});function l(f){const{opts:m,errSchemaPath:h}=o,y=r.length,b=y===f.minItems&&(y===f.maxItems||f[t]===!1);if(m.strictTuples&&!b){const g=`"${s}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,Ei.checkStrictMode)(o,g,m.strictTuples)}}}Gr.validateTuple=ym,Gr.default=YR,Object.defineProperty(Oc,"__esModule",{value:!0});const JR=Gr,QR={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,JR.validateTuple)(e,"items")};Oc.default=QR;var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});const bm=Q,ZR=U,XR=X,eU=qr,tU={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,bm.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,bm._)`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,ZR.alwaysValidSchema)(n,t)&&(a?(0,eU.validateAdditionalItems)(e,a):e.ok((0,XR.validateArray)(e)))}};Cc.default=tU;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});const Ke=Q,Oi=U,rU={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>t===void 0?(0,Ke.str)`must contain at least ${e} valid item(s)`:(0,Ke.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ke._)`{minContains: ${e}}`:(0,Ke._)`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:i}=e;let s,o;const{minContains:c,maxContains:u}=n;i.opts.next?(s=c===void 0?1:c,o=u):s=1;const l=t.const("len",(0,Ke._)`${a}.length`);if(e.setParams({min:s,max:o}),o===void 0&&s===0){(0,Oi.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&s>o){(0,Oi.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Oi.alwaysValidSchema)(i,r)){let b=(0,Ke._)`${l} >= ${s}`;o!==void 0&&(b=(0,Ke._)`${b} && ${l} <= ${o}`),e.pass(b);return}i.items=!0;const f=t.name("valid");o===void 0&&s===1?h(f,()=>t.if(f,()=>t.break())):s===0?(t.let(f,!0),o!==void 0&&t.if((0,Ke._)`${a}.length > 0`,m)):(t.let(f,!1),m()),e.result(f,()=>e.reset());function m(){const b=t.name("_valid"),g=t.let("count",0);h(b,()=>t.if(b,()=>y(g)))}function h(b,g){t.forRange("i",0,l,p=>{e.subschema({keyword:"contains",dataProp:p,dataPropType:Oi.Type.Num,compositeRule:!0},b),g()})}function y(b){t.code((0,Ke._)`${b}++`),o===void 0?t.if((0,Ke._)`${b} >= ${s}`,()=>t.assign(f,!0).break()):(t.if((0,Ke._)`${b} > ${o}`,()=>t.assign(f,!1).break()),s===1?t.assign(f,!0):t.if((0,Ke._)`${b} >= ${s}`,()=>t.assign(f,!0)))}}};Tc.default=rU;var vm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Q,r=U,n=X;e.error={message:({params:{property:c,depsCount:u,deps:l}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${l} when property ${c} is present`},params:({params:{property:c,depsCount:u,deps:l,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${l}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[u,l]=i(c);s(c,u),o(c,l)}};function i({schema:c}){const u={},l={};for(const f in c){if(f==="__proto__")continue;const m=Array.isArray(c[f])?u:l;m[f]=c[f]}return[u,l]}function s(c,u=c.schema){const{gen:l,data:f,it:m}=c;if(Object.keys(u).length===0)return;const h=l.let("missing");for(const y in u){const b=u[y];if(b.length===0)continue;const g=(0,n.propertyInData)(l,f,y,m.opts.ownProperties);c.setParams({property:y,depsCount:b.length,deps:b.join(", ")}),m.allErrors?l.if(g,()=>{for(const p of b)(0,n.checkReportMissingProp)(c,p)}):(l.if((0,t._)`${g} && (${(0,n.checkMissingProp)(c,b,h)})`),(0,n.reportMissingProp)(c,h),l.else())}}e.validatePropertyDeps=s;function o(c,u=c.schema){const{gen:l,data:f,keyword:m,it:h}=c,y=l.name("valid");for(const b in u)(0,r.alwaysValidSchema)(h,u[b])||(l.if((0,n.propertyInData)(l,f,b,h.opts.ownProperties),()=>{const g=c.subschema({keyword:m,schemaProp:b},y);c.mergeValidEvaluated(g,y)},()=>l.var(y,!0)),c.ok(y))}e.validateSchemaDeps=o,e.default=a})(vm);var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});const wm=Q,nU=U,aU={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,wm._)`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,nU.alwaysValidSchema)(a,r))return;const i=t.name("valid");t.forIn("key",n,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},i),t.if((0,wm.not)(i),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(i)}};Ac.default=aU;var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});const Ti=X,et=Q,iU=dt,Ai=U,sU={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,et._)`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:i,it:s}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:o,opts:c}=s;if(s.props=!0,c.removeAdditional!=="all"&&(0,Ai.alwaysValidSchema)(s,r))return;const u=(0,Ti.allSchemaProperties)(n.properties),l=(0,Ti.allSchemaProperties)(n.patternProperties);f(),e.ok((0,et._)`${i} === ${iU.default.errors}`);function f(){t.forIn("key",a,g=>{!u.length&&!l.length?y(g):t.if(m(g),()=>y(g))})}function m(g){let p;if(u.length>8){const v=(0,Ai.schemaRefOrVal)(s,n.properties,"properties");p=(0,Ti.isOwnProperty)(t,v,g)}else u.length?p=(0,et.or)(...u.map(v=>(0,et._)`${g} === ${v}`)):p=et.nil;return l.length&&(p=(0,et.or)(p,...l.map(v=>(0,et._)`${(0,Ti.usePattern)(e,v)}.test(${g})`))),(0,et.not)(p)}function h(g){t.code((0,et._)`delete ${a}[${g}]`)}function y(g){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){h(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,Ai.alwaysValidSchema)(s,r)){const p=t.name("valid");c.removeAdditional==="failing"?(b(g,p,!1),t.if((0,et.not)(p),()=>{e.reset(),h(g)})):(b(g,p),o||t.if((0,et.not)(p),()=>t.break()))}}function b(g,p,v){const w={keyword:"additionalProperties",dataProp:g,dataPropType:Ai.Type.Str};v===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,p)}}};Ci.default=sU;var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});const oU=Qe,$m=X,kc=U,xm=Ci,cU={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&xm.default.code(new oU.KeywordCxt(i,xm.default,"additionalProperties"));const s=(0,$m.allSchemaProperties)(r);for(const f of s)i.definedProperties.add(f);i.opts.unevaluated&&s.length&&i.props!==!0&&(i.props=kc.mergeEvaluated.props(t,(0,kc.toHash)(s),i.props));const o=s.filter(f=>!(0,kc.alwaysValidSchema)(i,r[f]));if(o.length===0)return;const c=t.name("valid");for(const f of o)u(f)?l(f):(t.if((0,$m.propertyInData)(t,a,f,i.opts.ownProperties)),l(f),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function u(f){return i.opts.useDefaults&&!i.compositeRule&&r[f].default!==void 0}function l(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};Pc.default=cU;var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});const _m=X,Pi=Q,Sm=U,jm=U,lU={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:i}=e,{opts:s}=i,o=(0,_m.allSchemaProperties)(r),c=o.filter(b=>(0,Sm.alwaysValidSchema)(i,r[b]));if(o.length===0||c.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;const u=s.strictSchema&&!s.allowMatchingProperties&&a.properties,l=t.name("valid");i.props!==!0&&!(i.props instanceof Pi.Name)&&(i.props=(0,jm.evaluatedPropsToName)(t,i.props));const{props:f}=i;m();function m(){for(const b of o)u&&h(b),i.allErrors?y(b):(t.var(l,!0),y(b),t.if(l))}function h(b){for(const g in u)new RegExp(b).test(g)&&(0,Sm.checkStrictMode)(i,`property ${g} matches pattern ${b} (use allowMatchingProperties)`)}function y(b){t.forIn("key",n,g=>{t.if((0,Pi._)`${(0,_m.usePattern)(e,b)}.test(${g})`,()=>{const p=c.includes(b);p||e.subschema({keyword:"patternProperties",schemaProp:b,dataProp:g,dataPropType:jm.Type.Str},l),i.opts.unevaluated&&f!==!0?t.assign((0,Pi._)`${f}[${g}]`,!0):!p&&!i.allErrors&&t.if((0,Pi.not)(l),()=>t.break())})})}}};Ic.default=lU;var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});const uU=U,dU={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,uU.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Mc.default=dU;var Dc={};Object.defineProperty(Dc,"__esModule",{value:!0});const fU={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:X.validateUnion,error:{message:"must match a schema in anyOf"}};Dc.default=fU;var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});const ki=Q,pU=U,hU={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ki._)`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const i=r,s=t.let("valid",!1),o=t.let("passing",null),c=t.name("_valid");e.setParams({passing:o}),t.block(u),e.result(s,()=>e.reset(),()=>e.error(!0));function u(){i.forEach((l,f)=>{let m;(0,pU.alwaysValidSchema)(a,l)?t.var(c,!0):m=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,ki._)`${c} && ${s}`).assign(s,!1).assign(o,(0,ki._)`[${o}, ${f}]`).else(),t.if(c,()=>{t.assign(s,!0),t.assign(o,f),m&&e.mergeEvaluated(m,ki.Name)})})}}};Lc.default=hU;var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});const mU=U,gU={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((i,s)=>{if((0,mU.alwaysValidSchema)(n,i))return;const o=e.subschema({keyword:"allOf",schemaProp:s},a);e.ok(a),e.mergeEvaluated(o)})}};Fc.default=gU;var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});const Ii=Q,Nm=U,yU={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,Ii.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Ii._)`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Nm.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Em(n,"then"),i=Em(n,"else");if(!a&&!i)return;const s=t.let("valid",!0),o=t.name("_valid");if(c(),e.reset(),a&&i){const l=t.let("ifClause");e.setParams({ifClause:l}),t.if(o,u("then",l),u("else",l))}else a?t.if(o,u("then")):t.if((0,Ii.not)(o),u("else"));e.pass(s,()=>e.error(!0));function c(){const l=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(l)}function u(l,f){return()=>{const m=e.subschema({keyword:l},o);t.assign(s,o),e.mergeValidEvaluated(m,s),f?t.assign(f,(0,Ii._)`${l}`):e.setParams({ifClause:l})}}}};function Em(e,t){const r=e.schema[t];return r!==void 0&&!(0,Nm.alwaysValidSchema)(e,r)}Rc.default=yU;var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});const bU=U,vU={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,bU.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Uc.default=vU,Object.defineProperty(Nc,"__esModule",{value:!0});const wU=qr,$U=Oc,xU=Gr,_U=Cc,SU=Tc,jU=vm,NU=Ac,EU=Ci,OU=Pc,CU=Ic,TU=Mc,AU=Dc,PU=Lc,kU=Fc,IU=Rc,MU=Uc;function DU(e=!1){const t=[TU.default,AU.default,PU.default,kU.default,IU.default,MU.default,NU.default,EU.default,jU.default,OU.default,CU.default];return e?t.push($U.default,_U.default):t.push(wU.default,xU.default),t.push(SU.default),t}Nc.default=DU;var zc={},Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});const _e=Q,LU={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,_e.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,_e._)`{format: ${e}}`},code(e,t){const{gen:r,data:n,$data:a,schema:i,schemaCode:s,it:o}=e,{opts:c,errSchemaPath:u,schemaEnv:l,self:f}=o;if(!c.validateFormats)return;a?m():h();function m(){const y=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),b=r.const("fDef",(0,_e._)`${y}[${s}]`),g=r.let("fType"),p=r.let("format");r.if((0,_e._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>r.assign(g,(0,_e._)`${b}.type || "string"`).assign(p,(0,_e._)`${b}.validate`),()=>r.assign(g,(0,_e._)`"string"`).assign(p,b)),e.fail$data((0,_e.or)(v(),w()));function v(){return c.strictSchema===!1?_e.nil:(0,_e._)`${s} && !${p}`}function w(){const x=l.$async?(0,_e._)`(${b}.async ? await ${p}(${n}) : ${p}(${n}))`:(0,_e._)`${p}(${n})`,_=(0,_e._)`(typeof ${p} == "function" ? ${x} : ${p}.test(${n}))`;return(0,_e._)`${p} && ${p} !== true && ${g} === ${t} && !${_}`}}function h(){const y=f.formats[i];if(!y){v();return}if(y===!0)return;const[b,g,p]=w(y);b===t&&e.pass(x());function v(){if(c.strictSchema===!1){f.logger.warn(_());return}throw new Error(_());function _(){return`unknown format "${i}" ignored in schema at path "${u}"`}}function w(_){const T=_ instanceof RegExp?(0,_e.regexpCode)(_):c.code.formats?(0,_e._)`${c.code.formats}${(0,_e.getProperty)(i)}`:void 0,j=r.scopeValue("formats",{key:i,ref:_,code:T});return typeof _=="object"&&!(_ instanceof RegExp)?[_.type||"string",_.validate,(0,_e._)`${j}.validate`]:["string",_,j]}function x(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!l.$async)throw new Error("async format in sync schema");return(0,_e._)`await ${p}(${n})`}return typeof g=="function"?(0,_e._)`${p}(${n})`:(0,_e._)`${p}.test(${n})`}}}};Wc.default=LU,Object.defineProperty(zc,"__esModule",{value:!0});const FU=[Wc.default];zc.default=FU;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.contentVocabulary=Kr.metadataVocabulary=void 0,Kr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Kr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(lc,"__esModule",{value:!0});const RU=uc,UU=fc,zU=Nc,WU=zc,Om=Kr,VU=[RU.default,UU.default,(0,zU.default)(),WU.default,Om.metadataVocabulary,Om.contentVocabulary];lc.default=VU;var Vc={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.DiscrError=void 0;var Cm;(function(e){e.Tag="tag",e.Mapping="mapping"})(Cm||(Mi.DiscrError=Cm={})),Object.defineProperty(Vc,"__esModule",{value:!0});const Hr=Q,Bc=Mi,Tm=Ie,BU=Vr,qU=U,GU={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===Bc.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Hr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:i}=e,{oneOf:s}=a;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),u=t.const("tag",(0,Hr._)`${r}${(0,Hr.getProperty)(o)}`);t.if((0,Hr._)`typeof ${u} == "string"`,()=>l(),()=>e.error(!1,{discrError:Bc.DiscrError.Tag,tag:u,tagName:o})),e.ok(c);function l(){const h=m();t.if(!1);for(const y in h)t.elseIf((0,Hr._)`${u} === ${y}`),t.assign(c,f(h[y]));t.else(),e.error(!1,{discrError:Bc.DiscrError.Mapping,tag:u,tagName:o}),t.endIf()}function f(h){const y=t.name("valid"),b=e.subschema({keyword:"oneOf",schemaProp:h},y);return e.mergeEvaluated(b,Hr.Name),y}function m(){var h;const y={},b=p(a);let g=!0;for(let x=0;x<s.length;x++){let _=s[x];if(_!=null&&_.$ref&&!(0,qU.schemaHasRulesButRef)(_,i.self.RULES)){const j=_.$ref;if(_=Tm.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,j),_ instanceof Tm.SchemaEnv&&(_=_.schema),_===void 0)throw new BU.default(i.opts.uriResolver,i.baseId,j)}const T=(h=_==null?void 0:_.properties)===null||h===void 0?void 0:h[o];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);g=g&&(b||p(_)),v(T,x)}if(!g)throw new Error(`discriminator: "${o}" must be required`);return y;function p({required:x}){return Array.isArray(x)&&x.includes(o)}function v(x,_){if(x.const)w(x.const,_);else if(x.enum)for(const T of x.enum)w(T,_);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function w(x,_){if(typeof x!="string"||x in y)throw new Error(`discriminator: "${o}" values must be unique strings`);y[x]=_}}}};Vc.default=GU;const KU={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=uh,n=lc,a=Vc,i=KU,s=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(i,s):i;this.addMetaSchema(y,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=Qe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var l=Q;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var f=Mn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var m=Vr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})})(Wo,Wo.exports);var Am=Wo.exports;const HU=Jr(Am);var qc={exports:{}},Pm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(O,A){return{validate:O,compare:A}}e.fullFormats={date:t(i,s),time:t(c,u),"date-time":t(f,m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:b,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:C,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:p,int32:{type:"number",validate:x},int64:{type:"number",validate:_},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(O){return O%4===0&&(O%100!==0||O%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(O){const A=n.exec(O);if(!A)return!1;const M=+A[1],L=+A[2],W=+A[3];return L>=1&&L<=12&&W>=1&&W<=(L===2&&r(M)?29:a[L])}function s(O,A){if(O&&A)return O>A?1:O<A?-1:0}const o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(O,A){const M=o.exec(O);if(!M)return!1;const L=+M[1],W=+M[2],z=+M[3],G=M[5];return(L<=23&&W<=59&&z<=59||L===23&&W===59&&z===60)&&(!A||G!=="")}function u(O,A){if(!(O&&A))return;const M=o.exec(O),L=o.exec(A);if(M&&L)return O=M[1]+M[2]+M[3]+(M[4]||""),A=L[1]+L[2]+L[3]+(L[4]||""),O>A?1:O<A?-1:0}const l=/t|\s/i;function f(O){const A=O.split(l);return A.length===2&&i(A[0])&&c(A[1],!0)}function m(O,A){if(!(O&&A))return;const[M,L]=O.split(l),[W,z]=A.split(l),G=s(M,W);if(G!==void 0)return G||u(L,z)}const h=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function b(O){return h.test(O)&&y.test(O)}const g=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function p(O){return g.lastIndex=0,g.test(O)}const v=-2147483648,w=2**31-1;function x(O){return Number.isInteger(O)&&O<=w&&O>=v}function _(O){return Number.isInteger(O)}function T(){return!0}const j=/[^\\]\\Z/;function C(O){if(j.test(O))return!1;try{return new RegExp(O),!0}catch{return!1}}})(Pm);var km={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Am,r=Q,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},i={message:({keyword:o,schemaCode:c})=>r.str`should be ${a[o].okStr} ${c}`,params:({keyword:o,schemaCode:c})=>r._`{comparison: ${a[o].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:i,code(o){const{gen:c,data:u,schemaCode:l,keyword:f,it:m}=o,{opts:h,self:y}=m;if(!h.validateFormats)return;const b=new t.KeywordCxt(m,y.RULES.all.format.definition,"format");b.$data?g():p();function g(){const w=c.scopeValue("formats",{ref:y.formats,code:h.code.formats}),x=c.const("fmt",r._`${w}[${b.schemaCode}]`);o.fail$data(r.or(r._`typeof ${x} != "object"`,r._`${x} instanceof RegExp`,r._`typeof ${x}.compare != "function"`,v(x)))}function p(){const w=b.schema,x=y.formats[w];if(!x||x===!0)return;if(typeof x!="object"||x instanceof RegExp||typeof x.compare!="function")throw new Error(`"${f}": format "${w}" does not define "compare" function`);const _=c.scopeValue("formats",{key:w,ref:x,code:h.code.formats?r._`${h.code.formats}${r.getProperty(w)}`:void 0});o.fail$data(v(_))}function v(w){return r._`${w}.compare(${u}, ${l}) ${a[f].fail} 0`}},dependencies:["format"]};const s=o=>(o.addKeyword(e.formatLimitDefinition),o);e.default=s})(km),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pm,n=km,a=Q,i=new a.Name("fullFormats"),s=new a.Name("fastFormats"),o=(u,l={keywords:!0})=>{if(Array.isArray(l))return c(u,l,r.fullFormats,i),u;const[f,m]=l.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,i],h=l.formats||r.formatNames;return c(u,h,f,m),l.keywords&&n.default(u),u};o.get=(u,l="full")=>{const m=(l==="fast"?r.fastFormats:r.fullFormats)[u];if(!m)throw new Error(`Unknown format "${u}"`);return m};function c(u,l,f,m){var h,y;(h=(y=u.opts.code).formats)!==null&&h!==void 0||(y.formats=a._`require("ajv-formats/dist/formats").${m}`);for(const b of l)u.addFormat(b,f[b])}e.exports=t=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}(qc,qc.exports);var YU=qc.exports;const Im=Jr(YU),JU={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},QU=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,ZU=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function XU(e,t,r={},n,a=HU){const i=new a({...JU,...r});return n?Im(i,n):n!==!1&&Im(i),i.addFormat("data-url",ZU),i.addFormat("color",QU),i.addKeyword(Zr),i.addKeyword(Vi),Array.isArray(e)&&i.addMetaSchema(e),he(t)&&Object.keys(t).forEach(s=>{i.addFormat(s,t[s])}),i}function ez(e=[],t){return e.map(r=>{var n;const{instancePath:a,keyword:i,params:s,schemaPath:o,parentSchema:c,...u}=r;let{message:l=""}=u,f=a.replace(/\//g,"."),m=`${f} ${l}`.trim();const h=[...((n=s.deps)===null||n===void 0?void 0:n.split(", "))||[],s.missingProperty,s.property].filter(y=>y);if(h.length>0)h.forEach(y=>{const b=f?`${f}.${y}`:y;let g=ie(q(t,`${b.replace(/^\./,"")}`)).title;if(g===void 0){const p=o.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([y]);g=ie(q(t,p)).title}if(g)l=l.replace(`'${y}'`,`'${g}'`);else{const p=q(c,[$e,y,"title"]);p&&(l=l.replace(`'${y}'`,`'${p}'`))}}),m=l;else{const y=ie(q(t,`${f.replace(/^\./,"")}`)).title;if(y)m=`'${y}' ${l}`.trim();else{const b=c==null?void 0:c.title;b&&(m=`'${b}' ${l}`.trim())}}return"missingProperty"in s&&(f=f?`${f}.${s.missingProperty}`:s.missingProperty),{name:i,property:f,message:l,params:s,stack:m,schemaPath:o}})}function tz(e,t,r,n,a,i,s){const{validationError:o}=t;let c=ez(t.errors,s);o&&(c=[...c,{stack:o.message}]),typeof i=="function"&&(c=i(c,s));let u=uM(c);if(o&&(u={...u,$schema:{__errors:[o.message]}}),typeof a!="function")return{errors:c,errorSchema:u};const l=$p(e,n,r,n,!0),f=a(l,na(l),s),m=To(f);return si({errors:c,errorSchema:u},m)}class rz{constructor(t,r){const{additionalMetaSchemas:n,customFormats:a,ajvOptionsOverrides:i,ajvFormatOptions:s,AjvClass:o}=t;this.ajv=XU(n,a,i,s,o),this.localizer=r}reset(){this.ajv.removeSchema()}toErrorList(t,r=[]){return Nn(t,r)}rawValidation(t,r){var n,a;let i,s;t[Ct]&&(s=this.ajv.getSchema(t[Ct]));try{s===void 0&&(s=this.ajv.compile(t)),s(r)}catch(c){i=c}let o;return s&&(typeof this.localizer=="function"&&(((n=s.errors)!==null&&n!==void 0?n:[]).forEach(c=>{var u;["missingProperty","property"].forEach(l=>{var f;!((f=c.params)===null||f===void 0)&&f[l]&&(c.params[l]=`'${c.params[l]}'`)}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(l=>`'${l}'`).join(", "))}),this.localizer(s.errors),((a=s.errors)!==null&&a!==void 0?a:[]).forEach(c=>{var u;["missingProperty","property"].forEach(l=>{var f;!((f=c.params)===null||f===void 0)&&f[l]&&(c.params[l]=c.params[l].slice(1,-1))}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(l=>l.slice(1,-1)).join(", "))})),o=s.errors||void 0,s.errors=null),{errors:o,validationError:i}}validateFormData(t,r,n,a,i){const s=this.rawValidation(r,t);return tz(this,s,t,r,n,a,i)}handleSchemaUpdate(t){var r,n;const a=(r=t[Ct])!==null&&r!==void 0?r:gl;this.ajv.getSchema(a)===void 0?this.ajv.addSchema(t,a):be(t,(n=this.ajv.getSchema(a))===null||n===void 0?void 0:n.schema)||(this.ajv.removeSchema(a),this.ajv.addSchema(t,a))}isValid(t,r,n){var a;try{this.handleSchemaUpdate(n);const i=Ao(t),s=(a=i[Ct])!==null&&a!==void 0?a:aM(i);let o;return o=this.ajv.getSchema(s),o===void 0&&(o=this.ajv.addSchema(i,s).getSchema(s)||this.ajv.compile(i)),o(r)}catch(i){return console.warn("Error encountered compiling schema:",i),!1}}}function nz(e={},t){return new rz(e,t)}const az=nz(),iz=e=>{const{widgetProps:t,updateWidgetProps:r}=il();return{getProps:()=>{if(e)return t.get(e)},setProps:s=>{e&&r(e,s)},updateProps:s=>{if(!e)return;const o=t.get(e)||{};r(e,{...o,...s})},hasProps:e?t.has(e):!1}},sz=e=>{const{id:t,classNames:r,label:n,help:a,required:i,description:s,errors:o,children:c}=e;return d.jsxs("div",{className:`mb-6 ${r}`,children:[n&&d.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-2",children:[n,i&&d.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),d.jsx("div",{className:"w-full",children:c}),s&&d.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s}),o&&d.jsx("div",{className:"text-xs text-red-600 mt-1",children:o}),a&&d.jsx("div",{className:"text-xs text-blue-600 mt-1",children:a})]})},Gc=(e,t)=>{var c;if(!t)return"other";const r=e.toLowerCase();if(t.startsWith("data:"))return t.startsWith("data:image")?"image":t.startsWith("data:video")?"video":t.startsWith("data:audio")?"audio":"other";const n=((c=t.split(".").pop())==null?void 0:c.toLowerCase())||"",a=["jpg","jpeg","png","gif","webp","bmp","svg","ico","tiff"],i=["mp4","mov","avi","webm","mkv","flv","wmv","m4v","3gp"],s=["mp3","wav","ogg","aac","flac","m4a","wma"],o=["pdf","doc","docx","txt","rtf","odt","xls","xlsx","ppt","pptx"];return a.includes(n)?"image":i.includes(n)?"video":s.includes(n)?"audio":o.includes(n)?"document":r.includes("image")||r.includes("avatar")||r.includes("logo")||r.includes("icon")?"image":r.includes("video")?"video":r.includes("audio")||r.includes("sound")?"audio":r.includes("document")||r.includes("pdf")||r.includes("doc")?"document":"other"},Mm=(e,t)=>{const r=e.toLowerCase(),n=Gc(e,t);if(r.includes("image")||r.includes("avatar")||r.includes("logo")||r.includes("icon"))return"image/*";if(r.includes("video"))return"video/*";if(r.includes("audio")||r.includes("sound"))return"audio/*";if(r.includes("document")||r.includes("pdf")||r.includes("doc"))return".pdf,.doc,.docx,.txt,.rtf,.odt,.xls,.xlsx,.ppt,.pptx";switch(n){case"image":return"image/*";case"video":return"video/*";case"audio":return"audio/*";case"document":return".pdf,.doc,.docx,.txt,.rtf,.odt,.xls,.xlsx,.ppt,.pptx";default:return"*/*"}},Dm=(e,t)=>{const r=e.toLowerCase(),a=["src","source","file","image","url","avatar","logo","icon","video","audio","media","background","poster","thumbnail"].some(s=>r.includes(s)),i=typeof t=="string"&&(t.startsWith("data:")||t.startsWith("blob:")||t.match(/\.(jpg|jpeg|png|gif|webp|bmp|svg|mp4|mov|avi|webm|mkv|mp3|wav|ogg|pdf|doc|docx|txt|rtf)$/i)||t.match(/\/[^/]+\.(jpg|jpeg|png|gif|webp|bmp|svg|mp4|mov|avi|webm|mkv|mp3|wav|ogg|pdf|doc|docx|txt|rtf)(\?.*)?$/i));return a||i},oz=e=>{const[t,r]=R.default.useState(!1),[n,a]=R.default.useState(e.value||""),[i,s]=R.default.useState(""),[o,c]=R.default.useState(new Set);R.default.useEffect(()=>{a(e.value||""),e.value||s("")},[e.value]),R.default.useEffect(()=>()=>{o.forEach(g=>{g.startsWith("blob:")&&URL.revokeObjectURL(g)})},[o]);const u=async g=>{var v;const p=(v=g.target.files)==null?void 0:v[0];if(p){s(p.name),r(!0);try{let w;e.onFileUpload?w=await e.onFileUpload(p):p.type.startsWith("image/")&&p.size<5*1024*1024?w=await new Promise(x=>{const _=new FileReader;_.onload=T=>{var j;return x((j=T.target)==null?void 0:j.result)},_.readAsDataURL(p)}):(w=URL.createObjectURL(p),c(x=>new Set([...x,w]))),a(w),e.onChange(w)}catch(w){console.error("File processing failed:",w),alert("File processing failed"),s("")}finally{r(!1),g.target.value=""}}},l=g=>{const p=g.target.value;a(p),e.onChange(p),s("")},f=()=>{n.startsWith("blob:")&&o.has(n)&&(URL.revokeObjectURL(n),c(g=>{const p=new Set(g);return p.delete(n),p})),a(""),s(""),e.onChange("")},m=Gc(e.name,n),h=Mm(e.name,n),b=(()=>{if(i)return i;if(!n)return"";try{return n.startsWith("data:")?"Image file":n.startsWith("blob:")?"Selected file":new URL(n).pathname.split("/").pop()||"File"}catch{const g=n.split("/");return g[g.length-1].split("?")[0]||"File"}})();return d.jsxs("div",{className:"space-y-4 w-full",children:[d.jsxs("div",{className:"space-y-2 w-full",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"File URL"}),d.jsxs("div",{className:"flex space-x-2 w-full",children:[d.jsx("input",{type:"url",value:n,onChange:l,className:"flex-1 min-w-0 p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/file.jpg"}),n&&d.jsx("button",{type:"button",onClick:f,className:"flex-shrink-0 px-4 py-3 bg-gray-500 text-white rounded-lg text-sm hover:bg-gray-600 transition-colors whitespace-nowrap",children:"Clear"})]})]}),d.jsxs("div",{className:"space-y-2 w-full",children:[d.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[d.jsxs("div",{className:"flex gap-2 w-full",children:[d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("input",{type:"file",onChange:u,disabled:t,accept:h,className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})}),t&&d.jsx("div",{className:"flex-shrink-0 px-4 py-3 bg-blue-100 text-blue-700 rounded-lg text-sm flex items-center whitespace-nowrap",children:e.onFileUpload?"Uploading...":"Processing..."})]}),b&&d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-2 rounded border truncate w-full",title:b,children:[" ",b]})})]}),d.jsxs("div",{className:"text-xs text-gray-500 flex flex-col sm:flex-row sm:justify-between gap-1",children:[d.jsxs("span",{className:"truncate",children:["Accepted: ",h==="*/*"?"All files":h]}),!e.onFileUpload&&d.jsx("span",{className:"text-orange-600 font-medium whitespace-nowrap",children:"Local preview only"})]})]}),n&&d.jsxs("div",{className:"space-y-2 w-full",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Preview"}),d.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 w-full overflow-hidden",children:[m==="image"&&d.jsxs("div",{className:"flex flex-col items-center space-y-3 w-full",children:[d.jsx("div",{className:"w-full flex justify-center",children:d.jsx("img",{src:n,alt:"Preview",className:"max-w-full max-h-48 object-contain rounded",onError:g=>{g.target.style.display="none";const p=g.target.parentElement;if(p){const v=document.createElement("div");v.className="text-center py-4",v.innerHTML=`
                          <div class="text-3xl mb-2"></div>
                          <div class="text-sm text-gray-600">Image preview not available</div>
                        `,p.appendChild(v)}}})}),b&&d.jsx("div",{className:"text-sm text-gray-600 text-center truncate w-full max-w-full px-2",children:b})]}),m==="video"&&d.jsxs("div",{className:"flex flex-col items-center space-y-3 w-full",children:[d.jsx("div",{className:"w-full flex justify-center",children:d.jsx("video",{src:n,controls:!0,className:"max-w-full max-h-48 rounded"})}),b&&d.jsx("div",{className:"text-sm text-gray-600 text-center truncate w-full max-w-full px-2",children:b})]}),m==="audio"&&d.jsxs("div",{className:"flex flex-col items-center space-y-3 w-full",children:[d.jsx("div",{className:"w-full",children:d.jsx("audio",{src:n,controls:!0,className:"w-full"})}),b&&d.jsx("div",{className:"text-sm text-gray-600 text-center truncate w-full max-w-full px-2",children:b})]}),(m==="document"||m==="other")&&d.jsxs("div",{className:"text-center py-4 w-full",children:[d.jsx("div",{className:"text-3xl mb-2",children:m==="document"?"":""}),b&&d.jsx("div",{className:"text-sm text-gray-600 truncate w-full max-w-full px-2",children:b})]})]})]})]})},cz=e=>{const[t,r]=R.default.useState([]),[n,a]=R.default.useState(!1),[i,s]=R.default.useState(!1),[o,c]=R.default.useState("");R.default.useEffect(()=>{(async()=>{const b=e.schema.description==="API Endpoint"||e.value&&typeof e.value=="string"&&e.value.startsWith("/api/")||e.schema.format==="dynamic-select";if(s(b),b&&e.onGetSelectOptions)await u();else{const g=l(e.schema,e.value);r(g)}})()},[e.value,e.schema,e.onGetSelectOptions]);const u=async()=>{if(!e.onGetSelectOptions){c("Dynamic options handler not available");return}a(!0),c("");try{const y=await e.onGetSelectOptions(e.name,e.componentType);r(y||[])}catch(y){console.error("Failed to load options:",y),c("Failed to load options"),r([])}finally{a(!1)}},l=(y,b)=>{if(y.enum&&Array.isArray(y.enum))return y.enum.map(g=>String(g));if(y.items&&y.items.enum&&Array.isArray(y.items.enum))return y.items.enum.map(g=>String(g));if(y.oneOf&&Array.isArray(y.oneOf))return y.oneOf.filter(g=>g.const!==void 0).map(g=>String(g.const));if(y.anyOf&&Array.isArray(y.anyOf))return y.anyOf.filter(g=>g.const!==void 0).map(g=>String(g.const));if(typeof b=="string"){const g=b.match(/^\[(.*)\]$/);if(g)return g[1].split(",").map(p=>p.trim()).filter(p=>p.length>0)}return y.options&&Array.isArray(y.options)?y.options.map(g=>String(g)):[]},f=()=>{i&&u()},m=i||t.includes(e.value)?e.value:"",h=t.length>0||i;return d.jsxs("div",{className:"space-y-3",children:[h?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex space-x-3",children:[d.jsxs("select",{value:m||"",onChange:y=>e.onChange(y.target.value),disabled:n,className:"flex-1 p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:"Select an option"}),t.map(y=>d.jsx("option",{value:y,children:y},y))]}),i&&d.jsx("button",{type:"button",onClick:f,disabled:n,className:"px-4 py-3 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 disabled:bg-gray-400 transition-colors whitespace-nowrap",children:n?"...":"Refresh"})]}),d.jsxs("div",{className:"text-xs text-gray-500 flex justify-between items-center",children:[d.jsx("span",{children:n?"Loading options...":`${t.length} options available`}),i&&d.jsx("span",{className:"text-blue-600 font-medium",children:"Dynamic Select"}),!i&&t.length>0&&d.jsx("span",{className:"text-green-600 font-medium",children:"Static Select"})]})]}):d.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:d.jsxs("p",{className:"text-sm text-yellow-800",children:["No options available."," ",i?"Try refreshing or check the API endpoint.":"Add options to the schema."]})}),o&&d.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-sm text-red-800",children:o})}),!1]})},lz=e=>{const[t,r]=R.default.useState(typeof e.value=="string"?e.value:JSON.stringify(e.value,null,2));R.default.useEffect(()=>{r(typeof e.value=="string"?e.value:JSON.stringify(e.value,null,2))},[e.value]);const n=i=>{const s=i.target.value;r(s);try{if(s.trim()==="")e.onChange(void 0);else if(s.trim().startsWith("{")||s.trim().startsWith("[")){const o=JSON.parse(s);e.onChange(o)}else e.onChange(s)}catch{e.onChange(s)}},a=()=>{try{const i=JSON.stringify(JSON.parse(t),null,2);r(i),e.onChange(JSON.parse(i))}catch{}};return d.jsxs("div",{className:"space-y-3",children:[d.jsx("textarea",{value:t,onChange:n,rows:8,className:"w-full p-3 border border-gray-300 rounded-lg text-sm font-mono focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter JSON data..."}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Format JSON"})})]})},uz=e=>{const[t,r]=R.default.useState(e.value||[]),[n,a]=R.default.useState([]),[i,s]=R.default.useState({}),[o,c]=R.default.useState(new Set),[u,l]=R.default.useState(!1);R.default.useEffect(()=>{r(e.value||[]);const{keys:j,schemas:C}=m(e.schema,e.value);a(j),s(C)},[e.value,e.schema]);const f=(j,C,O)=>{const A=[...t];A[j]={...A[j],[C]:O},r(A),e.onChange(A)},m=(j,C)=>{const O=[],A={};if(j.items&&j.items.properties)Object.entries(j.items.properties).forEach(([M,L])=>{O.push(M),A[M]=L});else if(C&&C.length>0&&typeof C[0]=="object"){const M=C[0];Object.keys(M).forEach(L=>{O.push(L),A[L]=Kc(L,M[L])})}else["name","value","label","key"].forEach(L=>{O.push(L),A[L]={type:"string",title:L}});return{keys:O,schemas:A}},h=(j,C,O)=>{const A=C.format||"",M=C.type||"string";return A==="color"?"color":A==="email"?"email":A==="uri"||j.toLowerCase().includes("url")||j.toLowerCase().includes("link")?"url":A==="date"?"date":A==="datetime"?"datetime-local":M==="number"?"number":A==="select"||A==="dynamic-select"?"select":A==="file"?"file":"text"},y=j=>{const[C,O]=R.default.useState(j.value||""),[A,M]=R.default.useState(""),[L,W]=R.default.useState(new Set);R.default.useEffect(()=>{O(j.value||""),j.value||M("")},[j.value]),R.default.useEffect(()=>()=>{L.forEach(N=>{N.startsWith("blob:")&&URL.revokeObjectURL(N)})},[L]);const z=async N=>{var E;const P=(E=N.target.files)==null?void 0:E[0];if(P){M(P.name);try{let $;j.onFileUpload?$=await j.onFileUpload(P):P.type.startsWith("image/")&&P.size<5*1024*1024?$=await new Promise(S=>{const k=new FileReader;k.onload=V=>{var B;return S((B=V.target)==null?void 0:B.result)},k.readAsDataURL(P)}):($=URL.createObjectURL(P),W(S=>new Set([...S,$]))),O($),j.onChange($)}catch($){console.error("File processing failed:",$),M("")}finally{N.target.value=""}}},G=N=>{const P=N.target.value;O(P),j.onChange(P),M("")},F=()=>{C.startsWith("blob:")&&L.has(C)&&(URL.revokeObjectURL(C),W(N=>{const P=new Set(N);return P.delete(C),P})),O(""),M(""),j.onChange("")},Z=(()=>{if(A)return A;if(!C)return"";try{return C.startsWith("data:")?"Image file":C.startsWith("blob:")?"Selected file":new URL(C).pathname.split("/").pop()||"File"}catch{const N=C.split("/");return N[N.length-1].split("?")[0]||"File"}})(),te=Gc(j.name,C),D=Mm(j.name,C);return d.jsxs("div",{className:"space-y-3 w-full",children:[d.jsx("div",{className:"space-y-2 w-full",children:d.jsxs("div",{className:"flex space-x-2 w-full",children:[d.jsx("input",{type:"url",value:C,onChange:G,className:"flex-1 min-w-0 p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/file.jpg"}),C&&d.jsx("button",{type:"button",onClick:F,className:"flex-shrink-0 px-3 py-2 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors whitespace-nowrap",children:"Clear"})]})}),d.jsxs("div",{className:"space-y-2 w-full",children:[d.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[d.jsx("input",{type:"file",onChange:z,accept:D,className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500 file:mr-4 file:py-1 file:px-3 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),Z&&d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-2 rounded border truncate",title:Z,children:[" ",Z]})})]}),d.jsxs("div",{className:"text-xs text-gray-500 flex justify-between",children:[d.jsxs("span",{children:["Accepted: ",D==="*/*"?"All files":D]}),!j.onFileUpload&&d.jsx("span",{className:"text-orange-600",children:"Local preview only"})]})]}),C&&(te==="image"||te==="video"||te==="audio")&&d.jsxs("div",{className:"space-y-2 w-full",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Preview"}),d.jsxs("div",{className:"border border-gray-200 rounded p-2 w-full bg-gray-50",children:[te==="image"&&d.jsx("div",{className:"flex flex-col items-center space-y-2",children:d.jsx("img",{src:C,alt:"Preview",className:"max-w-full max-h-32 object-contain rounded",onError:N=>{N.target.style.display="none";const P=N.target.parentElement;if(P){const E=document.createElement("div");E.className="text-center py-2",E.innerHTML=`
                        <div class="text-xl mb-1"></div>
                        <div class="text-xs text-gray-600">Preview not available</div>
                      `,P.appendChild(E)}}})}),te==="video"&&d.jsx("div",{className:"flex flex-col items-center space-y-2",children:d.jsx("video",{src:C,controls:!0,className:"max-w-full max-h-32 rounded"})}),te==="audio"&&d.jsx("div",{className:"w-full",children:d.jsx("audio",{src:C,controls:!0,className:"w-full"})})]})]}),C&&(te==="document"||te==="other")&&d.jsxs("div",{className:"space-y-2 w-full",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Preview"}),d.jsxs("div",{className:"border border-gray-200 rounded p-3 bg-gray-50 text-center",children:[d.jsx("div",{className:"text-2xl mb-1",children:te==="document"?"":""}),Z&&d.jsx("div",{className:"text-xs text-gray-600 truncate",children:Z})]})]})]})},b=(j,C,O,A)=>{const M=h(j,C),L=`Enter ${j}`;switch(M){case"color":return d.jsxs("div",{className:"flex space-x-2 items-center",children:[d.jsx("input",{type:"color",value:O||"#000000",onChange:z=>A(z.target.value),className:"w-8 h-8 border border-gray-300 rounded cursor-pointer"}),d.jsx("input",{type:"text",value:O,onChange:z=>A(z.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:L})]});case"select":const W=C.enum||[];return d.jsxs("select",{value:O||"",onChange:z=>A(z.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[d.jsxs("option",{value:"",children:["Select ",j]}),W.map(z=>d.jsx("option",{value:z,children:z},z))]});case"file":return d.jsx(y,{value:O,onChange:A,onFileUpload:e.onFileUpload,schema:C,name:j});case"date":return d.jsx("input",{type:"date",value:O||"",onChange:z=>A(z.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500"});case"datetime-local":return d.jsx("input",{type:"datetime-local",value:O||"",onChange:z=>A(z.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500"});default:return d.jsx("input",{type:M,value:O||"",onChange:z=>A(z.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:L,step:M==="number"?"any":void 0})}},g=j=>{const C=new Set(o);C.has(j)?C.delete(j):C.add(j),c(C)},p=()=>{if(u)c(new Set);else{const j=new Set(t.map((C,O)=>O));c(j)}l(!u)},v=()=>{if(o.size===0)return;const j=t.filter((C,O)=>!o.has(O));r(j),c(new Set),l(!1),e.onChange(j)},w=()=>{const j=n.reduce((O,A)=>{var L;const M=((L=i[A])==null?void 0:L.default)||"";return O[A]=M,O},{}),C=[...t,j];r(C),e.onChange(C)},x=j=>{const C=t.filter((A,M)=>M!==j);r(C);const O=new Set(o);O.delete(j),c(O),e.onChange(C)},_=()=>{r([]),c(new Set),l(!1),e.onChange([])},T=(j,C)=>C.description?C.description:C.format==="select"?"Select field":C.format==="dynamic-select"?"Dynamic select field":C.format==="file"?"File field":"";return d.jsxs("div",{className:"space-y-4 w-full",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("div",{className:"flex items-center space-x-4",children:t.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:u,onChange:p,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),d.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Select All"})]}),o.size>0&&d.jsxs("button",{type:"button",onClick:v,className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:["Delete Selected (",o.size,")"]})]})}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Add Item"}),t.length>0&&d.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:"Clear All"})]})]}),t.length===0?d.jsxs("div",{className:"text-center py-12 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg w-full",children:[d.jsx("div",{className:"text-5xl mb-3",children:""}),d.jsx("p",{className:"text-base mb-1",children:"No items added yet"}),d.jsx("p",{className:"text-sm",children:'Click "Add Item" to get started'})]}):d.jsx("div",{className:"space-y-4 w-full",children:t.map((j,C)=>d.jsxs("div",{className:`border rounded-lg p-4 bg-white shadow-sm w-full transition-all ${o.has(C)?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{type:"checkbox",checked:o.has(C),onChange:()=>g(C),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),d.jsxs("h4",{className:"font-medium text-gray-700 text-sm",children:["Item ",C+1]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("div",{className:"flex space-x-1",children:[n.includes("name")&&n.includes("value")&&d.jsx("button",{type:"button",onClick:()=>{const O=j.name||`Item ${C+1}`,A=j.value||`value${C+1}`;f(C,"name",O),f(C,"value",A)},className:"px-2 py-1 bg-green-500 text-white rounded text-xs hover:bg-green-600 transition-colors",title:"Auto-fill name and value",children:"Auto-fill"}),n.includes("label")&&!j.label&&j.name&&d.jsx("button",{type:"button",onClick:()=>{f(C,"label",j.name)},className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600 transition-colors",title:"Use name as label",children:"Use as Label"})]}),d.jsx("button",{type:"button",onClick:()=>x(C),className:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 transition-colors",children:"Delete"})]})]}),d.jsx("div",{className:"space-y-4 w-full",children:n.map(O=>{const A=i[O]||{},M=j[O]||"",L=T(O,A);return d.jsxs("div",{className:"space-y-2 w-full",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:[A.title||O.replace(/([A-Z])/g," $1").toLowerCase(),A.format==="file"&&" ",A.format==="select"&&" ",A.format==="dynamic-select"&&" "]}),d.jsx("div",{className:"w-full",children:b(O,A,M,W=>f(C,O,W))}),L&&d.jsx("p",{className:"text-xs text-gray-500",children:L})]},O)})})]},C))}),d.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 pt-2 border-t border-gray-200",children:[d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("span",{children:[t.length," item(s) total"]}),o.size>0&&d.jsxs("span",{className:"text-blue-600 font-medium",children:[o.size," selected"]})]}),n.length>0&&d.jsxs("span",{children:[n.length," fields detected"]})]})]})},dz=e=>d.jsx("input",{type:"text",value:e.value||"",onChange:t=>e.onChange(t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:e.placeholder}),fz=e=>{var t;return d.jsx("textarea",{value:e.value||"",onChange:r=>e.onChange(r.target.value),rows:((t=e.options)==null?void 0:t.rows)||4,className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical",placeholder:e.placeholder})},pz=e=>d.jsx("input",{type:"number",value:e.value||"",onChange:t=>e.onChange(Number(t.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",step:e.step||"any"}),hz=e=>{const t=n=>{if(!n)return"";if(typeof n=="string"){const a=new Date(n);return isNaN(a.getTime())?n:a.toISOString().split("T")[0]}return n},r=n=>{e.onChange(n.target.value)};return d.jsx("input",{type:"date",value:t(e.value),onChange:r,className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})},mz=e=>{const t=n=>{if(!n)return"";if(typeof n=="string"){const a=new Date(n);if(!isNaN(a.getTime())){const i=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0"),c=String(a.getHours()).padStart(2,"0"),u=String(a.getMinutes()).padStart(2,"0");return`${i}-${s}-${o}T${c}:${u}`}return n}return n},r=n=>{e.onChange(n.target.value)};return d.jsx("input",{type:"datetime-local",value:t(e.value),onChange:r,className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})},gz=e=>d.jsx("input",{type:"email",value:e.value||"",onChange:t=>e.onChange(t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:e.placeholder}),yz=e=>d.jsx("input",{type:"url",value:e.value||"",onChange:t=>e.onChange(t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:e.placeholder}),bz=e=>d.jsxs("div",{className:"flex space-x-3 items-center",children:[d.jsx("input",{type:"color",value:e.value||"#000000",onChange:t=>e.onChange(t.target.value),className:"w-16 h-16 border border-gray-300 rounded-lg cursor-pointer"}),d.jsx("input",{type:"text",value:e.value||"",onChange:t=>e.onChange(t.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"#000000"})]}),vz=e=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:!!e.value,onChange:t=>e.onChange(t.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border border-gray-300"}),d.jsx("span",{className:"ml-3 text-sm text-gray-700",children:e.value?"Enabled":"Disabled"})]}),wz=e=>{const t={type:"object",properties:{},required:[]};return Object.entries(e).forEach(([r,n])=>{t.properties[r]=Kc(r,n)}),t},Kc=(e,t)=>{const r=typeof t,n=e.toLowerCase(),a={title:e.replace(/([A-Z])/g," $1").replace(/^./,s=>s.toUpperCase()),default:t};if(Dm(e,t))return a.type="string",a.format="file",a;if(r==="string"){if(a.type="string",$z(e,t)){if(a.format="select",t&&t.startsWith("/api/"))a.description="API Endpoint",a.format="dynamic-select";else if(Hc(t)){const o=xz(t);o.length>0&&(a.enum=o)}}n.includes("email")?a.format="email":n.includes("color")?a.format="color":n.includes("date")&&!n.includes("datetime")?a.format="date":n.includes("datetime")?a.format="datetime":(n.includes("url")||n.includes("link"))&&(a.format="uri"),t&&(t.length>50||n.includes("content")||n.includes("description"))&&(a.format="textarea")}else if(r==="number")a.type="number";else if(r==="boolean")a.type="boolean";else if(Array.isArray(t))if(a.type="array",t.length>0&&typeof t[0]=="object"&&t[0]!==null){const s=t[0],o=Object.keys(s);o.every(u=>{const l=s[u];return typeof l=="string"||typeof l=="number"||typeof l=="boolean"})&&o.length>0?(a.items={type:"object",properties:o.reduce((u,l)=>(u[l]=Kc(l,s[l]),u),{})},a.format="array-of-objects"):a.items={type:"object"}}else t.length>0&&typeof t[0]=="string"?(a.items={type:"string"},t.every(s=>typeof s=="string")&&t.length<=10&&(a.format="select",a.enum=t)):a.items={type:"string"};else r==="object"&&t!==null?(a.type="object",a.format="json"):a.type="string";return a},$z=(e,t)=>{const r=e.toLowerCase(),a=["select","option","choice","dropdown","picker","type","category","status","state","mode"].some(s=>r.includes(s)),i=typeof t=="string"&&(t.startsWith("/api/")||Hc(t)||t.includes("|")||t.includes(",")&&t.split(",").length<=10);return a||i},Hc=e=>typeof e=="string"&&/^\[.*\]$/.test(e),xz=e=>{if(!Hc(e))return[];const t=e.match(/^\[(.*)\]$/);return t?t[1].split(",").map(r=>r.trim()).filter(r=>r.length>0):[]},_z=(e,t)=>{const r={"ui:order":Object.keys(t.properties||{})};return Object.keys(t.properties||{}).forEach(n=>{const a=t.properties[n],i=e[n];a.format==="file"||Dm(n,i)?r[n]={"ui:widget":"FileWidget"}:a.type==="object"||a.format==="json"?r[n]={"ui:widget":"JsonWidget"}:a.format==="textarea"?r[n]={"ui:widget":"CustomTextareaWidget","ui:options":{rows:5}}:a.format==="select"||a.format==="dynamic-select"?(r[n]={"ui:widget":"CustomSelectWidget"},a.format==="dynamic-select"&&(r[n]["ui:options"]={...r[n]["ui:options"],isDynamic:!0})):a.format==="date"?r[n]={"ui:widget":"CustomDateWidget"}:a.format==="datetime"?r[n]={"ui:widget":"CustomDateTimeWidget"}:a.format==="email"?r[n]={"ui:widget":"CustomEmailWidget"}:a.format==="color"?r[n]={"ui:widget":"CustomColorWidget"}:a.type==="boolean"?r[n]={"ui:widget":"CustomCheckboxWidget"}:a.type==="number"?r[n]={"ui:widget":"CustomNumberWidget"}:a.format==="array-of-objects"?r[n]={"ui:widget":"ArrayOfObjectsWidget"}:r[n]={"ui:widget":"CustomTextWidget"},i&&typeof i=="string"&&i.startsWith("/api/")&&(r[n]={...r[n],"ui:description":`API Endpoint: ${i}`}),i&&typeof i=="string"&&i.toLowerCase().startsWith("/customaction/")&&(r[n]={...r[n],"ui:description":`Custom Action: ${i}`})}),r},Sz=({onFileUpload:e,onApiCall:t,onCustomAction:r,onGetSelectOptions:n})=>{const{selectedInstance:a,selectedComponent:i,setSelectedInstance:s,setSelectedComponent:o}=Qr(),{updateProps:c,getProps:u}=iz(a==null?void 0:a.id);if(!a&&!i)return d.jsxs("div",{className:"p-6 text-center text-gray-500",children:[d.jsx("div",{className:"mb-3 text-2xl",children:""}),d.jsx("p",{className:"text-base",children:"Select a component from the Components tab or click on a placed component to edit its properties"})]});const l=(a==null?void 0:a.type)||i,f=(a==null?void 0:a.props)||{},m=u()||{},h={...f,...m},y=wz(h),b=_z(h,y),g=_=>{if(_.formData&&a){const T={...h,..._.formData},j={...a,props:T};s(j),c(T)}},p={FileWidget:_=>d.jsx(oz,{..._,onFileUpload:e}),CustomSelectWidget:_=>d.jsx(cz,{..._,onGetSelectOptions:n,componentType:l,uiSchema:b[_.name]}),JsonWidget:lz,ArrayOfObjectsWidget:uz,CustomTextWidget:dz,CustomTextareaWidget:fz,CustomNumberWidget:pz,CustomDateWidget:hz,CustomDateTimeWidget:mz,CustomEmailWidget:gz,CustomURLWidget:yz,CustomColorWidget:bz,CustomCheckboxWidget:vz},v={FieldTemplate:sz},w=_=>typeof _!="string"?!1:_.startsWith("/api/"),x=_=>typeof _!="string"?!1:_.toLowerCase().startsWith("/customaction/");return d.jsxs("div",{className:"h-full overflow-auto bg-white",children:[d.jsx("div",{className:"border-b border-gray-200 bg-white p-6 sticky top-0 z-10",children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[l,a&&d.jsxs("span",{className:"text-sm text-gray-500 ml-2 font-normal",children:["(ID: ",a.id,")"]})]})})}),d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"properties-form",children:d.jsx(UD,{schema:y,uiSchema:b,formData:h,onChange:g,validator:az,widgets:p,templates:v,liveValidate:!0,children:d.jsx("div",{style:{display:"none"}})})}),(t||r)&&d.jsxs("div",{className:"mt-8 p-5 bg-gray-50 rounded-lg border border-gray-200",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Quick Actions"}),d.jsxs("div",{className:"flex flex-wrap gap-3",children:[t&&Object.entries(h).some(([_,T])=>w(T))&&d.jsx("button",{onClick:async()=>{try{const _=Object.entries(h).filter(([T,j])=>w(j));for(const[T,j]of _)await jz(T,j);_.length===0?alert("No API endpoints found"):alert(`Called ${_.length} API endpoint(s)`)}catch(_){console.error("Failed to call APIs:",_),alert("Failed to call APIs")}},className:"px-4 py-3 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors font-medium",children:"Call All API Endpoints"}),r&&Object.entries(h).some(([_,T])=>x(T))&&d.jsx("button",{onClick:async()=>{try{const _=Object.entries(h).filter(([T,j])=>x(j));for(const[T,j]of _){const C=j.replace("/customaction/","");await Nz(T,C,h)}_.length===0?alert("No custom actions found"):alert(`Executed ${_.length} custom action(s)`)}catch(_){console.error("Failed to execute custom actions:",_),alert("Failed to execute actions")}},className:"px-4 py-3 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors font-medium",children:"Execute All Custom Actions"})]})]}),Object.keys(h).length===0&&d.jsxs("div",{className:"text-center py-12 text-gray-500",children:[d.jsx("div",{className:"text-5xl mb-4",children:""}),d.jsx("p",{className:"text-base mb-2",children:"No properties available for this component"}),d.jsx("p",{className:"text-sm",children:"Properties will appear here when the component has configurable options"})]})]}),(a||i)&&d.jsx("div",{className:"border-t border-gray-200 bg-white p-6 sticky bottom-0",children:d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("button",{onClick:()=>{s(null),o(null)},className:"flex-1 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Clear Selection"}),d.jsx("button",{onClick:()=>{const _=Object.keys(h).reduce((T,j)=>{const C=h[j];return typeof C=="number"?T[j]=0:typeof C=="boolean"?T[j]=!1:Array.isArray(C)?T[j]=[]:typeof C=="object"?T[j]={}:T[j]="",T},{});g({formData:_})},className:"px-6 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium",children:"Reset"})]})})]})},jz=async(e,t,r)=>{},Nz=async(e,t,r,n)=>{};function Ez({onDropDelete:e}){const{removeWidget:t}=dr(),r=I.useCallback(s=>{var c;s.preventDefault();const o=s.dataTransfer.getData("text/plain");if(o){const u=document.querySelector(`[gs-id="${o}"]`);u&&((c=u.gridstackNode)!=null&&c.grid)&&u.gridstackNode.grid.removeWidget(u,!0,!0),t(o)}e()},[e,t]),n=s=>{s.preventDefault(),s.dataTransfer.dropEffect="move"},a=s=>{s.preventDefault(),s.currentTarget.classList.add("bg-red-200","border-red-400")},i=s=>{s.preventDefault(),s.currentTarget.classList.remove("bg-red-200","border-red-400")};return d.jsx("div",{id:"trash",onDrop:r,onDragOver:n,onDragEnter:a,onDragLeave:i,className:"bg-red-50 min-h-14 h-18 flex items-center justify-center p-0 border-2 border-dashed border-red-200 rounded-lg transition-all duration-200 hover:bg-red-100 cursor-pointer group",children:d.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center m-3",children:d.jsx("svg",{className:"w-14 h-14 text-red-300 group-hover:text-red-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})}const Oz=({componentMapProvider:e,onDragStart:t})=>{const{setSelectedComponent:r,setSelectedInstance:n}=Qr(),a=hl(e);return d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-3",children:"Components"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Drag components to the main area or click to select them"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Delete Zone"}),d.jsx(Ez,{onDropDelete:()=>{console.log("Component deleted via drop zone"),r(null),n(null)}}),d.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Drag components here to delete them"})]}),d.jsx("div",{"gs-type":"SubGrid","data-gs-type":"SubGrid",className:"grid-stack-item grid-stack-item-widget",draggable:"true",onDragStart:i=>t(i,"SubGrid"),onDragEnd:()=>console.log("====SubGrid drag event end...."),onClick:()=>{r("SubGrid"),n(null)},children:d.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-dashed border-blue-300 text-sm hover:from-blue-100 hover:to-indigo-100 cursor-pointer transition-all duration-200 hover:shadow-lg text-center group",children:[d.jsxs("div",{className:"font-semibold text-blue-700 mb-2 flex items-center justify-center",children:[d.jsxs("svg",{className:"w-5 h-5 mr-2 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v18M3 9h18"})]}),"SubGrid"]}),d.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Nested Grid Container"}),d.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"Drag to create nested layout"})]})},"SubGrid"),d.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(a).map(([i])=>d.jsx("div",{"gs-type":i,"data-gs-type":i,className:"grid-stack-item grid-stack-item-widget",draggable:"true",onDragStart:s=>t(s,i),onDragEnd:()=>console.log("====drag event end...."),onClick:()=>{r(i),n(null)},children:d.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 text-sm hover:bg-gray-100 cursor-pointer transition-all duration-200 hover:shadow-md text-center",children:[d.jsx("div",{className:"font-medium text-gray-800 mb-2",children:i}),d.jsx("div",{className:"text-xs text-gray-500",children:"Drag to main area"})]})},i))})]})},Cz=({onFileUpload:e,onGetTags:t})=>{const{pageAttributes:r,setPageAttributes:n}=Qr(),[a,i]=I.useState(null),[s,o]=I.useState(!1),c=I.useRef(null),[u,l]=I.useState(["home","person","story"]),f=(b,g)=>{const p={...r,[b]:g};n(p)},m=async b=>{var p;const g=(p=b.target.files)==null?void 0:p[0];if(g){const v=URL.createObjectURL(g);i(v),o(!0);try{let w=v;e&&(w=await e(g),URL.revokeObjectURL(v),i(null)),f("image",w)}catch(w){console.error("Failed to upload image:",w),alert("Failed to upload image. Please try again.")}finally{o(!1)}}},h=()=>{a&&URL.revokeObjectURL(a),i(null),f("image",""),c.current&&(c.current.value="")};I.useEffect(()=>{const b=async()=>t?await t()||[]:["home","person","story"];if(t){const g=b()||[];l(g)}},[t]);const y=["draft","published"];return d.jsxs("div",{className:"p-4 space-y-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-3",children:"Page Settings"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Configure the overall page layout and appearance"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"border-b border-gray-100 pb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Page Image"}),d.jsxs("div",{className:"flex flex-col items-start space-y-3",children:[r.image||a?d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:r.image||a||"",alt:"Page preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-200"}),d.jsx("button",{type:"button",onClick:h,disabled:s,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 disabled:bg-gray-400",children:""})]}):d.jsx("div",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400",children:s?"Uploading...":"No image"}),d.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:m,disabled:s,className:"hidden",id:"page-image-upload"}),d.jsx("label",{htmlFor:"page-image-upload",className:`px-4 py-2 rounded-lg transition-colors cursor-pointer text-sm ${s?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:s?"Uploading...":"Upload Image"}),d.jsx("p",{className:"text-xs text-gray-500",children:e?"Image will be uploaded to your server":"Image will be stored locally (for demo)"})]})]}),d.jsxs("div",{className:"border-b border-gray-100 pb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tag"}),d.jsxs("select",{value:r.tag||"",onChange:b=>f("tag",b.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[d.jsx("option",{value:"",children:"Select a tag"}),u.map(b=>d.jsx("option",{value:b,children:b},b))]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Categorize your page with a tag"})]}),d.jsxs("div",{className:"border-b border-gray-100 pb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),d.jsx("select",{value:r.status||"draft",onChange:b=>f("status",b.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:y.map(b=>d.jsx("option",{value:b,children:b.charAt(0).toUpperCase()+b.slice(1)},b))}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set the publication status of this page"})]}),d.jsx("div",{className:"border-b border-gray-100 pb-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Show Component Menu"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Display the menu bar with delete button on each component"})]}),d.jsx("div",{className:"flex items-center",children:d.jsx("input",{type:"checkbox",checked:r.showMenubar,onChange:b=>f("showMenubar",b.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Margin"}),d.jsx("input",{type:"text",value:r.margin,onChange:b=>f("margin",b.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 0, 10px, 1rem"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Space around the entire page content"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Padding"}),d.jsx("input",{type:"text",value:r.padding,onChange:b=>f("padding",b.target.value),className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 20px, 2rem"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Space inside the page container"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx("input",{type:"color",value:r.background,onChange:b=>f("background",b.target.value),className:"w-12 h-12 border border-gray-300 rounded cursor-pointer"}),d.jsx("input",{type:"text",value:r.background,onChange:b=>f("background",b.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"#ffffff, rgb(255,255,255), etc."})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Background color for the main content area"})]})]}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Current Page Settings"}),d.jsxs("div",{className:"text-sm text-blue-700 grid grid-cols-2 gap-2",children:[d.jsxs("div",{children:["Menu Bar:"," ",d.jsx("code",{children:r.showMenubar?"Visible":"Hidden"})]}),d.jsxs("div",{children:["Tag: ",d.jsx("code",{children:r.tag||"Not set"})]}),d.jsxs("div",{children:["Status: ",d.jsx("code",{children:r.status||"draft"})]}),d.jsxs("div",{children:["Margin: ",d.jsx("code",{children:r.margin})]}),d.jsxs("div",{children:["Padding: ",d.jsx("code",{children:r.padding})]}),d.jsxs("div",{children:["Background: ",d.jsx("code",{children:r.background})]}),d.jsxs("div",{className:"col-span-2",children:["Image:"," ",d.jsx("code",{children:r.image?e?"Remote":"Local":"Not set"})]})]})]})]})};function Lm({onClick:e,icon:t,label:r,className:n="",successMessage:a="Success",errorMessage:i="Error"}){const[s,o]=I.useState(null),[c,u]=I.useState(!1),l=async()=>{u(!0),o(null);try{await e(),o({message:a,type:"success"})}catch{o({message:i,type:"error"})}finally{u(!1),setTimeout(()=>o(null),3e3)}};return d.jsxs("div",{className:"relative z-30",children:[d.jsx("button",{onClick:l,disabled:c,className:`p-2 rounded-lg transition flex items-center ${n} ${c?"opacity-70":""}`,children:c?d.jsx(ll,{className:"stack-btn-icon animate-spin"}):d.jsxs(d.Fragment,{children:[t,d.jsx("span",{className:"ml-1 text-sm sm:inline",children:r})]})}),s&&d.jsx("div",{className:`absolute top-full left-0 mt-1 w-full text-center px-2 py-1 rounded-md text-xs font-medium animate-fadeIn ${s.type==="success"?"bg-blue-500 text-white":"bg-red-100 text-red-800"}`,children:s.message})]})}function Bn({onClick:e,icon:t,tooltip:r,className:n=""}){return d.jsxs("div",{className:"relative group",children:[d.jsx("button",{onClick:e,className:`p-2 rounded-lg transition ${n}`,children:t}),d.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 hidden group-hover:block bg-black text-white text-xs rounded py-1 px-2 whitespace-nowrap z-10",children:[r,d.jsx("div",{className:"absolute bottom-full left-1/2 w-2 h-2 bg-black transform -translate-x-1/2 rotate-45 -mb-1"})]})]})}const Tz=()=>{const[e,t]=I.useState(!1);return I.useEffect(()=>{const r=()=>{t(window.innerWidth<=768)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),e},Az=({pageid:e,pageMode:t,onSaveLayout:r,onLoadLayout:n,componentMapProvider:a,componentPropsProvider:i,gobackList:s,onFileUpload:o,onGetTags:c,onApiCall:u,onCustomAction:l,onGetSelectOptions:f,children:m})=>{const[h,y]=I.useState(t),b=Tz(),[g,p]=I.useState(!b),[v,w]=I.useState(!1),x=I.useRef(!0),{activeTab:_,setActiveTab:T,pageAttributes:j,setPageAttributes:C,setSelectedInstance:O,setSelectedComponent:A,widgetProps:M}=Qr(),[L,W]=I.useState({...Zn(),id:e}),[z,G]=I.useState(),[F,ee]=I.useState(),[Z,te]=I.useState(0),[D,N]=I.useState(zi),P=I.useRef(null),[E,$]=I.useState(),[S,k]=I.useState(!1);I.useEffect(()=>{y(t)},[t]),I.useEffect(()=>{setTimeout(()=>{x.current&&b&&(x.current=!1,p(!b))},100)},[b]),I.useEffect(()=>{h==="preview"||h==="view"?C(H=>({...H,showMenubar:!1})):h==="edit"&&C(H=>({...H,showMenubar:!0}))},[h,C]);const V=I.useCallback(async H=>{const ue=await n(H)||Zn();return W(ue),G(ue.title),ee(ue.title),C(ue.pageAttributes||j),ue.grids},[n]),B=I.useCallback(async()=>{if(e){const H=await V(e);N(H),te(ue=>ue+1),tt(),console.log(`reload layout: pageid ${e}, props id ${L==null?void 0:L.id}`)}},[e,V]);I.useEffect(()=>{(async()=>{if(e)try{await B()}catch(ue){console.error("Failed to load layout:",ue)}})()},[e,B]);const se=()=>{s&&s()},ne=(H,ue)=>{if(!H)return H;const Et=Array.isArray(H)?H:H.children;if(!Et)return H;const Rt=Et.map(ze=>{if(ze.id&&ue.has(ze.id)){const Di=ue.get(ze.id);try{let Ot={name:"",props:{}};return ze.content&&(Ot=JSON.parse(ze.content)),Ot.props={...Ot.props,...Di},{...ze,content:JSON.stringify(Ot)}}catch(Ot){return console.error(`Error updating props for widget ${ze.id}:`,Ot),ze}}return ze});return Array.isArray(H)?Rt:{...H,children:Rt}},xe=async()=>{var H;if(r){let ue=(H=P.current)==null?void 0:H.saveLayout();if(console.log("****grid stack layout: ",ue),ue){ue=ne(ue,M);const Et={...L||Zn(),grids:ue,title:F,tag:j.tag,status:j.status,pageAttributes:j};console.log(`Saving layout: pageid ${e}, props id ${Et.id}`),await r(e,Et)}}},tt=()=>{A(null),O(null)},cr=()=>{confirm("Are you sure you want to clear all data? This cannot be undone.")&&(N(zi),te(H=>H+1),tt())},Ft=()=>{w(!0)},De=()=>{w(!1)},lr=H=>{H.key==="Enter"?De():H.key==="Escape"&&(ee(z),w(!1))},ur=(H,ue)=>{H.dataTransfer.setData("text/plain",ue),H.dataTransfer.effectAllowed="copy"},Yr=H=>{$(H)},qn=I.useCallback(H=>{const ue={id:H.id,type:H.name,props:H.props};O(ue),A(H.name),T("properties")},[O,A,T]),Gn=()=>{var ue;const H=JSON.parse(JSON.stringify(L));return H.grids=(ue=P.current)==null?void 0:ue.saveLayout(),H};I.useEffect(()=>{E&&P.current&&(E.name!=="SubGrid"?P.current.addWidget(H=>({...E,sizeToContent:!0,content:JSON.stringify({name:E.name,props:Cg(i)[E.name]})})):P.current.addSubGrid(H=>({...E,...Og})))},[E,i]);const Kn=b?{width:"100vw",minWidth:"100vw",height:"calc(100% - var(--stackpage-top-spacing, 60px))",top:"var(--stackpage-top-spacing, 60px)",zIndex:101}:{width:"400px",minWidth:"300px",height:"calc(100% - var(--stackpage-top-spacing, 60px))",top:"var(--stackpage-top-spacing, 60px)"},Hn={margin:j.margin,padding:j.padding,backgroundColor:j.background};return d.jsx(Xc,{initialOptions:D,children:d.jsxs("div",{className:"min-h-screen bg-white text-black flex flex-col",children:[h==="edit"&&d.jsx("header",{className:"mx-2 p-4 bg-white shadow relative",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center text-lg",children:[d.jsx("div",{className:"flex-1 mb-3 sm:mb-0 min-w-0",children:d.jsx("div",{className:"flex items-center gap-2",children:v?d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("input",{type:"text",value:F,onChange:H=>ee(H.target.value),onKeyDown:lr,onBlur:De,maxLength:100,className:"text-2xl font-bold border-b-2 border-blue-500 bg-transparent outline-none px-1",autoFocus:!0})}):d.jsxs("div",{className:"flex items-center gap-2 group",children:[d.jsx("h1",{className:"text-2xl font-bold truncate",children:F}),d.jsx("button",{onClick:Ft,className:"p-1 text-gray-400 hover:text-gray-600 group-hover:opacity-100 transition-opacity",children:d.jsx(Sg,{className:"stack-btn-icon"})})]})})}),d.jsxs("div",{className:"flex flex-wrap gap-1 justify-end",children:[d.jsx(Bn,{onClick:se,icon:d.jsx(pg,{className:"stack-btn-icon"}),tooltip:"Back to list",className:"bg-gray-200 hover:bg-gray-300"}),d.jsx(Bn,{onClick:()=>y("preview"),icon:d.jsx(wg,{className:"stack-btn-icon"}),tooltip:"Preview",className:"bg-purple-600 hover:bg-purple-700 text-white"}),d.jsx(Lm,{onClick:xe,icon:d.jsx(bg,{className:"stack-btn-icon"}),label:"Save",className:"bg-green-600 hover:bg-green-700 text-white",successMessage:"Saved successfully!",errorMessage:"Save failed"}),d.jsx(Lm,{onClick:B,icon:d.jsx(ll,{className:"stack-btn-icon"}),label:"Reload",className:"bg-green-600 hover:bg-green-700 text-white",successMessage:"Reloaded successfully",errorMessage:"Failed to reload"}),d.jsx(Bn,{onClick:cr,icon:d.jsx(Ng,{className:"stack-btn-icon"}),tooltip:"Clear all data",className:"bg-red-600 hover:bg-red-700 text-white"}),d.jsx(Bn,{onClick:()=>k(!0),icon:d.jsx(xg,{className:"stack-btn-icon"}),tooltip:"Page Info & Settings",className:"bg-indigo-600 hover:bg-indigo-700 text-white"}),!b&&d.jsx(Bn,{onClick:()=>p(!g),icon:g?d.jsx(dl,{className:"stack-btn-icon"}):d.jsx(ul,{className:"stack-btn-icon"}),tooltip:g?"Hide Editor":"Show Editor",className:"bg-gray-200 hover:bg-gray-300"})]})]})}),d.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[d.jsx("div",{className:`flex-1 transition-all duration-200 ${g&&h==="edit"?"overflow-auto":"overflow-hidden"}`,style:Hn,children:d.jsx("div",{className:"h-full",children:d.jsx("div",{className:"bg-white rounded-lg shadow h-full flex flex-col",children:d.jsxs("div",{className:`flex-1 relative p-0 grid-stack-mode-${h}`,children:[d.jsx(Tg,{ref:P}),d.jsx(nl,{onGridStackDropEvent:Yr,children:d.jsx(sl,{componentMap:hl(a),showMenubar:j.showMenubar,onWidgetSelect:qn})}),m]})})})}),h==="edit"&&g&&d.jsxs(d.Fragment,{children:[b&&d.jsx("div",{className:"relative inset-0 bg-black bg-opacity-50 z-40 stack-tab-panel-top-mobile",onClick:()=>p(!1)}),d.jsxs("div",{className:`flex flex-col bg-white shadow-lg border-l border-gray-200 ${b?"fixed right-0 bottom-0 transform transition-transform duration-300":"relative"}`,style:Kn,children:[b&&d.jsx("div",{className:"absolute top-4 right-4 z-10",children:d.jsx("button",{onClick:()=>p(!1),className:"p-2 bg-gray-200 rounded-full hover:bg-gray-300 transition-colors",children:d.jsx(dl,{className:"stack-btn-icon"})})}),d.jsx("div",{className:"flex border-b border-gray-200 pt-4 px-4",children:["components","properties","page"].map(H=>d.jsx("button",{className:`flex-1 py-3 px-4 text-sm font-medium capitalize transition-colors ${_===H?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,onClick:()=>T(H),children:H},H))}),d.jsxs("div",{className:"flex-1 overflow-y-auto pb-4",children:[d.jsx("div",{style:{display:_==="components"?"block":"none"},children:d.jsx(Oz,{componentMapProvider:a,onDragStart:ur})}),d.jsx("div",{style:{display:_==="properties"?"block":"none"},children:d.jsx(Sz,{onFileUpload:o,onApiCall:u,onCustomAction:l,onGetSelectOptions:f})}),d.jsx("div",{style:{display:_==="page"?"block":"none"},children:d.jsx(Cz,{onFileUpload:o,onGetTags:c})})]})]})]})]}),h==="edit"&&b&&!g&&d.jsx("div",{className:"fixed bottom-4 right-4 z-30",children:d.jsx("button",{onClick:()=>p(!0),className:"p-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:d.jsx(ul,{className:"stack-btn-icon"})})}),h==="preview"&&d.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:d.jsx("div",{className:"absolute bottom-8 right-8 pointer-events-auto",children:d.jsxs("button",{onClick:()=>y("edit"),className:"flex items-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 group",title:"Return to Edit Mode",children:[d.jsx(cl,{className:"stack-btn-icon group-hover:animate-bounce"}),d.jsx("span",{className:"text-sm font-medium",children:"Edit Mode"})]})})}),h==="view"&&d.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:d.jsx("div",{className:"absolute bottom-8 right-8 pointer-events-auto",children:d.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 group",title:"Back to List",children:[d.jsx(cl,{className:"stack-btn-icon group-hover:animate-bounce"}),d.jsx("span",{className:"text-sm font-medium",children:"Back to List"})]})})}),d.jsx(Pg,{isOpen:S,pageInfo:Gn(),resetOpenInfo:k})]})},Z)},Pz=e=>d.jsx(kg,{children:d.jsx(Az,{...e})});re.GridStackProvider=Xc,re.GridStackRender=sl,re.GridStackRenderProvider=nl,re.LocaleProvider=ug,re.StackPage=Pz,re.getDefaultPageProps=Zn,re.useGridStackContext=dr,re.useGridStackWidgetContext=ng,re.useLocale=lg,Object.defineProperty(re,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=stackpage.umd.js.map
